(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5606],{5606:(oc,Fs,B)=>{"use strict";B.r(Fs),B.d(Fs,{AdminDashboardPageModule:()=>ap});var _e=B(177),J=B(4742),ki=B(9166),gt=B(467),j=B(9842);function et(n){return n+.5|0}const ve=(n,t,e)=>Math.max(Math.min(n,e),t);function ke(n){return ve(et(2.55*n),0,255)}function zt(n){return ve(et(255*n),0,255)}function ce(n){return ve(et(n/2.55)/100,0,1)}function Ve(n){return ve(et(100*n),0,100)}const ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nn=[..."0123456789ABCDEF"],Ko=n=>nn[15&n],Bs=n=>nn[(240&n)>>4]+nn[15&n],Ut=n=>(240&n)>>4==(15&n);const js=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function on(n,t,e){const i=t*Math.min(e,1-e),o=(r,a=(r+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function Hs(n,t,e){const i=(o,r=(o+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Zt(n,t,e){const i=on(n,1,.5);let o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)i[o]*=1-t-e,i[o]+=t;return i}function An(n){const e=n.r/255,i=n.g/255,o=n.b/255,r=Math.max(e,i,o),a=Math.min(e,i,o),c=(r+a)/2;let h,u,f;return r!==a&&(f=r-a,u=c>.5?f/(2-r-a):f/(r+a),h=function ne(n,t,e,i,o){return n===o?(t-e)/i+(t<e?6:0):t===o?(e-n)/i+2:(n-t)/i+4}(e,i,o,f,r),h=60*h+.5),[0|h,u||0,c]}function he(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(zt)}function In(n,t,e){return he(on,n,t,e)}function $(n){return(n%360+360)%360}const jt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ht={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ht;const Oe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ei=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Ze=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function pi(n,t,e){if(n){let i=An(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=In(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Us(n,t){return n&&Object.assign(t||{},n)}function zn(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=zt(n[3]))):(t=Us(n,{r:0,g:0,b:0,a:1})).a=zt(t.a),t}function Zs(n){return"r"===n.charAt(0)?function Ue(n){const t=Oe.exec(n);let i,o,r,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?ke(a):ve(255*a,0,255)}return i=+t[1],o=+t[3],r=+t[5],i=255&(t[2]?ke(i):ve(i,0,255)),o=255&(t[4]?ke(o):ve(o,0,255)),r=255&(t[6]?ke(r):ve(r,0,255)),{r:i,g:o,b:r,a:e}}}(n):function Ws(n){const t=js.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?ke(+t[5]):zt(+t[5]));const o=$(+t[2]),r=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function Jt(n,t,e){return he(Zt,n,t,e)}(o,r,a):"hsv"===t[1]?function Oi(n,t,e){return he(Hs,n,t,e)}(o,r,a):In(o,r,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class Ge{constructor(t){if(t instanceof Ge)return t;const e=typeof t;let i;"object"===e?i=zn(t):"string"===e&&(i=function sn(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*ot[n[1]],g:255&17*ot[n[2]],b:255&17*ot[n[3]],a:5===t?17*ot[n[4]]:255}:(7===t||9===t)&&(e={r:ot[n[1]]<<4|ot[n[2]],g:ot[n[3]]<<4|ot[n[4]],b:ot[n[5]]<<4|ot[n[6]],a:9===t?ot[n[7]]<<4|ot[n[8]]:255})),e}(t)||function at(n){ht||(ht=function Ot(){const n={},t=Object.keys(Ht),e=Object.keys(jt);let i,o,r,a,c;for(i=0;i<t.length;i++){for(a=c=t[i],o=0;o<e.length;o++)r=e[o],c=c.replace(r,jt[r]);r=parseInt(Ht[a],16),n[c]=[r>>16&255,r>>8&255,255&r]}return n}(),ht.transparent=[0,0,0,0]);const t=ht[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Zs(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Us(this._rgb);return t&&(t.a=ce(t.a)),t}set rgb(t){this._rgb=zn(t)}rgbString(){return this._valid?function Vs(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ce(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ns(n){var t=(n=>Ut(n.r)&&Ut(n.g)&&Ut(n.b)&&Ut(n.a))(n)?Ko:Bs;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function wt(n){if(!n)return;const t=An(n),e=t[0],i=Ve(t[1]),o=Ve(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${o}%, ${ce(n.a)})`:`hsl(${e}, ${i}%, ${o}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,o=t.rgb;let r;const a=e===r?.5:e,c=2*a-1,h=i.a-o.a,u=((c*h==-1?c:(c+h)/(1+c*h))+1)/2;r=1-u,i.r=255&u*i.r+r*o.r+.5,i.g=255&u*i.g+r*o.g+.5,i.b=255&u*i.b+r*o.b+.5,i.a=a*i.a+(1-a)*o.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function Ti(n,t,e){const i=Ze(ce(n.r)),o=Ze(ce(n.g)),r=Ze(ce(n.b));return{r:zt(Ei(i+e*(Ze(ce(t.r))-i))),g:zt(Ei(o+e*(Ze(ce(t.g))-o))),b:zt(Ei(r+e*(Ze(ce(t.b))-r))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Ge(this.rgb)}alpha(t){return this._rgb.a=zt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=et(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return pi(this._rgb,2,t),this}darken(t){return pi(this._rgb,2,-t),this}saturate(t){return pi(this._rgb,1,t),this}desaturate(t){return pi(this._rgb,1,-t),this}rotate(t){return function Y(n,t){var e=An(n);e[0]=$(e[0]+t),e=In(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Ee(){}const Gs=(()=>{let n=0;return()=>n++})();function rt(n){return null===n||typeof n>"u"}function pt(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function it(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function Pt(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Qt(n,t){return Pt(n)?n:t}function X(n,t){return typeof n>"u"?t:n}const Bn=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function mt(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function dt(n,t,e,i){let o,r,a;if(pt(n))if(r=n.length,i)for(o=r-1;o>=0;o--)t.call(e,n[o],o);else for(o=0;o<r;o++)t.call(e,n[o],o);else if(it(n))for(a=Object.keys(n),r=a.length,o=0;o<r;o++)t.call(e,n[a[o]],a[o])}function Di(n,t){let e,i,o,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(o=n[e],r=t[e],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function rn(n){if(pt(n))return n.map(rn);if(it(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let o=0;for(;o<i;++o)t[e[o]]=rn(n[e[o]]);return t}return n}function Nn(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function jn(n,t,e,i){if(!Nn(n))return;const o=t[n],r=e[n];it(o)&&it(r)?mi(o,r,i):t[n]=rn(r)}function mi(n,t,e){const i=pt(t)?t:[t],o=i.length;if(!it(n))return n;const r=(e=e||{}).merger||jn;let a;for(let c=0;c<o;++c){if(a=i[c],!it(a))continue;const h=Object.keys(a);for(let u=0,f=h.length;u<f;++u)r(h[u],n,a,e)}return n}function Li(n,t){return mi(n,t,{merger:Ri})}function Ri(n,t,e){if(!Nn(n))return;const i=t[n],o=e[n];it(i)&&it(o)?Li(i,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=rn(o))}const Xs={"":n=>n,x:n=>n.x,y:n=>n.y};function Te(n,t){return(Xs[t]||(Xs[t]=function qs(n){const t=function $s(n){const t=n.split("."),e=[];let i="";for(const o of t)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function Hn(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ai=n=>typeof n<"u",Ye=n=>"function"==typeof n,Ks=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},bt=Math.PI,ft=2*bt,Qo=ft+bt,an=Number.POSITIVE_INFINITY,tr=bt/180,Ct=bt/2,Bt=bt/4,U=2*bt/3,De=Math.log10,de=Math.sign;function _i(n,t,e){return Math.abs(n-t)<e}function Wn(n){const t=Math.round(n);n=_i(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(De(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function ti(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Un(n,t,e){let i,o,r;for(i=0,o=n.length;i<o;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ue(n){return n*(bt/180)}function Zn(n){return n*(180/bt)}function Js(n){if(!Pt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Qs(n,t){const e=t.x-n.x,i=t.y-n.y,o=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*bt&&(r+=ft),{angle:r,distance:o}}function ln(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function er(n,t){return(n-t+Qo)%ft-bt}function Nt(n){return(n%ft+ft)%ft}function Ii(n,t,e,i){const o=Nt(n),r=Nt(t),a=Nt(e),c=Nt(r-o),h=Nt(a-o),u=Nt(o-r),f=Nt(o-a);return o===r||o===a||i&&r===a||c>h&&u<f}function Lt(n,t,e){return Math.max(t,Math.min(e,n))}function Le(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Gn(n,t,e){e=e||(a=>n[a]<t);let r,i=n.length-1,o=0;for(;i-o>1;)r=o+i>>1,e(r)?o=r:i=r;return{lo:o,hi:i}}const fe=(n,t,e,i)=>Gn(n,e,i?o=>{const r=n[o][t];return r<e||r===e&&n[o+1][t]===e}:o=>n[o][t]<e),zi=(n,t,e)=>Gn(n,e,i=>n[i][t]>=e),Yn=["push","pop","shift","splice","unshift"];function ct(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,o=i.indexOf(t);-1!==o&&i.splice(o,1),!(i.length>0)&&(Yn.forEach(r=>{delete n[r]}),delete n._chartjs)}function yt(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ei=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function ii(n,t){let e=[],i=!1;return function(...o){e=o,i||(i=!0,ei.call(window,()=>{i=!1,n.apply(t,e)}))}}const q=n=>"start"===n?"left":"end"===n?"right":"center",nt=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Bi(n,t,e){const i=t.length;let o=0,r=i;if(n._sorted){const{iScale:a,_parsed:c}=n,h=a.axis,{min:u,max:f,minDefined:m,maxDefined:v}=a.getUserBounds();m&&(o=Lt(Math.min(fe(c,h,u).lo,e?i:fe(t,h,a.getPixelForValue(u)).lo),0,i-1)),r=v?Lt(Math.max(fe(c,a.axis,f,!0).hi+1,e?0:fe(t,h,a.getPixelForValue(f),!0).hi+1),o,i)-o:i-o}return{start:o,count:r}}function te(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=o,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,o),r}const cn=n=>0===n||1===n,Ni=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*ft/e),Xe=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ft/e)+1,xt={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Ct),easeOutSine:n=>Math.sin(n*Ct),easeInOutSine:n=>-.5*(Math.cos(bt*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>cn(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>cn(n)?n:Ni(n,.075,.3),easeOutElastic:n=>cn(n)?n:Xe(n,.075,.3),easeInOutElastic:n=>cn(n)?n:n<.5?.5*Ni(2*n,.1125,.45):.5+.5*Xe(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-xt.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*xt.easeInBounce(2*n):.5*xt.easeOutBounce(2*n-1)+.5};function Re(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function bi(n){return Re(n)?n:new Ge(n)}function ni(n){return Re(n)?n:new Ge(n).saturate(.5).darken(.1).hexString()}const Kn=["x","y","borderWidth","radius","tension"],ji=["color","borderColor","backgroundColor"],Hi=new Map;function si(n,t,e){return function ts(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Hi.get(e);return i||(i=new Intl.NumberFormat(n,t),Hi.set(e,i)),i}(t,e).format(n)}const Wi={values:n=>pt(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let o,r=n;if(e.length>1){const u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(o="scientific"),r=function eo(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=De(Math.abs(r)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:o,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),si(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(De(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?Wi.numeric.call(this,n,t,e):""}};var yi={formatters:Wi};const G=Object.create(null),se=Object.create(null);function ut(n,t){if(!t)return n;const e=t.split(".");for(let i=0,o=e.length;i<o;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function hn(n,t,e){return"string"==typeof t?mi(ut(n,t),e):mi(ut(n,""),t)}class es{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>ni(o.backgroundColor),this.hoverBorderColor=(i,o)=>ni(o.borderColor),this.hoverColor=(i,o)=>ni(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return hn(this,t,e)}get(t){return ut(this,t)}describe(t,e){return hn(se,t,e)}override(t,e){return hn(G,t,e)}route(t,e,i,o){const r=ut(this,t),a=ut(this,i),c="_"+e;Object.defineProperties(r,{[c]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[c],u=a[o];return it(h)?Object.assign({},u,h):X(h,u)},set(h){this[c]=h}}})}apply(t){t.forEach(e=>e(this))}}var _t=new es({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Jn(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:ji},numbers:{type:"number",properties:Kn}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function Qn(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function nr(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function be(n,t,e,i,o){let r=t[o];return r||(r=t[o]=n.measureText(o).width,e.push(o)),r>i&&(i=r),i}function ns(n,t,e,i){let o=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(o=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const c=e.length;let h,u,f,m,v;for(h=0;h<c;h++)if(m=e[h],null==m||pt(m)){if(pt(m))for(u=0,f=m.length;u<f;u++)v=m[u],null!=v&&!pt(v)&&(a=be(n,o,r,a,v))}else a=be(n,o,r,a,m);n.restore();const b=r.length/2;if(b>e.length){for(h=0;h<b;h++)delete o[r[h]];r.splice(0,b)}return a}function ge(n,t,e){const i=n.currentDevicePixelRatio,o=0!==e?Math.max(e/2,.5):0;return Math.round((t-o)*i)/i+o}function Rt(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ae(n,t,e,i){ss(n,t,e,i,null)}function ss(n,t,e,i,o){let r,a,c,h,u,f,m,v;const b=t.pointStyle,P=t.rotation,w=t.radius;let M=(P||0)*tr;if(b&&"object"==typeof b&&(r=b.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,i),n.rotate(M),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),void n.restore();if(!(isNaN(w)||w<=0)){switch(n.beginPath(),b){default:o?n.ellipse(e,i,o/2,w,0,0,ft):n.arc(e,i,w,0,ft),n.closePath();break;case"triangle":f=o?o/2:w,n.moveTo(e+Math.sin(M)*f,i-Math.cos(M)*w),M+=U,n.lineTo(e+Math.sin(M)*f,i-Math.cos(M)*w),M+=U,n.lineTo(e+Math.sin(M)*f,i-Math.cos(M)*w),n.closePath();break;case"rectRounded":u=.516*w,h=w-u,a=Math.cos(M+Bt)*h,m=Math.cos(M+Bt)*(o?o/2-u:h),c=Math.sin(M+Bt)*h,v=Math.sin(M+Bt)*(o?o/2-u:h),n.arc(e-m,i-c,u,M-bt,M-Ct),n.arc(e+v,i-a,u,M-Ct,M),n.arc(e+m,i+c,u,M,M+Ct),n.arc(e-v,i+a,u,M+Ct,M+bt),n.closePath();break;case"rect":if(!P){h=Math.SQRT1_2*w,f=o?o/2:h,n.rect(e-f,i-h,2*f,2*h);break}M+=Bt;case"rectRot":m=Math.cos(M)*(o?o/2:w),a=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,i-c),n.lineTo(e+v,i-a),n.lineTo(e+m,i+c),n.lineTo(e-v,i+a),n.closePath();break;case"crossRot":M+=Bt;case"cross":m=Math.cos(M)*(o?o/2:w),a=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,i-c),n.lineTo(e+m,i+c),n.moveTo(e+v,i-a),n.lineTo(e-v,i+a);break;case"star":m=Math.cos(M)*(o?o/2:w),a=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,i-c),n.lineTo(e+m,i+c),n.moveTo(e+v,i-a),n.lineTo(e-v,i+a),M+=Bt,m=Math.cos(M)*(o?o/2:w),a=Math.cos(M)*w,c=Math.sin(M)*w,v=Math.sin(M)*(o?o/2:w),n.moveTo(e-m,i-c),n.lineTo(e+m,i+c),n.moveTo(e+v,i-a),n.lineTo(e-v,i+a);break;case"line":a=o?o/2:Math.cos(M)*w,c=Math.sin(M)*w,n.moveTo(e-a,i-c),n.lineTo(e+a,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(o?o/2:w),i+Math.sin(M)*w);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function ye(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function dn(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Vi(n){n.restore()}function os(n,t,e,i,o){if(!t)return n.lineTo(e.x,e.y);if("middle"===o){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else"after"===o!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function sr(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function lt(n,t,e,i,o){if(o.strikethrough||o.underline){const r=n.measureText(i),a=t-r.actualBoundingBoxLeft,c=t+r.actualBoundingBoxRight,u=e+r.actualBoundingBoxDescent,f=o.strikethrough?(e-r.actualBoundingBoxAscent+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(a,f),n.lineTo(c,f),n.stroke()}}function or(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ft(n,t,e,i,o,r={}){const a=pt(t)?t:[t],c=r.strokeWidth>0&&""!==r.strokeColor;let h,u;for(n.save(),n.font=o.string,function io(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),rt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,r),h=0;h<a.length;++h)u=a[h],r.backdrop&&or(n,r.backdrop),c&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),rt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(u,e,i,r.maxWidth)),n.fillText(u,e,i,r.maxWidth),lt(n,e,i,u,r),i+=Number(o.lineHeight);n.restore()}function Ie(n,t){const{x:e,y:i,w:o,h:r,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*bt,bt,!0),n.lineTo(e,i+r-a.bottomLeft),n.arc(e+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,bt,Ct,!0),n.lineTo(e+o-a.bottomRight,i+r),n.arc(e+o-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Ct,0,!0),n.lineTo(e+o,i+a.topRight),n.arc(e+o-a.topRight,i+a.topRight,a.topRight,0,-Ct,!0),n.lineTo(e+a.topLeft,i)}const no=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rs(n,t){const e=(""+n).match(no);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const ar=n=>+n||0;function un(n,t){const e={},i=it(t),o=i?Object.keys(t):t,r=it(n)?i?a=>X(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of o)e[a]=ar(r(a));return e}function so(n){return un(n,{top:"y",right:"x",bottom:"y",left:"x"})}function oi(n){return un(n,["topLeft","topRight","bottomLeft","bottomRight"])}function At(n){const t=so(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Tt(n,t){let e=X((n=n||{}).size,(t=t||_t.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=X(n.style,t.style);i&&!(""+i).match(rr)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:X(n.family,t.family),lineHeight:rs(X(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:X(n.weight,t.weight),string:""};return o.string=function is(n){return!n||rt(n.size)||rt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(o),o}function Gt(n,t,e,i){let r,a,c,o=!0;for(r=0,a=n.length;r<a;++r)if(c=n[r],void 0!==c&&(void 0!==t&&"function"==typeof c&&(c=c(t),o=!1),void 0!==e&&pt(c)&&(c=c[e%c.length],o=!1),void 0!==c))return i&&!o&&(i.cacheable=!1),c}function ze(n,t){return Object.assign(Object.create(n),t)}function xe(n,t=[""],e,i,o=()=>n[0]){const r=e||n;typeof i>"u"&&(i=xi("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:o,override:c=>xe([c,...n],t,r,i)};return new Proxy(a,{deleteProperty:(c,h)=>(delete c[h],delete c._keys,delete n[0][h],!0),get:(c,h)=>hs(c,h,()=>function ur(n,t,e,i){let o;for(const r of t)if(o=xi(ls(r,n),e),typeof o<"u")return cs(n,o)?gn(e,i,n,o):o}(h,t,n,c)),getOwnPropertyDescriptor:(c,h)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],h),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,h)=>ee(c).includes(h),ownKeys:c=>ee(c),set(c,h,u){const f=c._storage||(c._storage=o());return c[h]=f[h]=u,delete c._keys,!0}})}function ri(n,t,e,i){const o={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:as(n,i),setContext:r=>ri(n,r,e,i),override:r=>ri(n.override(r),t,e,i)};return new Proxy(o,{deleteProperty:(r,a)=>(delete r[a],delete n[a],!0),get:(r,a,c)=>hs(r,a,()=>function oo(n,t,e){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;let c=i[t];return Ye(c)&&a.isScriptable(t)&&(c=function cr(n,t,e,i){const{_proxy:o,_context:r,_subProxy:a,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=t(r,a||i);return c.delete(n),cs(n,h)&&(h=gn(o._scopes,o,n,h)),h}(t,c,n,e)),pt(c)&&c.length&&(c=function hr(n,t,e,i){const{_proxy:o,_context:r,_subProxy:a,_descriptors:c}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(it(t[0])){const h=t,u=o._scopes.filter(f=>f!==h);t=[];for(const f of h){const m=gn(u,o,n,f);t.push(ri(m,r,a&&a[n],c))}}return t}(t,c,n,a.isIndexable)),cs(t,c)&&(c=ri(c,o,r&&r[t],a)),c}(r,a,c)),getOwnPropertyDescriptor:(r,a)=>r._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(r,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(r,a,c)=>(n[a]=c,delete r[a],!0)})}function as(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:e,indexable:i,isScriptable:Ye(e)?e:()=>e,isIndexable:Ye(i)?i:()=>i}}const ls=(n,t)=>n?n+Hn(t):t,cs=(n,t)=>it(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function hs(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const i=e();return n[t]=i,i}function fn(n,t,e){return Ye(n)?n(t,e):n}const dr=(n,t)=>!0===n?t:"string"==typeof n?Te(t,n):void 0;function ro(n,t,e,i,o){for(const r of t){const a=dr(e,r);if(a){n.add(a);const c=fn(a._fallback,e,o);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(!1===a&&typeof i<"u"&&e!==i)return null}return!1}function gn(n,t,e,i){const o=t._rootScopes,r=fn(t._fallback,e,i),a=[...n,...o],c=new Set;c.add(i);let h=Ui(c,a,e,r||e,i);return!(null===h||typeof r<"u"&&r!==e&&(h=Ui(c,a,r,h,i),null===h))&&xe(Array.from(c),[""],o,r,()=>function ai(n,t,e){const i=n._getTarget();t in i||(i[t]={});const o=i[t];return pt(o)&&it(e)?e:o||{}}(t,e,i))}function Ui(n,t,e,i,o){for(;e;)e=ro(n,t,e,i,o);return e}function xi(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function ee(n){let t=n._keys;return t||(t=n._keys=function ao(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function ds(n,t,e,i){const{iScale:o}=n,{key:r="r"}=this._parsing,a=new Array(i);let c,h,u,f;for(c=0,h=i;c<h;++c)u=c+e,f=t[u],a[c]={r:o.parse(Te(f,r),u)};return a}const fr=Number.EPSILON||1e-14,$e=(n,t)=>t<n.length&&!n[t].skip&&n[t],pn=n=>"x"===n?"y":"x";function gr(n,t,e,i){const o=n.skip?t:n,r=t,a=e.skip?t:e,c=ln(r,o),h=ln(a,r);let u=c/(c+h),f=h/(c+h);u=isNaN(u)?0:u,f=isNaN(f)?0:f;const m=i*u,v=i*f;return{previous:{x:r.x-m*(a.x-o.x),y:r.y-m*(a.y-o.y)},next:{x:r.x+v*(a.x-o.x),y:r.y+v*(a.y-o.y)}}}function Yt(n,t,e){return Math.max(Math.min(n,e),t)}function _r(n,t,e,i,o){let r,a,c,h;if(t.spanGaps&&(n=n.filter(u=>!u.skip)),"monotone"===t.cubicInterpolationMode)!function mr(n,t="x"){const e=pn(t),i=n.length,o=Array(i).fill(0),r=Array(i);let a,c,h,u=$e(n,0);for(a=0;a<i;++a)if(c=h,h=u,u=$e(n,a+1),h){if(u){const f=u[t]-h[t];o[a]=0!==f?(u[e]-h[e])/f:0}r[a]=c?u?de(o[a-1])!==de(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}(function pr(n,t,e){const i=n.length;let o,r,a,c,h,u=$e(n,0);for(let f=0;f<i-1;++f)if(h=u,u=$e(n,f+1),h&&u){if(_i(t[f],0,fr)){e[f]=e[f+1]=0;continue}o=e[f]/t[f],r=e[f+1]/t[f],c=Math.pow(o,2)+Math.pow(r,2),!(c<=9)&&(a=3/Math.sqrt(c),e[f]=o*a*t[f],e[f+1]=r*a*t[f])}})(n,o,r),function lo(n,t,e="x"){const i=pn(e),o=n.length;let r,a,c,h=$e(n,0);for(let u=0;u<o;++u){if(a=c,c=h,h=$e(n,u+1),!c)continue;const f=c[e],m=c[i];a&&(r=(f-a[e])/3,c[`cp1${e}`]=f-r,c[`cp1${i}`]=m-r*t[u]),h&&(r=(h[e]-f)/3,c[`cp2${e}`]=f+r,c[`cp2${i}`]=m+r*t[u])}}(n,r,t)}(n,o);else{let u=i?n[n.length-1]:n[0];for(r=0,a=n.length;r<a;++r)c=n[r],h=gr(u,c,n[Math.min(r+1,a-(i?0:1))%a],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,u=c}t.capBezierPoints&&function wi(n,t){let e,i,o,r,a,c=ye(n[0],t);for(e=0,i=n.length;e<i;++e)a=r,r=c,c=e<i-1&&ye(n[e+1],t),r&&(o=n[e],a&&(o.cp1x=Yt(o.cp1x,t.left,t.right),o.cp1y=Yt(o.cp1y,t.top,t.bottom)),c&&(o.cp2x=Yt(o.cp2x,t.left,t.right),o.cp2y=Yt(o.cp2y,t.top,t.bottom)))}(n,e)}function pe(){return typeof window<"u"&&typeof document<"u"}function us(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Fe(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const mn=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),co=["top","right","bottom","left"];function we(n,t,e){const i={};e=e?"-"+e:"";for(let o=0;o<4;o++){const r=co[o];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const vr=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Pe(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,o=mn(e),r="border-box"===o.boxSizing,a=we(o,"padding"),c=we(o,"border","width"),{x:h,y:u,box:f}=function qe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:o,offsetY:r}=i;let c,h,a=!1;if(vr(o,r,n.target))c=o,h=r;else{const u=t.getBoundingClientRect();c=i.clientX-u.left,h=i.clientY-u.top,a=!0}return{x:c,y:h,box:a}}(n,e),m=a.left+(f&&c.left),v=a.top+(f&&c.top);let{width:b,height:P}=t;return r&&(b-=a.width+c.width,P-=a.height+c.height),{x:Math.round((h-m)/b*e.width/i),y:Math.round((u-v)/P*e.height/i)}}const Pi=n=>Math.round(10*n)/10;function Me(n,t,e){const i=t||1,o=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==o||a.width!==r)&&(n.currentDevicePixelRatio=i,a.height=o,a.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0)}const xr=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};pe()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function li(n,t){const e=function Zi(n,t){return mn(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ci(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Be(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function _n(n,t,e,i){const o={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},a=ci(n,o,e),c=ci(o,r,e),h=ci(r,t,e),u=ci(a,c,e),f=ci(c,h,e);return ci(u,f,e)}function Ne(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function vn(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Gi(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function hi(n){return"angle"===n?{between:Ii,compare:er,normalize:Nt}:{between:Le,compare:(t,e)=>t-e,normalize:t=>t}}function Yi({start:n,end:t,count:e,loop:i,style:o}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:o}}function ps(n,t,e){if(!e)return[n];const{property:i,start:o,end:r}=e,a=t.length,{compare:c,between:h,normalize:u}=hi(i),{start:f,end:m,loop:v,style:b}=function gs(n,t,e){const{property:i,start:o,end:r}=e,{between:a,normalize:c}=hi(i),h=t.length;let v,b,{start:u,end:f,loop:m}=n;if(m){for(u+=h,f+=h,v=0,b=h;v<b&&a(c(t[u%h][i]),o,r);++v)u--,f--;u%=h,f%=h}return f<u&&(f+=h),{start:u,end:f,loop:m,style:n.style}}(n,t,e),P=[];let k,E,A,w=!1,M=null;for(let N=f,V=f;N<=m;++N)E=t[N%a],!E.skip&&(k=u(E[i]),k!==A&&(w=h(k,o,r),null===M&&(w||h(o,A,k)&&0!==c(o,A))&&(M=0===c(k,o)?N:V),null!==M&&(!w||0===c(r,k)||h(r,A,k))&&(P.push(Yi({start:M,end:N,loop:v,count:a,style:b})),M=null),V=N,A=k));return null!==M&&P.push(Yi({start:M,end:m,loop:v,count:a,style:b})),P}function uo(n,t){const e=[],i=n.segments;for(let o=0;o<i.length;o++){const r=ps(i[o],n.points,t);r.length&&e.push(...r)}return e}function mo(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Ce(n,t){if(!t)return!1;const e=[],i=function(o,r){return Re(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class yn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,o){const a=e.duration;e.listeners[o].forEach(c=>c({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=ei.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const r=i.items;let h,a=r.length-1,c=!1;for(;a>=0;--a)h=r[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(r[a]=r[r.length-1],r.pop());c&&(o.draw(),this._notify(o,i,t,"progress")),r.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var je=new yn;const Xi="transparent",Pr={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=bi(n||Xi),o=i.valid&&bi(t||Xi);return o&&o.valid?o.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class _o{constructor(t,e,i,o){const r=e[i];o=Gt([t.to,o,r,t.from]);const a=Gt([t.from,r,o]);this._active=!0,this._fn=t.fn||Pr[t.type||typeof a],this._easing=xt[t.easing]||xt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const o=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Gt([t.to,e,o,t.from]),this._from=Gt([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,o=this._prop,r=this._from,a=this._loop,c=this._to;let h;if(this._active=r!==c&&(a||e<i),!this._active)return this._target[o]=c,void this._notify(!0);e<0?this._target[o]=r:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(r,c,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}}class vo{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!it(t))return;const e=Object.keys(_t.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const r=t[o];if(!it(r))return;const a={};for(const c of e)a[c]=r[c];(pt(r.properties)&&r.properties||[o]).forEach(c=>{(c===o||!i.has(c))&&i.set(c,a)})})}_animateOptions(t,e){const i=e.options,o=function Mr(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!o)return[];const r=this._createAnimations(o,i);return i.$shared&&function $i(n,t){const e=[],i=Object.keys(t);for(let o=0;o<i.length;o++){const r=n[i[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,o=[],r=t.$animations||(t.$animations={}),a=Object.keys(e),c=Date.now();let h;for(h=a.length-1;h>=0;--h){const u=a[h];if("$"===u.charAt(0))continue;if("options"===u){o.push(...this._animateOptions(t,e));continue}const f=e[u];let m=r[u];const v=i.get(u);if(m){if(v&&m.active()){m.update(v,f,c);continue}m.cancel()}v&&v.duration?(r[u]=m=new _o(v,t,u,f),o.push(m)):t[u]=f}return o}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(je.add(this._chart,i),!0):void 0}}function di(n,t){const e=n&&n.options||{},i=e.reverse,o=void 0===e.min?t:0,r=void 0===e.max?t:0;return{start:i?r:o,end:i?o:r}}function xo(n,t){const e=[],i=n._getSortedDatasetMetas(t);let o,r;for(o=0,r=i.length;o<r;++o)e.push(i[o].index);return e}function Se(n,t,e,i={}){const o=n.keys,r="single"===i.mode;let a,c,h,u;if(null===t)return;let f=!1;for(a=0,c=o.length;a<c;++a){if(h=+o[a],h===e){if(f=!0,i.all)continue;break}u=n.values[h],Pt(u)&&(r||0===t||de(t)===de(u))&&(t+=u)}return f||i.all?t:0}function xn(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function wn(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Mi(n,t,e,i){for(const o of t.getMatchingVisibleMetas(i).reverse()){const r=n[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function ms(n,t){const{chart:e,_cachedMeta:i}=n,o=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:c}=i,h=r.axis,u=a.axis,f=function qi(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(r,a,i),m=t.length;let v;for(let b=0;b<m;++b){const P=t[b],{[h]:w,[u]:M}=P;v=(P._stacks||(P._stacks={}))[u]=wn(o,f,w),v[c]=M,v._top=Mi(v,a,!0,i.type),v._bottom=Mi(v,a,!1,i.type),(v._visualValues||(v._visualValues={}))[c]=M}}function Pn(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ci(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const o of t){const r=o._stacks;if(!r||void 0===r[i]||void 0===r[i][e])return;delete r[i][e],void 0!==r[i]._visualValues&&void 0!==r[i]._visualValues[e]&&delete r[i]._visualValues[e]}}}const Mn=n=>"reset"===n||"none"===n,_s=(n,t)=>t?n:Object.assign({},n);let Ke=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ci(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,o=this.getDataset(),r=(v,b,P,w)=>"x"===v?b:"r"===v?w:P,a=i.xAxisID=X(o.xAxisID,Pn(e,"x")),c=i.yAxisID=X(o.yAxisID,Pn(e,"y")),h=i.rAxisID=X(o.rAxisID,Pn(e,"r")),u=i.indexAxis,f=i.iAxisID=r(u,a,c,h),m=i.vAxisID=r(u,c,a,h);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(f),i.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ct(this._data,this),e._stacked&&Ci(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),o=this._data;if(it(i))this._data=function wo(n,t){const{iScale:e,vScale:i}=t,o="x"===e.axis?"x":"y",r="x"===i.axis?"x":"y",a=Object.keys(n),c=new Array(a.length);let h,u,f;for(h=0,u=a.length;h<u;++h)f=a[h],c[h]={[o]:f,[r]:n[f]};return c}(i,this._cachedMeta);else if(o!==i){if(o){ct(o,this);const r=this._cachedMeta;Ci(r),r._parsed=[]}i&&Object.isExtensible(i)&&function Fi(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Yn.forEach(e=>{const i="_onData"+Hn(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const a=o.apply(this,r);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[i]&&c[i](...r)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,o=this.getDataset();let r=!1;this._dataCheck();const a=i._stacked;i._stacked=xn(i.vScale,i),i.stack!==o.stack&&(r=!0,Ci(i),i.stack=o.stack),this._resyncElements(e),(r||a!==i._stacked)&&(ms(this,i._parsed),i._stacked=xn(i.vScale,i))}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:o,_data:r}=this,{iScale:a,_stacked:c}=o,h=a.axis;let m,v,b,u=0===e&&i===r.length||o._sorted,f=e>0&&o._parsed[e-1];if(!1===this._parsing)o._parsed=r,o._sorted=!0,b=r;else{b=pt(r[e])?this.parseArrayData(o,r,e,i):it(r[e])?this.parseObjectData(o,r,e,i):this.parsePrimitiveData(o,r,e,i);const P=()=>null===v[h]||f&&v[h]<f[h];for(m=0;m<i;++m)o._parsed[m+e]=v=b[m],u&&(P()&&(u=!1),f=v);o._sorted=u}c&&ms(this,b)}parsePrimitiveData(e,i,o,r){const{iScale:a,vScale:c}=e,h=a.axis,u=c.axis,f=a.getLabels(),m=a===c,v=new Array(r);let b,P,w;for(b=0,P=r;b<P;++b)w=b+o,v[b]={[h]:m||a.parse(f[w],w),[u]:c.parse(i[w],w)};return v}parseArrayData(e,i,o,r){const{xScale:a,yScale:c}=e,h=new Array(r);let u,f,m,v;for(u=0,f=r;u<f;++u)m=u+o,v=i[m],h[u]={x:a.parse(v[0],m),y:c.parse(v[1],m)};return h}parseObjectData(e,i,o,r){const{xScale:a,yScale:c}=e,{xAxisKey:h="x",yAxisKey:u="y"}=this._parsing,f=new Array(r);let m,v,b,P;for(m=0,v=r;m<v;++m)b=m+o,P=i[b],f[m]={x:a.parse(Te(P,h),b),y:c.parse(Te(P,u),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,o){const a=this._cachedMeta,c=i[e.axis];return Se({keys:xo(this.chart,!0),values:i._stacks[e.axis]._visualValues},c,a.index,{mode:o})}updateRangeFromParsed(e,i,o,r){const a=o[i.axis];let c=null===a?NaN:a;const h=r&&o._stacks[i.axis];r&&h&&(r.values=h,c=Se(r,a,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,i){const o=this._cachedMeta,r=o._parsed,a=o._sorted&&e===o.iScale,c=r.length,h=this._getOtherScale(e),u=((n,t)=>n&&!t.hidden&&t._stacked&&{keys:xo(this.chart,!0),values:null})(i,o),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=function Cr(n){const{min:t,max:e,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}(h);let b,P;function w(){P=r[b];const M=P[h.axis];return!Pt(P[e.axis])||m>M||v<M}for(b=0;b<c&&(w()||(this.updateRangeFromParsed(f,e,P,u),!a));++b);if(a)for(b=c-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(f,e,P,u);break}return f}getAllParsedValues(e){const i=this._cachedMeta._parsed,o=[];let r,a,c;for(r=0,a=i.length;r<a;++r)c=i[r][e.axis],Pt(c)&&o.push(c);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,o=i.iScale,r=i.vScale,a=this.getParsed(e);return{label:o?""+o.getLabelForValue(a[o.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function yo(n){let t,e,i,o;return it(n)?(t=n.top,e=n.right,i=n.bottom,o=n.left):t=e=i=o=n,{top:t,right:e,bottom:i,left:o,disabled:!1===n}}(X(this.options.clip,function bo(n,t,e){if(!1===e)return!1;const i=di(n,e),o=di(t,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,o=this._cachedMeta,r=o.data||[],a=this.chart.chartArea,c=[],h=this._drawStart||0,u=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,a,h,u),m=h;m<h+u;++m){const v=r[m];v.hidden||(v.active&&f?c.push(v):v.draw(e,a))}for(m=0;m<c.length;++m)c[m].draw(e,a)}getStyle(e,i){const o=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,i,o){const r=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];a=c.$context||(c.$context=function Po(n,t,e){return ze(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,c)),a.parsed=this.getParsed(e),a.raw=r.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function Sr(n,t){return ze(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=o,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",o){const r="active"===i,a=this._cachedDataOpts,c=e+"-"+i,h=a[c],u=this.enableOptionSharing&&Ai(o);if(h)return _s(h,u);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),m),P=Object.keys(_t.elements[e]),M=f.resolveNamedOptions(b,P,()=>this.getContext(o,r,i),v);return M.$shared&&(M.$shared=u,a[c]=Object.freeze(_s(M,u))),M}_resolveAnimations(e,i,o){const r=this.chart,a=this._cachedDataOpts,c=`animation-${i}`,h=a[c];if(h)return h;let u;if(!1!==r.options.animation){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,i),b=m.getOptionScopes(this.getDataset(),v);u=m.createResolver(b,this.getContext(e,o,i))}const f=new vo(r,u&&u.animations);return u&&u._cacheable&&(a[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||Mn(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const o=this.resolveDataElementOptions(e,i),r=this._sharedOptions,a=this.getSharedOptions(o),c=this.includeOptions(i,a)||a!==r;return this.updateSharedOptions(a,i,o),{sharedOptions:a,includeOptions:c}}updateElement(e,i,o,r){Mn(r)?Object.assign(e,o):this._resolveAnimations(i,r).update(e,o)}updateSharedOptions(e,i,o){e&&!Mn(i)&&this._resolveAnimations(void 0,i).update(e,o)}_setStyle(e,i,o,r){e.active=r;const a=this.getStyle(i,r);this._resolveAnimations(i,o,r).update(e,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(e,i,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,i,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,o=this._cachedMeta.data;for(const[h,u,f]of this._syncList)this[h](u,f);this._syncList=[];const r=o.length,a=i.length,c=Math.min(a,r);c&&this.parse(0,c),a>r?this._insertElements(r,a-r,e):a<r&&this._removeElements(a,r-a)}_insertElements(e,i,o=!0){const r=this._cachedMeta,a=r.data,c=e+i;let h;const u=f=>{for(f.length+=i,h=f.length-1;h>=c;h--)f[h]=f[h-i]};for(u(a),h=e;h<c;++h)a[h]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,i),o&&this.updateElements(a,e,i,"reset")}updateElements(e,i,o,r){}_removeElements(e,i){const o=this._cachedMeta;if(this._parsing){const r=o._parsed.splice(e,i);o._stacked&&Ci(o,r)}o.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,o,r]=e;this[i](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return(0,j.A)(n,"defaults",{}),(0,j.A)(n,"datasetElementType",null),(0,j.A)(n,"dataElementType",null),n})();function So(n){const t=n.iScale,e=function Co(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let o=0,r=e.length;o<r;o++)i=i.concat(e[o].controller.getAllParsedValues(n));n._cache.$bar=yt(i.sort((o,r)=>o-r))}return n._cache.$bar}(t,n.type);let o,r,a,c,i=t._length;const h=()=>{32767===a||-32768===a||(Ai(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(o=0,r=e.length;o<r;++o)a=t.getPixelForValue(e[o]),h();for(c=void 0,o=0,r=t.ticks.length;o<r;++o)a=t.getPixelForTick(o),h();return i}function d(n,t,e,i){return pt(n)?function l(n,t,e,i){const o=e.parse(n[0],i),r=e.parse(n[1],i),a=Math.min(o,r),c=Math.max(o,r);let h=a,u=c;Math.abs(a)>Math.abs(c)&&(h=c,u=a),t[e.axis]=u,t._custom={barStart:h,barEnd:u,start:o,end:r,min:a,max:c}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function g(n,t,e,i){const o=n.iScale,r=n.vScale,a=o.getLabels(),c=o===r,h=[];let u,f,m,v;for(u=e,f=e+i;u<f;++u)v=t[u],m={},m[o.axis]=c||o.parse(a[u],u),h.push(d(v,m,r,u));return h}function _(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function T(n,t,e,i){let o=t.borderSkipped;const r={};if(!o)return void(n.borderSkipped=r);if(!0===o)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:c,reverse:h,top:u,bottom:f}=function C(n){let t,e,i,o,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(o="end",r="start"):(o="start",r="end"),{start:e,end:i,reverse:t,top:o,bottom:r}}(n);"middle"===o&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?o=u:(e._bottom||0)===i?o=f:(r[D(f,a,c,h)]=!0,o=u)),r[D(o,a,c,h)]=!0,n.borderSkipped=r}function D(n,t,e,i){return i?(n=function F(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=H(n,e,t)):n=H(n,t,e),n}function H(n,t,e){return"start"===n?t:"end"===n?e:n}function Z(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let tt=(()=>{class n extends Ke{parsePrimitiveData(e,i,o,r){return g(e,i,o,r)}parseArrayData(e,i,o,r){return g(e,i,o,r)}parseObjectData(e,i,o,r){const{iScale:a,vScale:c}=e,{xAxisKey:h="x",yAxisKey:u="y"}=this._parsing,f="x"===a.axis?h:u,m="x"===c.axis?h:u,v=[];let b,P,w,M;for(b=o,P=o+r;b<P;++b)M=i[b],w={},w[a.axis]=a.parse(Te(M,f),b),v.push(d(Te(M,m),w,c,b));return v}updateRangeFromParsed(e,i,o,r){super.updateRangeFromParsed(e,i,o,r);const a=o._custom;a&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:o,vScale:r}=i,a=this.getParsed(e),c=a._custom,h=_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+o.getLabelForValue(a[o.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,o,r){const a="reset"===r,{index:c,_cachedMeta:{vScale:h}}=this,u=h.getBasePixel(),f=h.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(i,r);for(let P=i;P<i+o;P++){const w=this.getParsed(P),M=a||rt(w[h.axis])?{base:u,head:u}:this._calculateBarValuePixels(P),k=this._calculateBarIndexPixels(P,m),E=(w._stacks||{})[h.axis],A={horizontal:f,base:M.base,enableBorderRadius:!E||_(w._custom)||c===E._top||c===E._bottom,x:f?M.head:k.center,y:f?k.center:M.head,height:f?k.size:Math.abs(M.size),width:f?Math.abs(M.size):k.size};b&&(A.options=v||this.resolveDataElementOptions(P,e[P].active?"active":r));const I=A.options||e[P].options;T(A,I,E,c),Z(A,I,m.ratio),this.updateElement(e[P],P,A,r)}}_getStacks(e,i){const{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=o.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(i),u=h&&h[o.axis],f=m=>{const v=m._parsed.find(P=>P[o.axis]===u),b=v&&v[m.vScale.axis];if(rt(b)||isNaN(b))return!0};for(const m of r)if((void 0===i||!f(m))&&((!1===a||-1===c.indexOf(m.stack)||void 0===a&&void 0===m.stack)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,o){const r=this._getStacks(e,o),a=void 0!==i?r.indexOf(i):-1;return-1===a?r.length-1:a}_getRuler(){const e=this.options,i=this._cachedMeta,o=i.iScale,r=[];let a,c;for(a=0,c=i.data.length;a<c;++a)r.push(o.getPixelForValue(this.getParsed(a)[o.axis],a));const h=e.barThickness;return{min:h||So(i),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:o,index:r},options:{base:a,minBarLength:c}}=this,h=a||0,u=this.getParsed(e),f=u._custom,m=_(f);let w,M,v=u[i.axis],b=0,P=o?this.applyStack(i,u,o):v;P!==v&&(b=P-v,P=v),m&&(v=f.barStart,P=f.barEnd-f.barStart,0!==v&&de(v)!==de(f.barEnd)&&(b=0),b+=v);const k=rt(a)||m?b:a;let E=i.getPixelForValue(k);if(w=this.chart.getDataVisibility(e)?i.getPixelForValue(b+P):E,M=w-E,Math.abs(M)<c){M=function y(n,t,e){return 0!==n?de(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(M,i,h)*c,v===h&&(E-=M/2);const A=i.getPixelForDecimal(0),I=i.getPixelForDecimal(1),R=Math.min(A,I),z=Math.max(A,I);E=Math.max(Math.min(E,z),R),w=E+M,o&&!m&&(u._stacks[i.axis]._visualValues[r]=i.getValueForPixel(w)-i.getValueForPixel(E))}if(E===i.getPixelForValue(h)){const A=de(M)*i.getLineWidthForValue(h)/2;E+=A,M-=A}return{size:M,base:E,head:w,center:w+M/2}}_calculateBarIndexPixels(e,i){const o=i.scale,r=this.options,a=r.skipNull,c=X(r.maxBarThickness,1/0);let h,u;if(i.grouped){const f=a?this._getStackCount(e):i.stackCount,m="flex"===r.barThickness?function s(n,t,e,i){const o=t.pixels,r=o[n];let a=n>0?o[n-1]:null,c=n<o.length-1?o[n+1]:null;const h=e.categoryPercentage;null===a&&(a=r-(null===c?t.end-t.start:c-r)),null===c&&(c=r+r-a);const u=r-(r-Math.min(a,c))/2*h;return{chunk:Math.abs(c-a)/2*h/i,ratio:e.barPercentage,start:u}}(e,i,r,f):function kr(n,t,e,i){const o=e.barThickness;let r,a;return rt(o)?(r=t.min*e.categoryPercentage,a=e.barPercentage):(r=o*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[n]-r/2}}(e,i,r,f),v=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);h=m.start+m.chunk*v+m.chunk/2,u=Math.min(c,m.chunk*m.ratio)}else h=o.getPixelForValue(this.getParsed(e)[o.axis],e),u=Math.min(c,i.min*i.ratio);return{base:h-u/2,head:h+u/2,center:h,size:u}}draw(){const e=this._cachedMeta,i=e.vScale,o=e.data,r=o.length;let a=0;for(;a<r;++a)null!==this.getParsed(a)[i.axis]&&!o[a].hidden&&o[a].draw(this._ctx)}}return(0,j.A)(n,"id","bar"),(0,j.A)(n,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,j.A)(n,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),n})(),Wt=(()=>{class n extends Ke{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,o,r){const a=super.parsePrimitiveData(e,i,o,r);for(let c=0;c<a.length;c++)a[c]._custom=this.resolveDataElementOptions(c+o).radius;return a}parseArrayData(e,i,o,r){const a=super.parseArrayData(e,i,o,r);for(let c=0;c<a.length;c++)a[c]._custom=X(i[o+c][2],this.resolveDataElementOptions(c+o).radius);return a}parseObjectData(e,i,o,r){const a=super.parseObjectData(e,i,o,r);for(let c=0;c<a.length;c++){const h=i[o+c];a[c]._custom=X(h&&h.r&&+h.r,this.resolveDataElementOptions(c+o).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let o=e.length-1;o>=0;--o)i=Math.max(i,e[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:a}=i,c=this.getParsed(e),h=r.getLabelForValue(c.x),u=a.getLabelForValue(c.y),f=c._custom;return{label:o[e]||"",value:"("+h+", "+u+(f?", "+f:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,o,r){const a="reset"===r,{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,r),m=c.axis,v=h.axis;for(let b=i;b<i+o;b++){const P=e[b],w=!a&&this.getParsed(b),M={},k=M[m]=a?c.getPixelForDecimal(.5):c.getPixelForValue(w[m]),E=M[v]=a?h.getBasePixel():h.getPixelForValue(w[v]);M.skip=isNaN(k)||isNaN(E),f&&(M.options=u||this.resolveDataElementOptions(b,P.active?"active":r),a&&(M.options.radius=0)),this.updateElement(P,b,M,r)}}resolveDataElementOptions(e,i){const o=this.getParsed(e);let r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const a=r.radius;return"active"!==i&&(r.radius=0),r.radius+=X(o&&o._custom,a),r}}return(0,j.A)(n,"id","bubble"),(0,j.A)(n,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,j.A)(n,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),n})(),Xt=(()=>{class n extends Ke{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const o=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=o;else{let c,h,a=u=>+o[u];if(it(o[e])){const{key:u="value"}=this._parsing;a=f=>+Te(o[f],u)}for(c=e,h=e+i;c<h;++c)r._parsed[c]=a(c)}}_getRotation(){return ue(this.options.rotation-90)}_getCircumference(){return ue(this.options.circumference)}_getRotationExtents(){let e=ft,i=-ft;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){const r=this.chart.getDatasetMeta(o).controller,a=r._getRotation(),c=r._getCircumference();e=Math.min(e,a),i=Math.max(i,a+c)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:o}=i,r=this._cachedMeta,a=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(o.width,o.height)-c)/2,0),u=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:P,offsetX:w,offsetY:M}=function It(n,t,e){let i=1,o=1,r=0,a=0;if(t<ft){const c=n,h=c+t,u=Math.cos(c),f=Math.sin(c),m=Math.cos(h),v=Math.sin(h),b=(A,I,R)=>Ii(A,c,h,!0)?1:Math.max(I,I*e,R,R*e),P=(A,I,R)=>Ii(A,c,h,!0)?-1:Math.min(I,I*e,R,R*e),w=b(0,u,m),M=b(Ct,f,v),k=P(bt,u,m),E=P(bt+Ct,f,v);i=(w-k)/2,o=(M-E)/2,r=-(w+k)/2,a=-(M+E)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:a}}(v,m,u),A=Math.max(Math.min((o.width-c)/b,(o.height-c)/P)/2,0),I=Bn(this.options.radius,A),z=(I-Math.max(I*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=w*I,this.offsetY=M*I,r.total=this.calculateTotal(),this.outerRadius=I-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,i){const o=this.options,r=this._cachedMeta,a=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*a/ft)}updateElements(e,i,o,r){const a="reset"===r,c=this.chart,h=c.chartArea,m=(h.left+h.right)/2,v=(h.top+h.bottom)/2,b=a&&c.options.animation.animateScale,P=b?0:this.innerRadius,w=b?0:this.outerRadius,{sharedOptions:M,includeOptions:k}=this._getSharedOptions(i,r);let A,E=this._getRotation();for(A=0;A<i;++A)E+=this._circumference(A,a);for(A=i;A<i+o;++A){const I=this._circumference(A,a),R=e[A],z={x:m+this.offsetX,y:v+this.offsetY,startAngle:E,endAngle:E+I,circumference:I,outerRadius:w,innerRadius:P};k&&(z.options=M||this.resolveDataElementOptions(A,R.active?"active":r)),E+=I,this.updateElement(R,A,z,r)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let r,o=0;for(r=0;r<i.length;r++){const a=e._parsed[r];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(o+=Math.abs(a))}return o}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?ft*(Math.abs(e)/i):0}getLabelAndValue(e){const o=this.chart,r=o.data.labels||[],a=si(this._cachedMeta._parsed[e],o.options.locale);return{label:r[e]||"",value:a}}getMaxBorderWidth(e){let i=0;const o=this.chart;let r,a,c,h,u;if(!e)for(r=0,a=o.data.datasets.length;r<a;++r)if(o.isDatasetVisible(r)){c=o.getDatasetMeta(r),e=c.data,h=c.controller;break}if(!e)return 0;for(r=0,a=e.length;r<a;++r)u=h.resolveDataElementOptions(r),"inner"!==u.borderAlign&&(i=Math.max(i,u.borderWidth||0,u.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let o=0,r=e.length;o<r;++o){const a=this.resolveDataElementOptions(o);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(e){return Math.max(X(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return(0,j.A)(n,"id","doughnut"),(0,j.A)(n,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,j.A)(n,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),(0,j.A)(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map((r,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}}),n})(),$t=(()=>{class n extends Ke{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:o,data:r=[],_dataset:a}=i,c=this.chart._animationsDisabled;let{start:h,count:u}=Bi(i,r,c);this._drawStart=h,this._drawCount=u,te(i)&&(h=0,u=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!c,options:f},e),this.updateElements(r,h,u,e)}updateElements(e,i,o,r){const a="reset"===r,{iScale:c,vScale:h,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(i,r),b=c.axis,P=h.axis,{spanGaps:w,segment:M}=this.options,k=ti(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||a||"none"===r,A=i+o,I=e.length;let R=i>0&&this.getParsed(i-1);for(let z=0;z<I;++z){const W=e[z],N=E?W:{};if(z<i||z>=A){N.skip=!0;continue}const V=this.getParsed(z),Q=rt(V[P]),K=N[b]=c.getPixelForValue(V[b],z),st=N[P]=a||Q?h.getBasePixel():h.getPixelForValue(u?this.applyStack(h,V,u):V[P],z);N.skip=isNaN(K)||isNaN(st)||Q,N.stop=z>0&&Math.abs(V[b]-R[b])>k,M&&(N.parsed=V,N.raw=f.data[z]),v&&(N.options=m||this.resolveDataElementOptions(z,W.active?"active":r)),E||this.updateElement(W,z,N,r),R=V}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,o=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return o;const a=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,a,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return(0,j.A)(n,"id","line"),(0,j.A)(n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,j.A)(n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),n})(),ui=(()=>{class n extends Ke{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const o=this.chart,r=o.data.labels||[],a=si(this._cachedMeta._parsed[e].r,o.options.locale);return{label:r[e]||"",value:a}}parseObjectData(e,i,o,r){return ds.bind(this)(e,i,o,r)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((o,r)=>{const a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,o=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(r/2,0),h=(a-Math.max(o.cutoutPercentage?a/100*o.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,i,o,r){const a="reset"===r,c=this.chart,u=c.options.animation,f=this._cachedMeta.rScale,m=f.xCenter,v=f.yCenter,b=f.getIndexAngle(0)-.5*bt;let w,P=b;const M=360/this.countVisibleElements();for(w=0;w<i;++w)P+=this._computeAngle(w,r,M);for(w=i;w<i+o;w++){const k=e[w];let E=P,A=P+this._computeAngle(w,r,M),I=c.getDataVisibility(w)?f.getDistanceFromCenterForValue(this.getParsed(w).r):0;P=A,a&&(u.animateScale&&(I=0),u.animateRotate&&(E=A=b));const R={x:m,y:v,innerRadius:0,outerRadius:I,startAngle:E,endAngle:A,options:this.resolveDataElementOptions(w,k.active?"active":r)};this.updateElement(k,w,R,r)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(e,i,o){return this.chart.getDataVisibility(e)?ue(this.resolveDataElementOptions(e,i).angle||o):0}}return(0,j.A)(n,"id","polarArea"),(0,j.A)(n,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,j.A)(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:o}}=t.legend.options;return e.labels.map((r,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),n})();var ko=Object.freeze({__proto__:null,BarController:tt,BubbleController:Wt,DoughnutController:Xt,LineController:$t,PieController:(()=>{class n extends Xt{}return(0,j.A)(n,"id","pie"),(0,j.A)(n,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),n})(),PolarAreaController:ui,RadarController:(()=>{class n extends Ke{getLabelAndValue(e){const i=this._cachedMeta.vScale,o=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(e,i,o,r){return ds.bind(this)(e,i,o,r)}update(e){const i=this._cachedMeta,o=i.dataset,r=i.data||[],a=i.iScale.getLabels();if(o.points=r,"resize"!==e){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:a.length===r.length,options:c},e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,o,r){const a=this._cachedMeta.rScale,c="reset"===r;for(let h=i;h<i+o;h++){const u=e[h],f=this.resolveDataElementOptions(h,u.active?"active":r),m=a.getPointPositionForValue(h,this.getParsed(h).r),v=c?a.xCenter:m.x,b=c?a.yCenter:m.y,P={x:v,y:b,angle:m.angle,skip:isNaN(v)||isNaN(b),options:f};this.updateElement(u,h,P,r)}}}return(0,j.A)(n,"id","radar"),(0,j.A)(n,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,j.A)(n,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),n})(),ScatterController:(()=>{class n extends Ke{getLabelAndValue(e){const i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:a}=i,c=this.getParsed(e),h=r.getLabelForValue(c.x),u=a.getLabelForValue(c.y);return{label:o[e]||"",value:"("+h+", "+u+")"}}update(e){const i=this._cachedMeta,{data:o=[]}=i,r=this.chart._animationsDisabled;let{start:a,count:c}=Bi(i,o,r);if(this._drawStart=a,this._drawCount=c,te(i)&&(a=0,c=o.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:u}=i;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!u._decimated,h.points=o;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(h,void 0,{animated:!r,options:f},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(o,a,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,o,r){const a="reset"===r,{iScale:c,vScale:h,_stacked:u,_dataset:f}=this._cachedMeta,m=this.resolveDataElementOptions(i,r),v=this.getSharedOptions(m),b=this.includeOptions(r,v),P=c.axis,w=h.axis,{spanGaps:M,segment:k}=this.options,E=ti(M)?M:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||a||"none"===r;let I=i>0&&this.getParsed(i-1);for(let R=i;R<i+o;++R){const z=e[R],W=this.getParsed(R),N=A?z:{},V=rt(W[w]),Q=N[P]=c.getPixelForValue(W[P],R),K=N[w]=a||V?h.getBasePixel():h.getPixelForValue(u?this.applyStack(h,W,u):W[w],R);N.skip=isNaN(Q)||isNaN(K)||V,N.stop=R>0&&Math.abs(W[P]-I[P])>E,k&&(N.parsed=W,N.raw=f.data[R]),b&&(N.options=v||this.resolveDataElementOptions(R,z.active?"active":r)),A||this.updateElement(z,R,N,r),I=W}this.updateSharedOptions(v,r,m)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let h=0;for(let u=i.length-1;u>=0;--u)h=Math.max(h,i[u].size(this.resolveDataElementOptions(u))/2);return h>0&&h}const o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,c)/2}}return(0,j.A)(n,"id","scatter"),(0,j.A)(n,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,j.A)(n,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),n})()});function fi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cn{static override(t){Object.assign(Cn.prototype,t)}constructor(t){(0,j.A)(this,"options",void 0),this.options=t||{}}init(){}formats(){return fi()}parse(){return fi()}format(){return fi()}add(){return fi()}diff(){return fi()}startOf(){return fi()}endOf(){return fi()}}var Et__date=Cn;function Sn(n,t,e,i){const{controller:o,data:r,_sorted:a}=n,c=o._cachedMeta.iScale;if(c&&t===c.axis&&"r"!==t&&a&&r.length){const h=c._reversePixels?zi:fe;if(!i)return h(r,t,e);if(o._sharedOptions){const u=r[0],f="function"==typeof u.getRange&&u.getRange(t);if(f){const m=h(r,t,e-f),v=h(r,t,e+f);return{lo:m.lo,hi:v.hi}}}}return{lo:0,hi:r.length-1}}function Ki(n,t,e,i,o){const r=n.getSortedVisibleDatasetMetas(),a=e[t];for(let c=0,h=r.length;c<h;++c){const{index:u,data:f}=r[c],{lo:m,hi:v}=Sn(r[c],t,a,o);for(let b=m;b<=v;++b){const P=f[b];P.skip||i(P,u,b)}}}function vs(n,t,e,i,o){const r=[];return!o&&!n.isPointInArea(t)||Ki(n,e,t,function(c,h,u){!o&&!ye(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&r.push({element:c,datasetIndex:h,index:u})},!0),r}function ys(n,t,e,i,o,r){return r||n.isPointInArea(t)?"r"!==e||i?function Oo(n,t,e,i,o,r){let a=[];const c=function Or(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,o){const r=t?Math.abs(i.x-o.x):0,a=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return Ki(n,e,t,function u(f,m,v){const b=f.inRange(t.x,t.y,o);if(i&&!b)return;const P=f.getCenterPoint(o);if(!r&&!n.isPointInArea(P)&&!b)return;const M=c(t,P);M<h?(a=[{element:f,datasetIndex:m,index:v}],h=M):M===h&&a.push({element:f,datasetIndex:m,index:v})}),a}(n,t,e,i,o,r):function bs(n,t,e,i){let o=[];return Ki(n,e,t,function r(a,c,h){const{startAngle:u,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:m}=Qs(a,{x:t.x,y:t.y});Ii(m,u,f)&&o.push({element:a,datasetIndex:c,index:h})}),o}(n,t,e,o):[]}function oa(n,t,e,i,o){const r=[],a="x"===e?"inXRange":"inYRange";let c=!1;return Ki(n,e,t,(h,u,f)=>{h[a]&&h[a](t[e],o)&&(r.push({element:h,datasetIndex:u,index:f}),c=c||h.inRange(t.x,t.y,o))}),i&&!c?[]:r}var rc={evaluateInteractionItems:Ki,modes:{index(n,t,e,i){const o=Pe(t,n),r=e.axis||"x",a=e.includeInvisible||!1,c=e.intersect?vs(n,o,r,i,a):ys(n,o,r,!1,i,a),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const f=c[0].index,m=u.data[f];m&&!m.skip&&h.push({element:m,datasetIndex:u.index,index:f})}),h):[]},dataset(n,t,e,i){const o=Pe(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;let c=e.intersect?vs(n,o,r,i,a):ys(n,o,r,!1,i,a);if(c.length>0){const h=c[0].datasetIndex,u=n.getDatasetMeta(h).data;c=[];for(let f=0;f<u.length;++f)c.push({element:u[f],datasetIndex:h,index:f})}return c},point:(n,t,e,i)=>vs(n,Pe(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>ys(n,Pe(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>oa(n,Pe(t,n),"x",e.intersect,i),y:(n,t,e,i)=>oa(n,Pe(t,n),"y",e.intersect,i)}};const ra=["left","top","right","bottom"];function xs(n,t){return n.filter(e=>e.pos===t)}function aa(n,t){return n.filter(e=>-1===ra.indexOf(e.pos)&&e.box.axis===t)}function ws(n,t){return n.sort((e,i)=>{const o=t?i:e,r=t?e:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function la(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function ca(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function dc(n,t,e,i){const{pos:o,box:r}=e,a=n.maxPadding;if(!it(o)){e.size&&(n[o]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?r.height:r.width),e.size=m.size/m.count,n[o]+=e.size}r.getPadding&&ca(a,r.getPadding());const c=Math.max(0,t.outerWidth-la(a,n,"left","right")),h=Math.max(0,t.outerHeight-la(a,n,"top","bottom")),u=c!==n.w,f=h!==n.h;return n.w=c,n.h=h,e.horizontal?{same:u,other:f}:{same:f,other:u}}function fc(n,t){const e=t.maxPadding;return function i(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{r[a]=Math.max(t[a],e[a])}),r}(n?["left","right"]:["top","bottom"])}function Ps(n,t,e,i){const o=[];let r,a,c,h,u,f;for(r=0,a=n.length,u=0;r<a;++r){c=n[r],h=c.box,h.update(c.width||t.w,c.height||t.h,fc(c.horizontal,t));const{same:m,other:v}=dc(t,e,c,i);u|=m&&o.length,f=f||v,h.fullSize||o.push(c)}return u&&Ps(o,t,e,i)||f}function Eo(n,t,e,i,o){n.top=e,n.left=t,n.right=t+i,n.bottom=e+o,n.width=i,n.height=o}function ha(n,t,e,i){const o=e.padding;let{x:r,y:a}=t;for(const c of n){const h=c.box,u=i[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/u.weight||1;if(c.horizontal){const m=t.w*f,v=u.size||h.height;Ai(u.start)&&(a=u.start),h.fullSize?Eo(h,o.left,a,e.outerWidth-o.right-o.left,v):Eo(h,t.left+u.placed,a,m,v),u.start=a,u.placed+=m,a=h.bottom}else{const m=t.h*f,v=u.size||h.width;Ai(u.start)&&(r=u.start),h.fullSize?Eo(h,r,o.top,v,e.outerHeight-o.bottom-o.top):Eo(h,r,t.top+u.placed,v,m),u.start=r,u.placed+=m,r=h.right}}t.x=r,t.y=a}var qt={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const o=At(n.options.layout.padding),r=Math.max(t-o.width,0),a=Math.max(e-o.height,0),c=function hc(n){const t=function ac(n){const t=[];let e,i,o,r,a,c;for(e=0,i=(n||[]).length;e<i;++e)o=n[e],({position:r,options:{stack:a,stackWeight:c=1}}=o),t.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&r+a,stackWeight:c});return t}(n),e=ws(t.filter(u=>u.box.fullSize),!0),i=ws(xs(t,"left"),!0),o=ws(xs(t,"right")),r=ws(xs(t,"top"),!0),a=ws(xs(t,"bottom")),c=aa(t,"x"),h=aa(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:o.concat(h).concat(a).concat(c),chartArea:xs(t,"chartArea"),vertical:i.concat(o).concat(h),horizontal:r.concat(a).concat(c)}}(n.boxes),h=c.vertical,u=c.horizontal;dt(n.boxes,w=>{"function"==typeof w.beforeLayout&&w.beforeLayout()});const f=h.reduce((w,M)=>M.box.options&&!1===M.box.options.display?w:w+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),v=Object.assign({},o);ca(v,At(i));const b=Object.assign({maxPadding:v,w:r,h:a,x:o.left,y:o.top},o),P=function cc(n,t){const e=function lc(n){const t={};for(const e of n){const{stack:i,pos:o,stackWeight:r}=e;if(!i||!ra.includes(o))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=t;let r,a,c;for(r=0,a=n.length;r<a;++r){c=n[r];const{fullSize:h}=c.box,u=e[c.stack],f=u&&c.stackWeight/u.weight;c.horizontal?(c.width=f?f*i:h&&t.availableWidth,c.height=o):(c.width=i,c.height=f?f*o:h&&t.availableHeight)}return e}(h.concat(u),m);Ps(c.fullSize,b,m,P),Ps(h,b,m,P),Ps(u,b,m,P)&&Ps(h,b,m,P),function uc(n){const t=n.maxPadding;function e(i){const o=Math.max(t[i]-n[i],0);return n[i]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(b),ha(c.leftAndTop,b,m,P),b.x+=b.w,b.y+=b.h,ha(c.rightAndBottom,b,m,P),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},dt(c.chartArea,w=>{const M=w.box;Object.assign(M,n.chartArea),M.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class da{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,o){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(t){return!0}updateConfig(t){}}class gc extends da{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const To="$chartjs",pc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ua=n=>null===n||""===n,fa=!!xr&&{passive:!0};function vc(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,fa)}function Do(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function yc(n,t,e){const i=n.canvas,o=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||Do(c.addedNodes,i),a=a&&!Do(c.removedNodes,i);a&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function xc(n,t,e){const i=n.canvas,o=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||Do(c.removedNodes,i),a=a&&!Do(c.addedNodes,i);a&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ms=new Map;let ga=0;function pa(){const n=window.devicePixelRatio;n!==ga&&(ga=n,Ms.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Mc(n,t,e){const i=n.canvas,o=i&&us(i);if(!o)return;const r=ii((c,h)=>{const u=o.clientWidth;e(c,h),u<o.clientWidth&&e()},window),a=new ResizeObserver(c=>{const h=c[0],u=h.contentRect.width,f=h.contentRect.height;0===u&&0===f||r(u,f)});return a.observe(o),function wc(n,t){Ms.size||window.addEventListener("resize",pa),Ms.set(n,t)}(n,r),a}function Er(n,t,e){e&&e.disconnect(),"resize"===t&&function Pc(n){Ms.delete(n),Ms.size||window.removeEventListener("resize",pa)}(n)}function Cc(n,t,e){const i=n.canvas,o=ii(r=>{null!==n.ctx&&e(function bc(n,t){const e=pc[n.type]||n.type,{x:i,y:o}=Pe(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==o?o:null}}(r,n))},n);return function _c(n,t,e){n&&n.addEventListener(t,e,fa)}(i,t,o),o}class Sc extends da{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function mc(n,t){const e=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[To]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ua(o)){const r=li(n,"width");void 0!==r&&(n.width=r)}if(ua(i))if(""===n.style.height)n.height=n.width/(t||2);else{const r=li(n,"height");void 0!==r&&(n.height=r)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[To])return!1;const i=e[To].initial;["height","width"].forEach(r=>{const a=i[r];rt(a)?e.removeAttribute(r):e.setAttribute(r,a)});const o=i.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[To],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:yc,detach:xc,resize:Mc}[e]||Cc)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),o=i[e];o&&(({attach:Er,detach:Er,resize:Er}[e]||vc)(t,e,o),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,o){return function yr(n,t,e,i){const o=mn(n),r=we(o,"margin"),a=Fe(o.maxWidth,n,"clientWidth")||an,c=Fe(o.maxHeight,n,"clientHeight")||an,h=function br(n,t,e){let i,o;if(void 0===t||void 0===e){const r=n&&us(n);if(r){const a=r.getBoundingClientRect(),c=mn(r),h=we(c,"border","width"),u=we(c,"padding");t=a.width-u.width-h.width,e=a.height-u.height-h.height,i=Fe(c.maxWidth,r,"clientWidth"),o=Fe(c.maxHeight,r,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||an,maxHeight:o||an}}(n,t,e);let{width:u,height:f}=h;if("content-box"===o.boxSizing){const v=we(o,"border","width"),b=we(o,"padding");u-=b.width+v.width,f-=b.height+v.height}return u=Math.max(0,u-r.width),f=Math.max(0,i?u/i:f-r.height),u=Pi(Math.min(u,a,h.maxWidth)),f=Pi(Math.min(f,c,h.maxHeight)),u&&!f&&(f=Pi(u/2)),(void 0!==t||void 0!==e)&&i&&h.height&&f>h.height&&(f=h.height,u=Pi(Math.floor(f*i))),{width:u,height:f}}(t,e,i,o)}isAttached(t){const e=t&&us(t);return!(!e||!e.isConnected)}}class He{constructor(){(0,j.A)(this,"x",void 0),(0,j.A)(this,"y",void 0),(0,j.A)(this,"active",!1),(0,j.A)(this,"options",void 0),(0,j.A)(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ti(this.x)&&ti(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const o={};return t.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}}function Lo(n,t,e,i,o){const r=X(i,0),a=Math.min(X(o,n.length),n.length);let h,u,f,c=0;for(e=Math.ceil(e),o&&(h=o-i,e=h/Math.floor(h/e)),f=r;f<0;)c++,f=Math.round(r+c*e);for(u=Math.max(r,0);u<a;u++)u===f&&(t.push(n[u]),c++,f=Math.round(r+c*e))}(0,j.A)(He,"defaults",{}),(0,j.A)(He,"defaultRoutes",void 0);const ma=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,_a=(n,t)=>Math.min(t||n,n);function va(n,t){const e=[],i=n.length/t,o=n.length;let r=0;for(;r<o;r+=i)e.push(n[Math.floor(r)]);return e}function Ic(n,t,e){const i=n.ticks.length,o=Math.min(t,i-1),r=n._startPixel,a=n._endPixel,c=1e-6;let u,h=n.getPixelForTick(o);if(!(e&&(u=1===i?Math.max(h-r,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(o-1))/2,h+=o<t?u:-u,h<r-c||h>a+c)))return h}function Cs(n){return n.drawTicks?n.tickLength:0}function ba(n,t){if(!n.display)return 0;const e=Tt(n.font,t),i=At(n.padding);return(pt(n.text)?n.text.length:1)*e.lineHeight+i.height}function Nc(n,t,e){let i=q(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class Ji extends He{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return t=Qt(t,Number.POSITIVE_INFINITY),e=Qt(e,Number.NEGATIVE_INFINITY),i=Qt(i,Number.POSITIVE_INFINITY),o=Qt(o,Number.NEGATIVE_INFINITY),{min:Qt(t,i),max:Qt(e,o),minDefined:Pt(t),maxDefined:Pt(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:o,maxDefined:r}=this.getUserBounds();if(o&&r)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,u=c.length;h<u;++h)a=c[h].controller.getMinMax(this,t),o||(e=Math.min(e,a.min)),r||(i=Math.max(i,a.max));return e=r&&e>i?i:e,i=o&&e>i?e:i,{min:Qt(e,Qt(i,e)),max:Qt(i,Qt(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:o,grace:r,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function lr(n,t,e){const{min:i,max:o}=n,r=Bn(t,(o-i)/2),a=(c,h)=>e&&0===c?0:c+h;return{min:a(i,-Math.abs(r)),max:a(o,r)}}(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?va(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function Oc(n,t){const e=n.options.ticks,i=function Ec(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),o=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?function Dc(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=r.length,c=r[0],h=r[a-1],u=[];if(a>o)return function Lc(n,t,e,i){let a,o=0,r=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===r&&(t.push(n[a]),o++,r=e[o*i])}(t,u,r,a/o),u;const f=function Tc(n,t,e){const i=function Rc(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),o=t.length/e;if(!i)return Math.max(o,1);const r=function Vn(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((o,r)=>o-r).pop(),t}(i);for(let a=0,c=r.length-1;a<c;a++){const h=r[a];if(h>o)return h}return Math.max(o,1)}(r,t,o);if(a>0){let m,v;const b=a>1?Math.round((h-c)/(a-1)):null;for(Lo(t,u,f,rt(b)?0:c-b,c),m=0,v=a-1;m<v;m++)Lo(t,u,f,r[m],r[m+1]);return Lo(t,u,f,h,rt(b)?t.length:h+b),u}return Lo(t,u,f),u}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i],r.label=mt(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=_a(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation;let c,h,u,a=o;if(!this._isVisible()||!e.display||o>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=o);const f=this._getLabelSizes(),m=f.widest.width,v=f.highest.height,b=Lt(this.chart.width-m,0,this.maxWidth);c=t.offset?this.maxWidth/i:b/(i-1),m+6>c&&(c=b/(i-(t.offset?.5:1)),h=this.maxHeight-Cs(t.grid)-e.padding-ba(t.title,this.chart.options.font),u=Math.sqrt(m*m+v*v),a=Zn(Math.min(Math.asin(Lt((f.highest.height+6)/c,-1,1)),Math.asin(Lt(h/u,-1,1))-Math.asin(Lt(v/u,-1,1)))),a=Math.max(o,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:r}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const h=ba(o,e.options.font);if(c?(t.width=this.maxWidth,t.height=Cs(r)+h):(t.height=this.maxHeight,t.width=Cs(r)+h),i.display&&this.ticks.length){const{first:u,last:f,widest:m,highest:v}=this._getLabelSizes(),b=2*i.padding,P=ue(this.labelRotation),w=Math.cos(P),M=Math.sin(P);c?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:M*m.width+w*v.height)+b):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:w*m.width+M*v.height)+b),this._calculatePadding(u,f,M,w)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,o){const{ticks:{align:r,padding:a},position:c}=this.options,h=0!==this.labelRotation,u="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;h?u?(v=o*t.width,b=i*e.height):(v=i*t.height,b=o*e.width):"start"===r?b=e.width:"end"===r?v=t.width:"inner"!==r&&(v=t.width/2,b=e.width/2),this.paddingLeft=Math.max((v-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((b-m+a)*this.width/(this.width-m),0)}else{let f=e.height/2,m=t.height/2;"start"===r?(f=0,m=t.height):"end"===r&&(f=e.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)rt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=va(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:r}=this,a=[],c=[],h=Math.floor(e/_a(e,i));let m,v,b,P,w,M,k,E,A,I,R,u=0,f=0;for(m=0;m<e;m+=h){if(P=t[m].label,w=this._resolveTickFontOptions(m),o.font=M=w.string,k=r[M]=r[M]||{data:{},gc:[]},E=w.lineHeight,A=I=0,rt(P)||pt(P)){if(pt(P))for(v=0,b=P.length;v<b;++v)R=P[v],!rt(R)&&!pt(R)&&(A=be(o,k.data,k.gc,A,R),I+=E)}else A=be(o,k.data,k.gc,A,P),I=E;a.push(A),c.push(I),u=Math.max(A,u),f=Math.max(I,f)}!function zc(n,t){dt(n,e=>{const i=e.gc,o=i.length/2;let r;if(o>t){for(r=0;r<o;++r)delete e.data[i[r]];i.splice(0,o)}})}(r,e);const z=a.indexOf(u),W=c.indexOf(f),N=V=>({width:a[V]||0,height:c[V]||0});return{first:N(0),last:N(e-1),widest:N(z),highest:N(W),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function ir(n){return Lt(n,-32768,32767)}(this._alignToPixels?ge(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function Bc(n,t,e){return ze(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function Fc(n,t){return ze(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ue(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,c=r?r.widest.width+a:0,h=r?r.highest.height+a:0;return this.isHorizontal()?h*i>c*o?c/i:h/o:h*o<c*i?h/i:c/o}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,o=this.options,{grid:r,position:a,border:c}=o,h=r.offset,u=this.isHorizontal(),m=this.ticks.length+(h?1:0),v=Cs(r),b=[],P=c.setContext(this.getContext()),w=P.display?P.width:0,M=w/2,k=function(Mt){return ge(i,Mt,w)};let E,A,I,R,z,W,N,V,Q,K,st,Vt;if("top"===a)E=k(this.bottom),W=this.bottom-v,V=E-M,K=k(t.top)+M,Vt=t.bottom;else if("bottom"===a)E=k(this.top),K=t.top,Vt=k(t.bottom)-M,W=E+M,V=this.top+v;else if("left"===a)E=k(this.right),z=this.right-v,N=E-M,Q=k(t.left)+M,st=t.right;else if("right"===a)E=k(this.left),Q=t.left,st=k(t.right)-M,z=E+M,N=this.left+v;else if("x"===e){if("center"===a)E=k((t.top+t.bottom)/2+.5);else if(it(a)){const Mt=Object.keys(a)[0];E=k(this.chart.scales[Mt].getPixelForValue(a[Mt]))}K=t.top,Vt=t.bottom,W=E+M,V=W+v}else if("y"===e){if("center"===a)E=k((t.left+t.right)/2);else if(it(a)){const Mt=Object.keys(a)[0];E=k(this.chart.scales[Mt].getPixelForValue(a[Mt]))}z=E-M,N=z-v,Q=t.left,st=t.right}const me=X(o.ticks.maxTicksLimit,m),vt=Math.max(1,Math.ceil(m/me));for(A=0;A<m;A+=vt){const Mt=this.getContext(A),Dt=r.setContext(Mt),We=c.setContext(Mt),Kt=Dt.lineWidth,Tn=Dt.color,qo=We.dash||[],Dn=We.dashOffset,Is=Dt.tickWidth,tn=Dt.tickColor,zs=Dt.tickBorderDash||[],en=Dt.tickBorderDashOffset;I=Ic(this,A,h),void 0!==I&&(R=ge(i,I,Kt),u?z=N=Q=st=R:W=V=K=Vt=R,b.push({tx1:z,ty1:W,tx2:N,ty2:V,x1:Q,y1:K,x2:st,y2:Vt,width:Kt,color:Tn,borderDash:qo,borderDashOffset:Dn,tickWidth:Is,tickColor:tn,tickBorderDash:zs,tickBorderDashOffset:en}))}return this._ticksLength=m,this._borderValue=E,b}_computeLabelItems(t){const e=this.axis,i=this.options,{position:o,ticks:r}=i,a=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:u,padding:f,mirror:m}=r,v=Cs(i.grid),b=v+f,P=m?-f:b,w=-ue(this.labelRotation),M=[];let k,E,A,I,R,z,W,N,V,Q,K,st,Vt="middle";if("top"===o)z=this.bottom-P,W=this._getXAxisLabelAlignment();else if("bottom"===o)z=this.top+P,W=this._getXAxisLabelAlignment();else if("left"===o){const vt=this._getYAxisLabelAlignment(v);W=vt.textAlign,R=vt.x}else if("right"===o){const vt=this._getYAxisLabelAlignment(v);W=vt.textAlign,R=vt.x}else if("x"===e){if("center"===o)z=(t.top+t.bottom)/2+b;else if(it(o)){const vt=Object.keys(o)[0];z=this.chart.scales[vt].getPixelForValue(o[vt])+b}W=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===o)R=(t.left+t.right)/2-b;else if(it(o)){const vt=Object.keys(o)[0];R=this.chart.scales[vt].getPixelForValue(o[vt])}W=this._getYAxisLabelAlignment(v).textAlign}"y"===e&&("start"===h?Vt="top":"end"===h&&(Vt="bottom"));const me=this._getLabelSizes();for(k=0,E=c.length;k<E;++k){A=c[k],I=A.label;const vt=r.setContext(this.getContext(k));N=this.getPixelForTick(k)+r.labelOffset,V=this._resolveTickFontOptions(k),Q=V.lineHeight,K=pt(I)?I.length:1;const Mt=K/2,Dt=vt.color,We=vt.textStrokeColor,Kt=vt.textStrokeWidth;let qo,Tn=W;if(a?(R=N,"inner"===W&&(Tn=k===E-1?this.options.reverse?"left":"right":0===k?this.options.reverse?"right":"left":"center"),st="top"===o?"near"===u||0!==w?-K*Q+Q/2:"center"===u?-me.highest.height/2-Mt*Q+Q:Q/2-me.highest.height:"near"===u||0!==w?Q/2:"center"===u?me.highest.height/2-Mt*Q:me.highest.height-K*Q,m&&(st*=-1),0!==w&&!vt.showLabelBackdrop&&(R+=Q/2*Math.sin(w))):(z=N,st=(1-K)*Q/2),vt.showLabelBackdrop){const Dn=At(vt.backdropPadding),Is=me.heights[k],tn=me.widths[k];let zs=st-Dn.top,en=0-Dn.left;switch(Vt){case"middle":zs-=Is/2;break;case"bottom":zs-=Is}switch(W){case"center":en-=tn/2;break;case"right":en-=tn;break;case"inner":k===E-1?en-=tn:k>0&&(en-=tn/2)}qo={left:en,top:zs,width:tn+Dn.width,height:Is+Dn.height,color:vt.backdropColor}}M.push({label:I,font:V,textOffset:st,options:{rotation:w,color:Dt,strokeColor:We,strokeWidth:Kt,textAlign:Tn,textBaseline:Vt,translation:[R,z],backdrop:qo}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ue(this.labelRotation))return"top"===t?"left":"right";let o="center";return"start"===e.align?o="left":"end"===e.align?o="right":"inner"===e.align&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,c=t+r,h=this._getLabelSizes().widest.width;let u,f;return"left"===e?o?(f=this.right+r,"near"===i?u="left":"center"===i?(u="center",f+=h/2):(u="right",f+=h)):(f=this.right-c,"near"===i?u="right":"center"===i?(u="center",f-=h/2):(u="left",f=this.left)):"right"===e?o?(f=this.left+r,"near"===i?u="right":"center"===i?(u="center",f-=h/2):(u="left",f-=h)):(f=this.left+c,"near"===i?u="left":"center"===i?(u="center",f+=h/2):(u="right",f=this.right)):u="right",{textAlign:u,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:o,width:r,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,o,r,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const o=this.ticks.findIndex(r=>r.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const c=(h,u,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(e.display)for(r=0,a=o.length;r<a;++r){const h=o[r];e.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const c=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let u,f,m,v;this.isHorizontal()?(u=ge(t,this.left,a)-a/2,f=ge(t,this.right,c)+c/2,m=v=h):(m=ge(t,this.top,a)-a/2,v=ge(t,this.bottom,c)+c/2,u=f=h),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(u,m),e.lineTo(f,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&dn(i,o);const r=this.getLabelItems(t);for(const a of r)Ft(i,a.label,0,a.textOffset,a.font,a.options);o&&Vi(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;const r=Tt(i.font),a=At(i.padding),c=i.align;let h=r.lineHeight/2;"bottom"===e||"center"===e||it(e)?(h+=a.bottom,pt(i.text)&&(h+=r.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:u,titleY:f,maxWidth:m,rotation:v}=function jc(n,t,e,i){const{top:o,left:r,bottom:a,right:c,chart:h}=n,{chartArea:u,scales:f}=h;let v,b,P,m=0;const w=a-o,M=c-r;if(n.isHorizontal()){if(b=nt(i,r,c),it(e)){const k=Object.keys(e)[0];P=f[k].getPixelForValue(e[k])+w-t}else P="center"===e?(u.bottom+u.top)/2+w-t:ma(n,e,t);v=c-r}else{if(it(e)){const k=Object.keys(e)[0];b=f[k].getPixelForValue(e[k])-M+t}else b="center"===e?(u.left+u.right)/2-M+t:ma(n,e,t);P=nt(i,a,o),m="left"===e?-Ct:Ct}return{titleX:b,titleY:P,maxWidth:v,rotation:m}}(this,h,e,c);Ft(t,i.text,0,0,r,{color:i.color,maxWidth:m,rotation:v,textAlign:Nc(c,e,o),textBaseline:"middle",translation:[u,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=X(t.grid&&t.grid.z,-1),o=X(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Ji.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let r,a;for(r=0,a=e.length;r<a;++r){const c=e[r];c[i]===this.id&&(!t||c.type===t)&&o.push(c)}return o}_resolveTickFontOptions(t){return Tt(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ro{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function Vc(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const o=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,function Hc(n,t,e){const i=mi(Object.create(null),[e?_t.get(e):{},_t.get(t),n.defaults]);_t.set(t,i),n.defaultRoutes&&function Wc(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),o=i.pop(),r=[n].concat(i).join("."),a=t[e].split("."),c=a.pop(),h=a.join(".");_t.route(r,o,h,c)})}(t,n.defaultRoutes),n.descriptors&&_t.describe(t,n.descriptors)}(t,a,i),this.override&&_t.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,o=this.scope;i in e&&delete e[i],o&&i in _t[o]&&(delete _t[o][i],this.override&&delete G[i])}}class Uc{constructor(){this.controllers=new Ro(Ke,"datasets",!0),this.elements=new Ro(He,"elements"),this.plugins=new Ro(Object,"plugins"),this.scales=new Ro(Ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(o=>{const r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(t,r,o):dt(o,a=>{const c=i||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,e,i){const o=Hn(t);mt(i["before"+o],[],i),e[t](i),mt(i["after"+o],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const o=e.get(t);if(void 0===o)throw new Error('"'+t+'" is not a registered '+i+".");return o}}var Je=new Uc;class Zc{constructor(){this._init=[]}notify(t,e,i,o){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=o?this._descriptors(t).filter(o):this._descriptors(t),a=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,o){o=o||{};for(const r of t){const a=r.plugin;if(!1===mt(a[i],[e,o,r.options],a)&&o.cancelable)return!1}return!0}invalidate(){rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,o=X(i.options&&i.options.plugins,{}),r=function Gc(n){const t={},e=[],i=Object.keys(Je.plugins.items);for(let r=0;r<i.length;r++)e.push(Je.getPlugin(i[r]));const o=n.plugins||[];for(let r=0;r<o.length;r++){const a=o[r];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==o||e?function Xc(n,{plugins:t,localIds:e},i,o){const r=[],a=n.getContext();for(const c of t){const h=c.id,u=Yc(i[h],o);null!==u&&r.push({plugin:c,options:$c(n.config,{plugin:c,local:e[h]},u,a)})}return r}(t,r,o,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,o=(r,a)=>r.filter(c=>!a.some(h=>c.plugin.id===h.plugin.id));this._notify(o(e,i),t,"stop"),this._notify(o(i,e),t,"start")}}function Yc(n,t){return t||!1!==n?!0===n?{}:n:null}function $c(n,{plugin:t,local:e},i,o){const r=n.pluginScopeKeys(t),a=n.getOptionScopes(i,r);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tr(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(_t.datasets[n]||{}).indexAxis||"x"}function ya(n){if("x"===n||"y"===n||"r"===n)return n}function Jc(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function Dr(n,...t){if(ya(n))return n;for(const e of t){const i=e.axis||Jc(e.position)||n.length>1&&ya(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function xa(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function wa(n){const t=n.options||(n.options={});t.plugins=X(t.plugins,{}),t.scales=function th(n,t){const e=G[n.type]||{scales:{}},i=t.scales||{},o=Tr(n.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!it(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=Dr(a,c,function Qc(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return xa(n,"x",e[0])||xa(n,"y",e[0])}return{}}(a,n),_t.scales[c.type]),u=function Kc(n,t){return n===t?"_index_":"_value_"}(h,o),f=e.scales||{};r[a]=Li(Object.create(null),[{axis:h},c,f[h],f[u]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,h=a.indexAxis||Tr(c,t),f=(G[c]||{}).scales||{};Object.keys(f).forEach(m=>{const v=function qc(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(m,h),b=a[v+"AxisID"]||v;r[b]=r[b]||Object.create(null),Li(r[b],[{axis:v},i[b],f[m]])})}),Object.keys(r).forEach(a=>{const c=r[a];Li(c,[_t.scales[c.type],_t.scale])}),r}(n,t)}function Pa(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Ma=new Map,Ca=new Set;function Ao(n,t){let e=Ma.get(n);return e||(e=t(),Ma.set(n,e),Ca.add(e)),e}const Ss=(n,t,e)=>{const i=Te(t,e);void 0!==i&&n.add(i)};class ih{constructor(t){this._config=function eh(n){return(n=n||{}).data=Pa(n.data),wa(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Pa(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wa(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ao(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ao(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ao(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return Ao(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let o=i.get(t);return(!o||e)&&(o=new Map,i.set(t,o)),o}getOptionScopes(t,e,i){const{options:o,type:r}=this,a=this._cachedScopes(t,i),c=a.get(e);if(c)return c;const h=new Set;e.forEach(f=>{t&&(h.add(t),f.forEach(m=>Ss(h,t,m))),f.forEach(m=>Ss(h,o,m)),f.forEach(m=>Ss(h,G[r]||{},m)),f.forEach(m=>Ss(h,_t,m)),f.forEach(m=>Ss(h,se,m))});const u=Array.from(h);return 0===u.length&&u.push(Object.create(null)),Ca.has(e)&&a.set(e,u),u}chartOptionScopes(){const{options:t,type:e}=this;return[t,G[e]||{},_t.datasets[e]||{},{type:e},_t,se]}resolveNamedOptions(t,e,i,o=[""]){const r={$shared:!0},{resolver:a,subPrefixes:c}=Sa(this._resolverCache,t,o);let h=a;(function sh(n,t){const{isScriptable:e,isIndexable:i}=as(n);for(const o of t){const r=e(o),a=i(o),c=(a||r)&&n[o];if(r&&(Ye(c)||nh(c))||a&&pt(c))return!0}return!1})(a,e)&&(r.$shared=!1,h=ri(a,i=Ye(i)?i():i,this.createResolver(t,i,c)));for(const u of e)r[u]=h[u];return r}createResolver(t,e,i=[""],o){const{resolver:r}=Sa(this._resolverCache,t,i);return it(e)?ri(r,e,void 0,o):r}}function Sa(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const o=e.join();let r=i.get(o);return r||(r={resolver:xe(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(o,r)),r}const nh=n=>it(n)&&Object.getOwnPropertyNames(n).some(t=>Ye(n[t])),rh=["top","bottom","left","right","chartArea"];function ka(n,t){return"top"===n||"bottom"===n||-1===rh.indexOf(n)&&"x"===t}function Oa(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Ea(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),mt(e&&e.onComplete,[n],t)}function ah(n){const t=n.chart,e=t.options.animation;mt(e&&e.onProgress,[n],t)}function Ta(n){return pe()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Io={},Da=n=>{const t=Ta(n);return Object.values(Io).filter(e=>e.canvas===t).pop()};function lh(n,t,e){const i=Object.keys(n);for(const o of i){const r=+o;if(r>=t){const a=n[o];delete n[o],(e>0||r>t)&&(n[r+e]=a)}}}function zo(n,t,e){return n.options.clip?n[e]:t[e]}let ks=(()=>{class n{static register(...e){Je.add(...e),La()}static unregister(...e){Je.remove(...e),La()}constructor(e,i){const o=this.config=new ih(i),r=Ta(e),a=Da(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function kc(n){return!pe()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?gc:Sc}(r)),this.platform.updateConfig(o);const h=this.platform.acquireContext(r,c.aspectRatio),u=h&&h.canvas,f=u&&u.height,m=u&&u.width;this.id=Gs(),this.ctx=h,this.canvas=u,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function $n(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],Io[this.id]=this,h&&u?(je.listen(this,"complete",Ea),je.listen(this,"progress",ah),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:o,height:r,_aspectRatio:a}=this;return rt(e)?i&&a?a:r?o/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Je}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Me(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rt(this.canvas,this.ctx),this}stop(){return je.stop(this),this}resize(e,i){je.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const o=this.options,c=this.platform.getMaximumSize(this.canvas,e,i,o.maintainAspectRatio&&this.aspectRatio),h=o.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Me(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),mt(o.onResize,[this,c],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){dt(this.options.scales||{},(o,r)=>{o.id=r})}buildOrUpdateScales(){const e=this.options,i=e.scales,o=this.scales,r=Object.keys(o).reduce((c,h)=>(c[h]=!1,c),{});let a=[];i&&(a=a.concat(Object.keys(i).map(c=>{const h=i[c],u=Dr(c,h),f="r"===u,m="x"===u;return{options:h,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),dt(a,c=>{const h=c.options,u=h.id,f=Dr(u,h),m=X(h.type,c.dtype);(void 0===h.position||ka(h.position,f)!==ka(c.dposition))&&(h.position=c.dposition),r[u]=!0;let v=null;u in o&&o[u].type===m?v=o[u]:(v=new(Je.getScale(m))({id:u,type:m,ctx:this.ctx,chart:this}),o[v.id]=v),v.init(h,e)}),dt(r,(c,h)=>{c||delete o[h]}),dt(o,c=>{qt.configure(this,c,c.options),qt.addBox(this,c)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,o=e.length;if(e.sort((r,a)=>r.index-a.index),o>i){for(let r=i;r<o;++r)this._destroyDatasetMeta(r);e.splice(i,o-i)}this._sortedMetasets=e.slice(0).sort(Oa("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((o,r)=>{0===i.filter(a=>a===o._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let o,r;for(this._removeUnreferencedMetasets(),o=0,r=i.length;o<r;o++){const a=i[o];let c=this.getDatasetMeta(o);const h=a.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(o),c=this.getDatasetMeta(o)),c.type=h,c.indexAxis=a.indexAxis||Tr(h,this.options),c.order=a.order||0,c.index=o,c.label=""+a.label,c.visible=this.isDatasetVisible(o),c.controller)c.controller.updateIndex(o),c.controller.linkScales();else{const u=Je.getController(h),{datasetElementType:f,dataElementType:m}=_t.datasets[h];Object.assign(u,{dataElementType:Je.getElement(m),datasetElementType:f&&Je.getElement(f)}),c.controller=new u(this,o),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){dt(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:v}=this.getDatasetMeta(f),b=!r&&-1===a.indexOf(v);v.buildOrUpdateElements(b),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=o.layout.autoPadding?c:0,this._updateLayout(c),r||dt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Oa("z","_idx"));const{_active:h,_lastEvent:u}=this;u?this._eventHandler(u,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){dt(this.scales,e=>{qt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!Ks(i,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:o,start:r,count:a}of i)lh(e,r,"_removeElements"===o?-a:a)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,o=a=>new Set(e.filter(c=>c[0]===a).map((c,h)=>h+","+c.splice(1).join(","))),r=o(0);for(let a=1;a<i;a++)if(!Ks(r,o(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qt.update(this,this.width,this.height,e);const i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],dt(this.boxes,r=>{o&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,Ye(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const o=this.getDatasetMeta(e),r={meta:o,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(o.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(je.has(this)?this.attached&&!je.running(this)&&je.start(this):(this.draw(),Ea({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,o=[];let r,a;for(r=0,a=i.length;r<a;++r){const c=i[r];(!e||c.visible)&&o.push(c)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,o=e._clip,r=!o.disabled,a=function hh(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:zo(e,t,"left"),right:zo(e,t,"right"),top:zo(i,t,"top"),bottom:zo(i,t,"bottom")}:t}(e,this.chartArea),c={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(r&&dn(i,{left:!1===o.left?0:a.left-o.left,right:!1===o.right?this.width:a.right+o.right,top:!1===o.top?0:a.top-o.top,bottom:!1===o.bottom?this.height:a.bottom+o.bottom}),e.controller.draw(),r&&Vi(i),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(e){return ye(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,o,r){const a=rc.modes[i];return"function"==typeof a?a(this,e,o,r):[]}getDatasetMeta(e){const i=this.data.datasets[e],o=this._metasets;let r=o.filter(a=>a&&a._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=ze(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const o=this.getDatasetMeta(e);return"boolean"==typeof o.hidden?!o.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,o){const r=o?"show":"hide",a=this.getDatasetMeta(e),c=a.controller._resolveAnimations(void 0,r);Ai(i)?(a.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),c.update(a,{visible:o}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),je.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Rt(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,o=(a,c)=>{i.addEventListener(this,a,c),e[a]=c},r=(a,c,h)=>{a.offsetX=c,a.offsetY=h,this._eventHandler(a)};dt(this.options.events,a=>o(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,o=(u,f)=>{i.addEventListener(this,u,f),e[u]=f},r=(u,f)=>{e[u]&&(i.removeEventListener(this,u,f),delete e[u])},a=(u,f)=>{this.canvas&&this.resize(u,f)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),o("resize",a),o("detach",c)};c=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),o("attach",h)},i.isAttached(this.canvas)?h():c()}unbindEvents(){dt(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},dt(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,o){const r=o?"set":"remove";let a,c,h,u;for("dataset"===i&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),h=0,u=e.length;h<u;++h){c=e[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],o=e.map(({datasetIndex:a,index:c})=>{const h=this.getDatasetMeta(a);if(!h)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:h.data[c],index:c}});!Di(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(e,i,o){return this._plugins.notify(this,e,i,o)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,o){const r=this.options.hover,a=(u,f)=>u.filter(m=>!f.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),c=a(i,e),h=o?e:a(e,i);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,i){const o={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",o,r))return;const a=this._handleEvent(e,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(a||o.changed)&&this.render(),this}_handleEvent(e,i,o){const{_active:r=[],options:a}=this,h=this._getActiveElements(e,r,o,i),u=function Jo(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),f=function ch(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(e,this._lastEvent,o,u);o&&(this._lastEvent=null,mt(a.onHover,[e,h,this],this),u&&mt(a.onClick,[e,h,this],this));const m=!Di(h,r);return(m||i)&&(this._active=h,this._updateHoverStyles(h,r,i)),this._lastEvent=f,m}_getActiveElements(e,i,o,r){if("mouseout"===e.type)return[];if(!o)return i;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,r)}}return(0,j.A)(n,"defaults",_t),(0,j.A)(n,"instances",Io),(0,j.A)(n,"overrides",G),(0,j.A)(n,"registry",Je),(0,j.A)(n,"version","4.4.6"),(0,j.A)(n,"getChart",Da),n})();function La(){return dt(ks.instances,n=>n._plugins.invalidate())}function kn(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Fo(n,t,e,i,o,r){const{x:a,y:c,startAngle:h,pixelMargin:u,innerRadius:f}=t,m=Math.max(t.outerRadius+i+e-u,0),v=f>0?f+i+e+u:0;let b=0;const P=o-h;if(i){const Dt=((f>0?f-i:0)+(m>0?m-i:0))/2;b=(P-(0!==Dt?P*Dt/(Dt+i):P))/2}const M=(P-Math.max(.001,P*m-e/bt)/m)/2,k=h+M+b,E=o-M-b,{outerStart:A,outerEnd:I,innerStart:R,innerEnd:z}=function fh(n,t,e,i){const o=function uh(n){return un(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),r=(e-t)/2,a=Math.min(r,i*t/2),c=h=>{const u=(e-Math.min(r,h))*i/2;return Lt(h,0,Math.min(r,u))};return{outerStart:c(o.outerStart),outerEnd:c(o.outerEnd),innerStart:Lt(o.innerStart,0,a),innerEnd:Lt(o.innerEnd,0,a)}}(t,v,m,E-k),W=m-A,N=m-I,V=k+A/W,Q=E-I/N,K=v+R,st=v+z,Vt=k+R/K,me=E-z/st;if(n.beginPath(),r){const vt=(V+Q)/2;if(n.arc(a,c,m,V,vt),n.arc(a,c,m,vt,Q),I>0){const Kt=kn(N,Q,a,c);n.arc(Kt.x,Kt.y,I,Q,E+Ct)}const Mt=kn(st,E,a,c);if(n.lineTo(Mt.x,Mt.y),z>0){const Kt=kn(st,me,a,c);n.arc(Kt.x,Kt.y,z,E+Ct,me+Math.PI)}const Dt=(E-z/v+(k+R/v))/2;if(n.arc(a,c,v,E-z/v,Dt,!0),n.arc(a,c,v,Dt,k+R/v,!0),R>0){const Kt=kn(K,Vt,a,c);n.arc(Kt.x,Kt.y,R,Vt+Math.PI,k-Ct)}const We=kn(W,k,a,c);if(n.lineTo(We.x,We.y),A>0){const Kt=kn(W,V,a,c);n.arc(Kt.x,Kt.y,A,k-Ct,V)}}else{n.moveTo(a,c);const vt=Math.cos(V)*m+a,Mt=Math.sin(V)*m+c;n.lineTo(vt,Mt);const Dt=Math.cos(Q)*m+a,We=Math.sin(Q)*m+c;n.lineTo(Dt,We)}n.closePath()}class Os extends He{constructor(t){super(),(0,j.A)(this,"circumference",void 0),(0,j.A)(this,"endAngle",void 0),(0,j.A)(this,"fullCircles",void 0),(0,j.A)(this,"innerRadius",void 0),(0,j.A)(this,"outerRadius",void 0),(0,j.A)(this,"pixelMargin",void 0),(0,j.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=Qs(o,{x:t,y:e}),{startAngle:c,endAngle:h,innerRadius:u,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,b=X(m,h-c),P=Ii(r,c,h)&&c!==h,w=b>=ft||P,M=Le(a,u+v,f+v);return w&&M}getCenterPoint(t){const{x:e,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:u}=this.options,f=(o+r)/2,m=(a+c+u+h)/2;return{x:e+Math.cos(f)*m,y:i+Math.sin(f)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>ft?Math.floor(i/ft):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*o,Math.sin(c)*o);const u=o*(1-Math.sin(Math.min(bt,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function gh(n,t,e,i,o){const{fullCircles:r,startAngle:a,circumference:c}=t;let h=t.endAngle;if(r){Fo(n,t,e,i,h,o);for(let u=0;u<r;++u)n.fill();isNaN(c)||(h=a+(c%ft||ft))}Fo(n,t,e,i,h,o),n.fill()}(t,this,u,r,a),function ph(n,t,e,i,o){const{fullCircles:r,startAngle:a,circumference:c,options:h}=t,{borderWidth:u,borderJoinStyle:f,borderDash:m,borderDashOffset:v}=h,b="inner"===h.borderAlign;if(!u)return;n.setLineDash(m||[]),n.lineDashOffset=v,b?(n.lineWidth=2*u,n.lineJoin=f||"round"):(n.lineWidth=u,n.lineJoin=f||"bevel");let P=t.endAngle;if(r){Fo(n,t,e,i,P,o);for(let w=0;w<r;++w)n.stroke();isNaN(c)||(P=a+(c%ft||ft))}b&&function dh(n,t,e){const{startAngle:i,pixelMargin:o,x:r,y:a,outerRadius:c,innerRadius:h}=t;let u=o/c;n.beginPath(),n.arc(r,a,c,i-u,e+u),h>o?(u=o/h,n.arc(r,a,h,e+u,i-u,!0)):n.arc(r,a,o,e+Ct,i-Ct),n.closePath(),n.clip()}(n,t,P),r||(Fo(n,t,e,i,P,o),n.stroke())}(t,this,u,r,a),t.restore()}}function Ra(n,t,e=t){n.lineCap=X(e.borderCapStyle,t.borderCapStyle),n.setLineDash(X(e.borderDash,t.borderDash)),n.lineDashOffset=X(e.borderDashOffset,t.borderDashOffset),n.lineJoin=X(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=X(e.borderWidth,t.borderWidth),n.strokeStyle=X(e.borderColor,t.borderColor)}function mh(n,t,e){n.lineTo(e.x,e.y)}function Aa(n,t,e={}){const i=n.length,{start:o=0,end:r=i-1}=e,{start:a,end:c}=t,h=Math.max(o,a),u=Math.min(r,c);return{count:i,start:h,loop:t.loop,ilen:u<h&&!(o<a&&r<a||o>c&&r>c)?i+u-h:u-h}}function vh(n,t,e,i){const{points:o,options:r}=t,{count:a,start:c,loop:h,ilen:u}=Aa(o,e,i),f=function _h(n){return n.stepped?os:n.tension||"monotone"===n.cubicInterpolationMode?sr:mh}(r);let b,P,w,{move:m=!0,reverse:v}=i||{};for(b=0;b<=u;++b)P=o[(c+(v?u-b:b))%a],!P.skip&&(m?(n.moveTo(P.x,P.y),m=!1):f(n,w,P,v,r.stepped),w=P);return h&&(P=o[(c+(v?u:0))%a],f(n,w,P,v,r.stepped)),!!h}function bh(n,t,e,i){const o=t.points,{count:r,start:a,ilen:c}=Aa(o,e,i),{move:h=!0,reverse:u}=i||{};let v,b,P,w,M,k,f=0,m=0;const E=I=>(a+(u?c-I:I))%r,A=()=>{w!==M&&(n.lineTo(f,M),n.lineTo(f,w),n.lineTo(f,k))};for(h&&(b=o[E(0)],n.moveTo(b.x,b.y)),v=0;v<=c;++v){if(b=o[E(v)],b.skip)continue;const I=b.x,R=b.y,z=0|I;z===P?(R<w?w=R:R>M&&(M=R),f=(m*f+I)/++m):(A(),n.lineTo(I,R),P=z,m=0,w=M=R),k=R}A()}function Lr(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?vh:bh}(0,j.A)(Os,"id","arc"),(0,j.A)(Os,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,j.A)(Os,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,j.A)(Os,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n});const Ph="function"==typeof Path2D;let Bo=(()=>{class n extends He{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(_r(this._points,o,e,o.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function fo(n,t){const e=n.points,i=n.options.spanGaps,o=e.length;if(!o)return[];const r=!!n._loop,{start:a,end:c}=function bn(n,t,e,i){let o=0,r=t-1;if(e&&!i)for(;o<t&&!n[o].skip;)o++;for(;o<t&&n[o].skip;)o++;for(o%=t,e&&(r+=o);r>o&&n[r%t].skip;)r--;return r%=t,{start:o,end:r}}(e,o,r,i);return function go(n,t,e,i){return i&&i.setContext&&e?function po(n,t,e,i){const o=n._chart.getContext(),r=mo(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,h=e.length,u=[];let f=r,m=t[0].start,v=m;function b(P,w,M,k){const E=c?-1:1;if(P!==w){for(P+=h;e[P%h].skip;)P-=E;for(;e[w%h].skip;)w+=E;P%h!=w%h&&(u.push({start:P%h,end:w%h,loop:M,style:k}),f=k,m=w%h)}}for(const P of t){m=c?m:P.start;let M,w=e[m%h];for(v=m+1;v<=P.end;v++){const k=e[v%h];M=mo(i.setContext(ze(o,{type:"segment",p0:w,p1:k,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:a}))),Ce(M,f)&&b(m,v-1,P.loop,f),w=k,f=M}m<v-1&&b(m,v-1,P.loop,f)}return u}(n,t,e,i):t}(n,!0===i?[{start:a,end:c,loop:r}]:function wr(n,t,e,i){const o=n.length,r=[];let h,a=t,c=n[t];for(h=t+1;h<=e;++h){const u=n[h%o];u.skip||u.stop?c.skip||(r.push({start:t%o,end:(h-1)%o,loop:i=!1}),t=a=u.stop?h:null):(a=h,c.skip&&(t=h)),c=u}return null!==a&&r.push({start:t%o,end:a%o,loop:i}),r}(e,a,c<a?c+o:c,!!n._fullLoop&&0===a&&c===o-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,o=e.length;return o&&this.points[e[o-1].end]}interpolate(e,i){const o=this.options,r=e[i],a=this.points,c=uo(this,{property:i,start:r,end:r});if(!c.length)return;const h=[],u=function yh(n){return n.stepped?Be:n.tension||"monotone"===n.cubicInterpolationMode?_n:ci}(o);let f,m;for(f=0,m=c.length;f<m;++f){const{start:v,end:b}=c[f],P=a[v],w=a[b];if(P===w){h.push(P);continue}const k=u(P,w,Math.abs((r-P[i])/(w[i]-P[i])),o.stepped);k[i]=e[i],h.push(k)}return 1===h.length?h[0]:h}pathSegment(e,i,o){return Lr(this)(e,this,i,o)}path(e,i,o){const r=this.segments,a=Lr(this);let c=this._loop;i=i||0,o=o||this.points.length-i;for(const h of r)c&=a(e,this,h,{start:i,end:i+o-1});return!!c}draw(e,i,o,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Mh(n,t,e,i){Ph&&!t.options.segment?function xh(n,t,e,i){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,i)&&o.closePath()),Ra(n,t.options),n.stroke(o)}(n,t,e,i):function wh(n,t,e,i){const{segments:o,options:r}=t,a=Lr(t);for(const c of o)Ra(n,r,c.style),n.beginPath(),a(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return(0,j.A)(n,"id","line"),(0,j.A)(n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,j.A)(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,j.A)(n,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t}),n})();function Ia(n,t,e,i){const o=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<o.radius+o.hitRadius}let Ch=(()=>{class n extends He{constructor(e){super(),(0,j.A)(this,"parsed",void 0),(0,j.A)(this,"skip",void 0),(0,j.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){const r=this.options,{x:a,y:c}=this.getProps(["x","y"],o);return Math.pow(e-a,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return Ia(this,e,"x",i)}inYRange(e,i){return Ia(this,e,"y",i)}getCenterPoint(e){const{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const o=this.options;this.skip||o.radius<.1||!ye(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,Ae(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return(0,j.A)(n,"id","point"),(0,j.A)(n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,j.A)(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),n})();function za(n,t){const{x:e,y:i,base:o,width:r,height:a}=n.getProps(["x","y","base","width","height"],t);let c,h,u,f,m;return n.horizontal?(m=a/2,c=Math.min(e,o),h=Math.max(e,o),u=i-m,f=i+m):(m=r/2,c=e-m,h=e+m,u=Math.min(i,o),f=Math.max(i,o)),{left:c,top:u,right:h,bottom:f}}function Si(n,t,e,i){return n?0:Lt(t,e,i)}function Rr(n,t,e,i){const o=null===t,r=null===e,c=n&&!(o&&r)&&za(n,i);return c&&(o||Le(t,c.left,c.right))&&(r||Le(e,c.top,c.bottom))}function Th(n,t){n.rect(t.x,t.y,t.w,t.h)}function Ar(n,t,e={}){const i=n.x!==e.x?-t:0,o=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+o,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-o),radius:n.radius}}class No extends He{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:a}=function Oh(n){const t=za(n),e=t.right-t.left,i=t.bottom-t.top,o=function Sh(n,t,e){const o=n.borderSkipped,r=so(n.options.borderWidth);return{t:Si(o.top,r.top,0,e),r:Si(o.right,r.right,0,t),b:Si(o.bottom,r.bottom,0,e),l:Si(o.left,r.left,0,t)}}(n,e/2,i/2),r=function kh(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,r=oi(o),a=Math.min(t,e),c=n.borderSkipped,h=i||it(o);return{topLeft:Si(!h||c.top||c.left,r.topLeft,0,a),topRight:Si(!h||c.top||c.right,r.topRight,0,a),bottomLeft:Si(!h||c.bottom||c.left,r.bottomLeft,0,a),bottomRight:Si(!h||c.bottom||c.right,r.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}(this),c=function Eh(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?Ie:Th;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),c(t,Ar(a,e,r)),t.clip(),c(t,Ar(r,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Ar(r,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,i){return Rr(this,t,e,i)}inXRange(t,e){return Rr(this,t,null,e)}inYRange(t,e){return Rr(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+o)/2:e,y:r?i:(i+o)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}(0,j.A)(No,"id","bar"),(0,j.A)(No,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,j.A)(No,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Dh=Object.freeze({__proto__:null,ArcElement:Os,BarElement:No,LineElement:Bo,PointElement:Ch});const Ir=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fa=Ir.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ba(n){return Ir[n%Ir.length]}function Na(n){return Fa[n%Fa.length]}function ja(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Bh={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:o}=n.config,{elements:r}=o,a=ja(i)||function zh(n){return n&&(n.borderColor||n.backgroundColor)}(o)||r&&ja(r)||function Fh(){return"rgba(0,0,0,0.1)"!==_t.borderColor||"rgba(0,0,0,0.1)"!==_t.backgroundColor}();if(!e.forceOverride&&a)return;const c=function Ih(n){let t=0;return(e,i)=>{const o=n.getDatasetMeta(i).controller;o instanceof Xt?t=function Rh(n,t){return n.backgroundColor=n.data.map(()=>Ba(t++)),t}(e,t):o instanceof ui?t=function Ah(n,t){return n.backgroundColor=n.data.map(()=>Na(t++)),t}(e,t):o&&(t=function Lh(n,t){return n.borderColor=Ba(t),n.backgroundColor=Na(t),++t}(e,t))}}(n);i.forEach(c)}};function Ha(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Wa(n){n.data.datasets.forEach(t=>{Ha(t)})}var Wh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Wa(n);const i=n.width;n.data.datasets.forEach((o,r)=>{const{_data:a,indexAxis:c}=o,h=n.getDatasetMeta(r),u=a||o.data;if("y"===Gt([c,n.options.indexAxis])||!h.controller.supportsDecimation)return;const f=n.scales[h.xAxisID];if("linear"!==f.type&&"time"!==f.type||n.options.parsing)return;let P,{start:m,count:v}=function Hh(n,t){const e=t.length;let o,i=0;const{iScale:r}=n,{min:a,max:c,minDefined:h,maxDefined:u}=r.getUserBounds();return h&&(i=Lt(fe(t,r.axis,a).lo,0,e-1)),o=u?Lt(fe(t,r.axis,c).hi+1,i,e)-i:e-i,{start:i,count:o}}(h,u);if(v<=(e.threshold||4*i))Ha(o);else{switch(rt(a)&&(o._data=u,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}})),e.algorithm){case"lttb":P=function Nh(n,t,e,i,o){const r=o.samples||i;if(r>=e)return n.slice(t,t+e);const a=[],c=(e-2)/(r-2);let h=0;const u=t+e-1;let m,v,b,P,w,f=t;for(a[h++]=n[f],m=0;m<r-2;m++){let E,M=0,k=0;const A=Math.floor((m+1)*c)+1+t,I=Math.min(Math.floor((m+2)*c)+1,e)+t,R=I-A;for(E=A;E<I;E++)M+=n[E].x,k+=n[E].y;M/=R,k/=R;const z=Math.floor(m*c)+1+t,W=Math.min(Math.floor((m+1)*c)+1,e)+t,{x:N,y:V}=n[f];for(b=P=-1,E=z;E<W;E++)P=.5*Math.abs((N-M)*(n[E].y-V)-(N-n[E].x)*(k-V)),P>b&&(b=P,v=n[E],w=E);a[h++]=v,f=w}return a[h++]=n[u],a}(u,m,v,i,e);break;case"min-max":P=function jh(n,t,e,i){let a,c,h,u,f,m,v,b,P,w,o=0,r=0;const M=[],E=n[t].x,I=n[t+e-1].x-E;for(a=t;a<t+e;++a){c=n[a],h=(c.x-E)/I*i,u=c.y;const R=0|h;if(R===f)u<P?(P=u,m=a):u>w&&(w=u,v=a),o=(r*o+c.x)/++r;else{const z=a-1;if(!rt(m)&&!rt(v)){const W=Math.min(m,v),N=Math.max(m,v);W!==b&&W!==z&&M.push({...n[W],x:o}),N!==b&&N!==z&&M.push({...n[N],x:o})}a>0&&z!==b&&M.push(n[z]),M.push(c),f=R,r=0,P=w=u,m=v=b=a}}return M}(u,m,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=P}})},destroy(n){Wa(n)}};function zr(n,t,e,i){if(i)return;let o=t[n],r=e[n];return"angle"===n&&(o=Nt(o),r=Nt(r)),{property:n,start:o,end:r}}function Fr(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Va(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Ua(n,t){let e=[],i=!1;return pt(n)?(i=!0,e=n):e=function Uh(n,t){const{x:e=null,y:i=null}=n||{},o=t.points,r=[];return t.segments.forEach(({start:a,end:c})=>{c=Fr(a,c,o);const h=o[a],u=o[c];null!==i?(r.push({x:h.x,y:i}),r.push({x:u.x,y:i})):null!==e&&(r.push({x:e,y:h.y}),r.push({x:e,y:u.y}))}),r}(n,t),e.length?new Bo({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Za(n){return n&&!1!==n.fill}function Zh(n,t,e){let o=n[t].fill;const r=[t];let a;if(!e)return o;for(;!1!==o&&-1===r.indexOf(o);){if(!Pt(o))return o;if(a=n[o],!a)return!1;if(a.visible)return o;r.push(o),o=a.fill}return!1}function Gh(n,t,e){const i=function qh(n){const t=n.options,e=t.fill;let i=X(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(it(i))return!isNaN(i.value)&&i;let o=parseFloat(i);return Pt(o)&&Math.floor(o)===o?function Yh(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Qh(n,t,e){const i=[];for(let o=0;o<e.length;o++){const r=e[o],{first:a,last:c,point:h}=td(r,t,"x");if(!(!h||a&&c))if(a)i.unshift(h);else if(n.push(h),!c)break}n.push(...i)}function td(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const o=i[e],r=n.segments,a=n.points;let c=!1,h=!1;for(let u=0;u<r.length;u++){const f=r[u],m=a[f.start][e],v=a[f.end][e];if(Le(o,m,v)){c=o===m,h=o===v;break}}return{first:c,last:h,point:i}}class Ga{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:o,y:r,radius:a}=this;return t.arc(o,r,a,(e=e||{start:0,end:ft}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:o}=this,r=t.angle;return{x:e+Math.cos(r)*o,y:i+Math.sin(r)*o,angle:r}}}function Br(n,t,e){const i=function ed(n){const{chart:t,fill:e,line:i}=n;if(Pt(e))return function id(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function Kh(n){const{scale:t,index:e,line:i}=n,o=[],r=i.segments,a=i.points,c=function Jh(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const r=i[o];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}(t,e);c.push(Ua({x:null,y:t.bottom},i));for(let h=0;h<r.length;h++){const u=r[h];for(let f=u.start;f<=u.end;f++)Qh(o,a[f],c)}return new Bo({points:o,options:{}})}(n);if("shape"===e)return!0;const o=function nd(n){return(n.scale||{}).getPointPositionForValue?function od(n){const{scale:t,fill:e}=n,i=t.options,o=t.getLabels().length,r=i.reverse?t.max:t.min,a=function $h(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:it(n)?n.value:t.getBaseValue(),i}(e,t,r),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,r);return new Ga({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<o;++h)c.push(t.getPointPositionForValue(h,a));return c}(n):function sd(n){const{scale:t={},fill:e}=n,i=function Xh(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:it(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Pt(i)){const o=t.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}(n)}(n);return o instanceof Ga?o:Ua(o,i)}(t),{line:o,scale:r,axis:a}=t,c=o.options,h=c.fill,u=c.backgroundColor,{above:f=u,below:m=u}=h||{};i&&o.points.length&&(dn(n,e),function rd(n,t){const{line:e,target:i,above:o,below:r,area:a,scale:c}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&r!==o&&(Ya(n,i,a.top),Xa(n,{line:e,target:i,color:o,scale:c,property:h}),n.restore(),n.save(),Ya(n,i,a.bottom)),Xa(n,{line:e,target:i,color:r,scale:c,property:h}),n.restore()}(n,{line:o,target:i,above:f,below:m,area:e,scale:r,axis:a}),Vi(n))}function Ya(n,t,e){const{segments:i,points:o}=t;let r=!0,a=!1;n.beginPath();for(const c of i){const{start:h,end:u}=c,f=o[h],m=o[Fr(h,u,o)];r?(n.moveTo(f.x,f.y),r=!1):(n.lineTo(f.x,e),n.lineTo(f.x,f.y)),a=!!t.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(m.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Xa(n,t){const{line:e,target:i,property:o,color:r,scale:a}=t,c=function Vh(n,t,e){const i=n.segments,o=n.points,r=t.points,a=[];for(const c of i){let{start:h,end:u}=c;u=Fr(h,u,o);const f=zr(e,o[h],o[u],c.loop);if(!t.segments){a.push({source:c,target:f,start:o[h],end:o[u]});continue}const m=uo(t,f);for(const v of m){const b=zr(e,r[v.start],r[v.end],v.loop),P=ps(c,o,b);for(const w of P)a.push({source:w,target:v,start:{[e]:Va(f,b,"start",Math.max)},end:{[e]:Va(f,b,"end",Math.min)}})}}return a}(e,i,o);for(const{source:h,target:u,start:f,end:m}of c){const{style:{backgroundColor:v=r}={}}=h,b=!0!==i;n.save(),n.fillStyle=v,ad(n,a,b&&zr(o,f,m)),n.beginPath();const P=!!e.pathSegment(n,h);let w;if(b){P?n.closePath():$a(n,i,m,o);const M=!!i.pathSegment(n,u,{move:P,reverse:!0});w=P&&M,w||$a(n,i,f,o)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function ad(n,t,e){const{top:i,bottom:o}=t.chart.chartArea,{property:r,start:a,end:c}=e||{};"x"===r&&(n.beginPath(),n.rect(a,i,c-a,o-i),n.clip())}function $a(n,t,e,i){const o=t.interpolate(e,i);o&&n.lineTo(o.x,o.y)}var ld={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,o=[];let r,a,c,h;for(a=0;a<i;++a)r=n.getDatasetMeta(a),c=r.dataset,h=null,c&&c.options&&c instanceof Bo&&(h={visible:n.isDatasetVisible(a),index:a,fill:Gh(c,a,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=h,o.push(h);for(a=0;a<i;++a)h=o[a],h&&!1!==h.fill&&(h.fill=Zh(o,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,o=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let a=o.length-1;a>=0;--a){const c=o[a].$filler;c&&(c.line.updateControlPoints(r,c.axis),i&&c.fill&&Br(n.ctx,c,r))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const r=i[o].$filler;Za(r)&&Br(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!Za(i)||"beforeDatasetDraw"!==e.drawTime||Br(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qa=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class Ka extends He{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=mt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,o)=>t.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,o=Tt(i.font),r=o.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=qa(i,r);let u,f;e.font=o.string,this.isHorizontal()?(u=this.maxWidth,f=this._fitRows(a,r,c,h)+10):(f=this.maxHeight,u=this._fitCols(a,o,c,h)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,o){const{ctx:r,maxWidth:a,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],u=this.lineWidths=[0],f=o+c;let m=t;r.textAlign="left",r.textBaseline="middle";let v=-1,b=-f;return this.legendItems.forEach((P,w)=>{const M=i+e/2+r.measureText(P.text).width;(0===w||u[u.length-1]+M+2*c>a)&&(m+=f,u[u.length-(w>0?0:1)]=0,b+=f,v++),h[w]={left:0,top:b,row:v,width:M,height:o},u[u.length-1]+=M+c}),m}_fitCols(t,e,i,o){const{ctx:r,maxHeight:a,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],u=this.columnSizes=[],f=a-t;let m=c,v=0,b=0,P=0,w=0;return this.legendItems.forEach((M,k)=>{const{itemWidth:E,itemHeight:A}=function hd(n,t,e,i,o){const r=function dd(n,t,e,i){let o=n.text;return o&&"string"!=typeof o&&(o=o.reduce((r,a)=>r.length>a.length?r:a)),t+e.size/2+i.measureText(o).width}(i,n,t,e),a=function ud(n,t,e){let i=n;return"string"!=typeof t.text&&(i=Ja(t,e)),i}(o,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}(i,e,r,M,o);k>0&&b+A+2*c>f&&(m+=v+c,u.push({width:v,height:b}),P+=v+c,w++,v=b=0),h[k]={left:P,top:b,col:w,width:E,height:A},v=Math.max(v,E),b+=A+c}),m+=v,u.push({width:v,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:r}}=this,a=Ne(r,this.left,this.width);if(this.isHorizontal()){let c=0,h=nt(i,this.left+o,this.right-this.lineWidths[c]);for(const u of e)c!==u.row&&(c=u.row,h=nt(i,this.left+o,this.right-this.lineWidths[c])),u.top+=this.top+t+o,u.left=a.leftForLtr(a.x(h),u.width),h+=u.width+o}else{let c=0,h=nt(i,this.top+t+o,this.bottom-this.columnSizes[c].height);for(const u of e)u.col!==c&&(c=u.col,h=nt(i,this.top+t+o,this.bottom-this.columnSizes[c].height)),u.top=h,u.left+=this.left+o,u.left=a.leftForLtr(a.x(u.left),u.width),h+=u.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;dn(t,this),this._draw(),Vi(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:o}=this,{align:r,labels:a}=t,c=_t.color,h=Ne(t.rtl,this.left,this.width),u=Tt(a.font),{padding:f}=a,m=u.size,v=m/2;let b;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=u.string;const{boxWidth:P,boxHeight:w,itemHeight:M}=qa(a,m),A=this.isHorizontal(),I=this._computeTitleHeight();b=A?{x:nt(r,this.left+f,this.right-i[0]),y:this.top+f+I,line:0}:{x:this.left+f,y:nt(r,this.top+I+f,this.bottom-e[0].height),line:0},vn(this.ctx,t.textDirection);const R=M+f;this.legendItems.forEach((z,W)=>{o.strokeStyle=z.fontColor,o.fillStyle=z.fontColor;const N=o.measureText(z.text).width,V=h.textAlign(z.textAlign||(z.textAlign=a.textAlign)),Q=P+v+N;let K=b.x,st=b.y;h.setWidth(this.width),A?W>0&&K+Q+f>this.right&&(st=b.y+=R,b.line++,K=b.x=nt(r,this.left+f,this.right-i[b.line])):W>0&&st+R>this.bottom&&(K=b.x=K+e[b.line].width+f,b.line++,st=b.y=nt(r,this.top+I+f,this.bottom-e[b.line].height)),function(z,W,N){if(isNaN(P)||P<=0||isNaN(w)||w<0)return;o.save();const V=X(N.lineWidth,1);if(o.fillStyle=X(N.fillStyle,c),o.lineCap=X(N.lineCap,"butt"),o.lineDashOffset=X(N.lineDashOffset,0),o.lineJoin=X(N.lineJoin,"miter"),o.lineWidth=V,o.strokeStyle=X(N.strokeStyle,c),o.setLineDash(X(N.lineDash,[])),a.usePointStyle){const Q={radius:w*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:V},K=h.xPlus(z,P/2);ss(o,Q,K,W+v,a.pointStyleWidth&&P)}else{const Q=W+Math.max((m-w)/2,0),K=h.leftForLtr(z,P),st=oi(N.borderRadius);o.beginPath(),Object.values(st).some(Vt=>0!==Vt)?Ie(o,{x:K,y:Q,w:P,h:w,radius:st}):o.rect(K,Q,P,w),o.fill(),0!==V&&o.stroke()}o.restore()}(h.x(K),st,z),K=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(V,K+P+v,A?K+Q:this.right,t.rtl),function(z,W,N){Ft(o,N.text,z,W+M/2,u,{strikethrough:N.hidden,textAlign:h.textAlign(N.textAlign)})}(h.x(K),st,z),A?b.x+=Q+f:b.y+="string"!=typeof z.text?Ja(z,u.lineHeight)+f:R}),Gi(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Tt(e.font),o=At(e.padding);if(!e.display)return;const r=Ne(t.rtl,this.left,this.width),a=this.ctx,c=e.position,u=o.top+i.size/2;let f,m=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),f=this.top+u,m=nt(t.align,m,this.right-v);else{const P=this.columnSizes.reduce((w,M)=>Math.max(w,M.height),0);f=u+nt(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}const b=nt(c,m,m+v);a.textAlign=r.textAlign(q(c)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Ft(a,e.text,b,f,i)}_computeTitleHeight(){const t=this.options.title,e=Tt(t.font),i=At(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,o,r;if(Le(t,this.left,this.right)&&Le(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],Le(t,o.left,o.left+o.width)&&Le(e,o.top,o.top+o.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function fd(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,r=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(o,i);o&&!r&&mt(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!r&&mt(e.onHover,[t,i,this],this)}else i&&mt(e.onClick,[t,i,this],this)}}function Ja(n,t){return t*(n.text?n.text.length:0)}var gd={id:"legend",_element:Ka,start(n,t,e){const i=n.legend=new Ka({ctx:n.ctx,options:e,chart:n});qt.configure(n,i,e),qt.addBox(n,i)},stop(n){qt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;qt.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),t.hidden=!0):(o.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:r,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const u=h.controller.getStyle(e?0:void 0),f=At(u.borderWidth);return{text:t[h.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!h.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:o||u.textAlign,borderRadius:a&&(c||u.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Nr extends He{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const o=pt(i.text)?i.text.length:1;this._padding=At(i.padding);const r=o*Tt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:o,right:r,options:a}=this,c=a.align;let u,f,m,h=0;return this.isHorizontal()?(f=nt(c,i,r),m=e+t,u=r-i):("left"===a.position?(f=i+t,m=nt(c,o,e),h=-.5*bt):(f=r-t,m=nt(c,e,o),h=.5*bt),u=o-e),{titleX:f,titleY:m,maxWidth:u,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Tt(e.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:h,rotation:u}=this._drawArgs(r);Ft(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:u,textAlign:q(e.align),textBaseline:"middle",translation:[a,c]})}}var md={id:"title",_element:Nr,start(n,t,e){!function pd(n,t){const e=new Nr({ctx:n.ctx,options:t,chart:n});qt.configure(n,e,t),qt.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){qt.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;qt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jo=new WeakMap;var _d={id:"subtitle",start(n,t,e){const i=new Nr({ctx:n.ctx,options:e,chart:n});qt.configure(n,i,e),qt.addBox(n,i),jo.set(n,i)},stop(n){qt.removeBox(n,jo.get(n)),jo.delete(n)},beforeUpdate(n,t,e){const i=jo.get(n);qt.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Es={average(n){if(!n.length)return!1;let t,e,i=new Set,o=0,r=0;for(t=0,e=n.length;t<e;++t){const c=n[t].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),o+=h.y,++r}}return 0!==r&&0!==i.size&&{x:[...i].reduce((c,h)=>c+h)/i.size,y:o/r}},nearest(n,t){if(!n.length)return!1;let r,a,c,e=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(r=0,a=n.length;r<a;++r){const h=n[r].element;if(h&&h.hasValue()){const f=ln(t,h.getCenterPoint());f<o&&(o=f,c=h)}}if(c){const h=c.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Qe(n,t){return t&&(pt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function gi(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function vd(n,t){const{element:e,datasetIndex:i,index:o}=t,r=n.getDatasetMeta(i).controller,{label:a,value:c}=r.getLabelAndValue(o);return{chart:n,label:a,parsed:r.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:c,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function Qa(n,t){const e=n.chart.ctx,{body:i,footer:o,title:r}=n,{boxWidth:a,boxHeight:c}=t,h=Tt(t.bodyFont),u=Tt(t.titleFont),f=Tt(t.footerFont),m=r.length,v=o.length,b=i.length,P=At(t.padding);let w=P.height,M=0,k=i.reduce((I,R)=>I+R.before.length+R.lines.length+R.after.length,0);k+=n.beforeBody.length+n.afterBody.length,m&&(w+=m*u.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),k&&(w+=b*(t.displayColors?Math.max(c,h.lineHeight):h.lineHeight)+(k-b)*h.lineHeight+(k-1)*t.bodySpacing),v&&(w+=t.footerMarginTop+v*f.lineHeight+(v-1)*t.footerSpacing);let E=0;const A=function(I){M=Math.max(M,e.measureText(I).width+E)};return e.save(),e.font=u.string,dt(n.title,A),e.font=h.string,dt(n.beforeBody.concat(n.afterBody),A),E=t.displayColors?a+2+t.boxPadding:0,dt(i,I=>{dt(I.before,A),dt(I.lines,A),dt(I.after,A)}),E=0,e.font=f.string,dt(n.footer,A),e.restore(),M+=P.width,{width:M,height:w}}function xd(n,t,e,i){const{x:o,width:r}=e,{width:a,chartArea:{left:c,right:h}}=n;let u="center";return"center"===i?u=o<=(c+h)/2?"left":"right":o<=r/2?u="left":o>=a-r/2&&(u="right"),function yd(n,t,e,i){const{x:o,width:r}=i,a=e.caretSize+e.caretPadding;if("left"===n&&o+r+a>t.width||"right"===n&&o-r-a<0)return!0}(u,n,t,e)&&(u="center"),u}function tl(n,t,e){const i=e.yAlign||t.yAlign||function bd(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||xd(n,t,e,i),yAlign:i}}function el(n,t,e,i){const{caretSize:o,caretPadding:r,cornerRadius:a}=n,{xAlign:c,yAlign:h}=e,u=o+r,{topLeft:f,topRight:m,bottomLeft:v,bottomRight:b}=oi(a);let P=function wd(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,c);const w=function Pd(n,t,e){let{y:i,height:o}=n;return"top"===t?i+=e:i-="bottom"===t?o+e:o/2,i}(t,h,u);return"center"===h?"left"===c?P+=u:"right"===c&&(P-=u):"left"===c?P-=Math.max(f,v)+o:"right"===c&&(P+=Math.max(m,b)+o),{x:Lt(P,0,i.width-t.width),y:Lt(w,0,i.height-t.height)}}function Ho(n,t,e){const i=At(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function il(n){return Qe([],gi(n))}function nl(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const sl={beforeTitle:Ee,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ee,beforeBody:Ee,beforeLabel:Ee,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return rt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ee,afterBody:Ee,beforeFooter:Ee,footer:Ee,afterFooter:Ee};function oe(n,t,e,i){const o=n[t].call(e,i);return typeof o>"u"?sl[t].call(e,i):o}let ol=(()=>{class n extends He{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&i.options.animation&&o.animations,a=new vo(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function Md(n,t,e){return ze(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:o}=i,r=oe(o,"beforeTitle",this,e),a=oe(o,"title",this,e),c=oe(o,"afterTitle",this,e);let h=[];return h=Qe(h,gi(r)),h=Qe(h,gi(a)),h=Qe(h,gi(c)),h}getBeforeBody(e,i){return il(oe(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:o}=i,r=[];return dt(e,a=>{const c={before:[],lines:[],after:[]},h=nl(o,a);Qe(c.before,gi(oe(h,"beforeLabel",this,a))),Qe(c.lines,oe(h,"label",this,a)),Qe(c.after,gi(oe(h,"afterLabel",this,a))),r.push(c)}),r}getAfterBody(e,i){return il(oe(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:o}=i,r=oe(o,"beforeFooter",this,e),a=oe(o,"footer",this,e),c=oe(o,"afterFooter",this,e);let h=[];return h=Qe(h,gi(r)),h=Qe(h,gi(a)),h=Qe(h,gi(c)),h}_createItems(e){const i=this._active,o=this.chart.data,r=[],a=[],c=[];let u,f,h=[];for(u=0,f=i.length;u<f;++u)h.push(vd(this.chart,i[u]));return e.filter&&(h=h.filter((m,v,b)=>e.filter(m,v,b,o))),e.itemSort&&(h=h.sort((m,v)=>e.itemSort(m,v,o))),dt(h,m=>{const v=nl(e.callbacks,m);r.push(oe(v,"labelColor",this,m)),a.push(oe(v,"labelPointStyle",this,m)),c.push(oe(v,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=h,h}update(e,i){const o=this.options.setContext(this.getContext()),r=this._active;let a,c=[];if(r.length){const h=Es[o.position].call(this,r,this._eventPosition);c=this._createItems(o),this.title=this.getTitle(c,o),this.beforeBody=this.getBeforeBody(c,o),this.body=this.getBody(c,o),this.afterBody=this.getAfterBody(c,o),this.footer=this.getFooter(c,o);const u=this._size=Qa(this,o),f=Object.assign({},h,u),m=tl(this.chart,o,f),v=el(o,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:v.x,y:v.y,width:u.width,height:u.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,o,r){const a=this.getCaretPosition(e,o,r);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(e,i,o){const{xAlign:r,yAlign:a}=this,{caretSize:c,cornerRadius:h}=o,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:v}=oi(h),{x:b,y:P}=e,{width:w,height:M}=i;let k,E,A,I,R,z;return"center"===a?(R=P+M/2,"left"===r?(k=b,E=k-c,I=R+c,z=R-c):(k=b+w,E=k+c,I=R-c,z=R+c),A=k):(E="left"===r?b+Math.max(u,m)+c:"right"===r?b+w-Math.max(f,v)-c:this.caretX,"top"===a?(I=P,R=I-c,k=E-c,A=E+c):(I=P+M,R=I+c,k=E+c,A=E-c),z=I),{x1:k,x2:E,x3:A,y1:I,y2:R,y3:z}}drawTitle(e,i,o){const r=this.title,a=r.length;let c,h,u;if(a){const f=Ne(o.rtl,this.x,this.width);for(e.x=Ho(this,o.titleAlign,o),i.textAlign=f.textAlign(o.titleAlign),i.textBaseline="middle",c=Tt(o.titleFont),h=o.titleSpacing,i.fillStyle=o.titleColor,i.font=c.string,u=0;u<a;++u)i.fillText(r[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,u+1===a&&(e.y+=o.titleMarginBottom-h)}}_drawColorBox(e,i,o,r,a){const c=this.labelColors[o],h=this.labelPointStyles[o],{boxHeight:u,boxWidth:f}=a,m=Tt(a.bodyFont),v=Ho(this,"left",a),b=r.x(v),w=i.y+(u<m.lineHeight?(m.lineHeight-u)/2:0);if(a.usePointStyle){const M={radius:Math.min(f,u)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},k=r.leftForLtr(b,f)+f/2,E=w+u/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,Ae(e,M,k,E),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Ae(e,M,k,E)}else{e.lineWidth=it(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const M=r.leftForLtr(b,f),k=r.leftForLtr(r.xPlus(b,1),f-2),E=oi(c.borderRadius);Object.values(E).some(A=>0!==A)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Ie(e,{x:M,y:w,w:f,h:u,radius:E}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Ie(e,{x:k,y:w+1,w:f-2,h:u-2,radius:E}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(M,w,f,u),e.strokeRect(M,w,f,u),e.fillStyle=c.backgroundColor,e.fillRect(k,w+1,f-2,u-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,i,o){const{body:r}=this,{bodySpacing:a,bodyAlign:c,displayColors:h,boxHeight:u,boxWidth:f,boxPadding:m}=o,v=Tt(o.bodyFont);let b=v.lineHeight,P=0;const w=Ne(o.rtl,this.x,this.width),M=function(V){i.fillText(V,w.x(e.x+P),e.y+b/2),e.y+=b+a},k=w.textAlign(c);let E,A,I,R,z,W,N;for(i.textAlign=c,i.textBaseline="middle",i.font=v.string,e.x=Ho(this,k,o),i.fillStyle=o.bodyColor,dt(this.beforeBody,M),P=h&&"right"!==k?"center"===c?f/2+m:f+2+m:0,R=0,W=r.length;R<W;++R){for(E=r[R],A=this.labelTextColors[R],i.fillStyle=A,dt(E.before,M),I=E.lines,h&&I.length&&(this._drawColorBox(i,e,R,w,o),b=Math.max(v.lineHeight,u)),z=0,N=I.length;z<N;++z)M(I[z]),b=v.lineHeight;dt(E.after,M)}P=0,b=v.lineHeight,dt(this.afterBody,M),e.y-=a}drawFooter(e,i,o){const r=this.footer,a=r.length;let c,h;if(a){const u=Ne(o.rtl,this.x,this.width);for(e.x=Ho(this,o.footerAlign,o),e.y+=o.footerMarginTop,i.textAlign=u.textAlign(o.footerAlign),i.textBaseline="middle",c=Tt(o.footerFont),i.fillStyle=o.footerColor,i.font=c.string,h=0;h<a;++h)i.fillText(r[h],u.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+o.footerSpacing}}drawBackground(e,i,o,r){const{xAlign:a,yAlign:c}=this,{x:h,y:u}=e,{width:f,height:m}=o,{topLeft:v,topRight:b,bottomLeft:P,bottomRight:w}=oi(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(h+v,u),"top"===c&&this.drawCaret(e,i,o,r),i.lineTo(h+f-b,u),i.quadraticCurveTo(h+f,u,h+f,u+b),"center"===c&&"right"===a&&this.drawCaret(e,i,o,r),i.lineTo(h+f,u+m-w),i.quadraticCurveTo(h+f,u+m,h+f-w,u+m),"bottom"===c&&this.drawCaret(e,i,o,r),i.lineTo(h+P,u+m),i.quadraticCurveTo(h,u+m,h,u+m-P),"center"===c&&"left"===a&&this.drawCaret(e,i,o,r),i.lineTo(h,u+v),i.quadraticCurveTo(h,u,h+v,u),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,o=this.$animations,r=o&&o.x,a=o&&o.y;if(r||a){const c=Es[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Qa(this,e),u=Object.assign({},c,this._size),f=tl(i,e,u),m=el(e,u,f,i);(r._to!==m.x||a._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const c=At(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=o,this.drawBackground(a,e,r,i),vn(e,i.textDirection),a.y+=c.top,this.drawTitle(a,e,i),this.drawBody(a,e,i),this.drawFooter(a,e,i),Gi(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const o=this._active,r=e.map(({datasetIndex:h,index:u})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[u],index:u}}),a=!Di(o,r),c=this._positionChanged(r,i);(a||c)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],c=this._getActiveElements(e,a,i,o),h=this._positionChanged(c,e),u=i||!Di(c,a)||h;return u&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),u}_getActiveElements(e,i,o,r){const a=this.options;if("mouseout"===e.type)return[];if(!r)return i.filter(h=>this.chart.data.datasets[h.datasetIndex]&&void 0!==this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index));const c=this.chart.getElementsAtEventForMode(e,a.mode,a,o);return a.reverse&&c.reverse(),c}_positionChanged(e,i){const{caretX:o,caretY:r,options:a}=this,c=Es[a.position].call(this,e,i);return!1!==c&&(o!==c.x||r!==c.y)}}return(0,j.A)(n,"positioners",Es),n})();var Sd=Object.freeze({__proto__:null,Colors:Bh,Decimation:Wh,Filler:ld,Legend:gd,SubTitle:_d,Title:md,Tooltip:{id:"tooltip",_element:ol,positioners:Es,afterInit(n,t,e){e&&(n.tooltip=new ol({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function rl(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let Td=(()=>{class n extends Ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const o=this.getLabels();for(const{index:r,label:a}of i)o[r]===a&&o.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(rt(e))return null;const o=this.getLabels();return((n,t)=>null===n?null:Lt(Math.round(n),0,t))(i=isFinite(i)&&o[i]===e?i:function Od(n,t,e,i){const o=n.indexOf(t);return-1===o?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):o!==n.lastIndexOf(t)?e:o}(o,e,X(i,e),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(o=0),i||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){const e=this.min,i=this.max,o=this.options.offset,r=[];let a=this.getLabels();a=0===e&&i===a.length-1?a:a.slice(e,i+1),this._valueRange=Math.max(a.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let c=e;c<=i;c++)r.push({value:c});return r}getLabelForValue(e){return rl.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return(0,j.A)(n,"id","category"),(0,j.A)(n,"defaults",{ticks:{callback:rl}}),n})();function al(n,t,{horizontal:e,minRotation:i}){const o=ue(i),r=(e?Math.sin(o):Math.cos(o))||.001;return Math.min(t/r,.75*t*(""+n).length)}class Wo extends Ji{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return rt(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this;const a=h=>o=e?o:h,c=h=>r=i?r:h;if(t){const h=de(o),u=de(r);h<0&&u<0?c(0):h>0&&u>0&&a(0)}if(o===r){let h=0===r?1:Math.abs(.05*r);c(r+h),t||a(o-h)}this.min=o,this.max=r}getTickLimit(){const t=this.options.ticks;let o,{maxTicksLimit:e,stepSize:i}=t;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function Dd(n,t){const e=[],{bounds:o,step:r,min:a,max:c,precision:h,count:u,maxTicks:f,maxDigits:m,includeBounds:v}=n,b=r||1,P=f-1,{min:w,max:M}=t,k=!rt(a),E=!rt(c),A=!rt(u),I=(M-w)/(m+1);let z,W,N,V,R=Wn((M-w)/P/b)*b;if(R<1e-14&&!k&&!E)return[{value:w},{value:M}];V=Math.ceil(M/R)-Math.floor(w/R),V>P&&(R=Wn(V*R/P/b)*b),rt(h)||(z=Math.pow(10,h),R=Math.ceil(R*z)/z),"ticks"===o?(W=Math.floor(w/R)*R,N=Math.ceil(M/R)*R):(W=w,N=M),k&&E&&r&&function vi(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((c-a)/r,R/1e3)?(V=Math.round(Math.min((c-a)/R,f)),R=(c-a)/V,W=a,N=c):A?(W=k?a:W,N=E?c:N,V=u-1,R=(N-W)/V):(V=(N-W)/R,V=_i(V,Math.round(V),R/1e3)?Math.round(V):Math.ceil(V));const Q=Math.max(Js(R),Js(W));z=Math.pow(10,rt(h)?Q:h),W=Math.round(W*z)/z,N=Math.round(N*z)/z;let K=0;for(k&&(v&&W!==a?(e.push({value:a}),W<a&&K++,_i(Math.round((W+K*R)*z)/z,a,al(a,I,n))&&K++):W<a&&K++);K<V;++K){const st=Math.round((W+K*R)*z)/z;if(E&&st>c)break;e.push({value:st})}return E&&v&&N!==c?e.length&&_i(e[e.length-1].value,c,al(c,I,n))?e[e.length-1].value=c:e.push({value:c}):(!E||N===c)&&e.push({value:N}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Un(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const o=(i-e)/Math.max(t.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return si(t,this.chart.options.locale,this.options.ticks.format)}}class jr extends Wo{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pt(t)?t:0,this.max=Pt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ue(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}(0,j.A)(jr,"id","linear"),(0,j.A)(jr,"defaults",{ticks:{callback:yi.formatters.numeric}});const Ts=n=>Math.floor(De(n)),Qi=(n,t)=>Math.pow(10,Ts(n)+t);function ll(n){return n/Math.pow(10,Ts(n))==1}function cl(n,t,e){const i=Math.pow(10,e),o=Math.floor(n/i);return Math.ceil(t/i)-o}class Hr extends Ji{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Wo.prototype.parse.apply(this,[t,e]);if(0!==i)return Pt(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Pt(t)?Math.max(0,t):null,this.max=Pt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pt(this._userMin)&&(this.min=t===Qi(this.min,0)?Qi(this.min,-1):Qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,o=this.max;const r=c=>i=t?i:c,a=c=>o=e?o:c;i===o&&(i<=0?(r(1),a(10)):(r(Qi(i,-1)),a(Qi(o,1)))),i<=0&&r(Qi(o,-1)),o<=0&&a(Qi(i,1)),this.min=i,this.max=o}buildTicks(){const t=this.options,i=function Rd(n,{min:t,max:e}){t=Qt(n.min,t);const i=[],o=Ts(t);let r=function Ld(n,t){let i=Ts(t-n);for(;cl(n,t,i)>10;)i++;for(;cl(n,t,i)<10;)i--;return Math.min(i,Ts(n))}(t,e),a=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),h=o>r?Math.pow(10,o):0,u=Math.round((t-h)*a)/a,f=Math.floor((t-h)/c/10)*c*10;let m=Math.floor((u-f)/Math.pow(10,r)),v=Qt(n.min,Math.round((h+f+m*Math.pow(10,r))*a)/a);for(;v<e;)i.push({value:v,major:ll(v),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(r++,m=2,a=r>=0?1:a),v=Math.round((h+f+m*Math.pow(10,r))*a)/a;const b=Qt(n.max,v);return i.push({value:b,major:ll(b),significand:m}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Un(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":si(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=De(t),this._valueRange=De(this.max)-De(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(De(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Wr(n){const t=n.ticks;if(t.display&&n.display){const e=At(t.backdropPadding);return X(t.font&&t.font.size,_t.font.size)+e.height}return 0}function Ad(n,t,e){return e=pt(e)?e:[e],{w:ns(n,t.string,e),h:e.length*t.lineHeight}}function hl(n,t,e,i,o){return n===i||n===o?{start:t-e/2,end:t+e/2}:n<i||n>o?{start:t-e,end:t}:{start:t,end:t+e}}function zd(n,t,e,i,o){const r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+c)),o.start<t.t?(h=(t.t-o.start)/a,n.t=Math.min(n.t,t.t-h)):o.end>t.b&&(h=(o.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function Fd(n,t,e){const i=n.drawingArea,{extra:o,additionalAngle:r,padding:a,size:c}=e,h=n.getPointPosition(t,i+o+a,r),u=Math.round(Zn(Nt(h.angle+Ct))),f=function Wd(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(h.y,c.h,u),m=function jd(n){return 0===n||180===n?"center":n<180?"left":"right"}(u),v=function Hd(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(h.x,c.w,m);return{visible:!0,x:h.x,y:f,textAlign:m,left:v,top:f,right:v+c.w,bottom:f+c.h}}function Bd(n,t){if(!t)return!0;const{left:e,top:i,right:o,bottom:r}=n;return!(ye({x:e,y:i},t)||ye({x:e,y:r},t)||ye({x:o,y:i},t)||ye({x:o,y:r},t))}function Vd(n,t,e){const{left:i,top:o,right:r,bottom:a}=e,{backdropColor:c}=t;if(!rt(c)){const h=oi(t.borderRadius),u=At(t.backdropPadding);n.fillStyle=c;const f=i-u.left,m=o-u.top,v=r-i+u.width,b=a-o+u.height;Object.values(h).some(P=>0!==P)?(n.beginPath(),Ie(n,{x:f,y:m,w:v,h:b,radius:h}),n.fill()):n.fillRect(f,m,v,b)}}function dl(n,t,e,i){const{ctx:o}=n;if(e)o.arc(n.xCenter,n.yCenter,t,0,ft);else{let r=n.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=n.getPointPosition(a,t),o.lineTo(r.x,r.y)}}(0,j.A)(Hr,"id","logarithmic"),(0,j.A)(Hr,"defaults",{ticks:{callback:yi.formatters.logarithmic,major:{enabled:!0}}});class Ds extends Wo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=At(Wr(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Pt(t)&&!isNaN(t)?t:0,this.max=Pt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Wr(this.options))}generateTickLabels(t){Wo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const o=mt(this.options.pointLabels.callback,[e,i],this);return o||0===o?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function Id(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],o=[],r=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?bt/r:0;for(let h=0;h<r;h++){const u=a.setContext(n.getPointLabelContext(h));o[h]=u.padding;const f=n.getPointPosition(h,n.drawingArea+o[h],c),m=Tt(u.font),v=Ad(n.ctx,m,n._pointLabels[h]);i[h]=v;const b=Nt(n.getIndexAngle(h)+c),P=Math.round(Zn(b));zd(e,t,b,hl(P,f.x,v.w,0,180),hl(P,f.y,v.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Nd(n,t,e){const i=[],o=n._pointLabels.length,r=n.options,{centerPointLabels:a,display:c}=r.pointLabels,h={extra:Wr(r)/2,additionalAngle:a?bt/o:0};let u;for(let f=0;f<o;f++){h.padding=e[f],h.size=t[f];const m=Fd(n,f,h);i.push(m),"auto"===c&&(m.visible=Bd(m,u),m.visible&&(u=m))}return i}(n,i,o)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,o))}getIndexAngle(t){return Nt(t*(ft/(this._pointLabels.length||1))+ue(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(rt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(rt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function Gd(n,t,e){return ze(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const o=this.getIndexAngle(t)-Ct+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:o,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:o,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),dl(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:o,border:r}=e,a=this._pointLabels.length;let c,h,u;if(e.pointLabels.display&&function Ud(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let o=t-1;o>=0;o--){const r=n._pointLabelItems[o];if(!r.visible)continue;const a=i.setContext(n.getPointLabelContext(o));Vd(e,a,r);const c=Tt(a.font),{x:h,y:u,textAlign:f}=r;Ft(e,n._pointLabels[o],h,u+c.lineHeight/2,c,{color:a.color,textAlign:f,textBaseline:"middle"})}}(this,a),o.display&&this.ticks.forEach((f,m)=>{if(0!==m||0===m&&this.min<0){h=this.getDistanceFromCenterForValue(f.value);const v=this.getContext(m),b=o.setContext(v),P=r.setContext(v);!function Zd(n,t,e,i,o){const r=n.ctx,a=t.circular,{color:c,lineWidth:h}=t;!a&&!i||!c||!h||e<0||(r.save(),r.strokeStyle=c,r.lineWidth=h,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),dl(n,e,a,i),r.closePath(),r.stroke(),r.restore())}(this,b,h,a,P)}}),i.display){for(t.save(),c=a-1;c>=0;c--){const f=i.setContext(this.getPointLabelContext(c)),{color:m,lineWidth:v}=f;!v||!m||(t.lineWidth=v,t.strokeStyle=m,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const o=this.getIndexAngle(0);let r,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(0===h&&this.min>=0&&!e.reverse)return;const u=i.setContext(this.getContext(h)),f=Tt(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[h].value),u.showLabelBackdrop){t.font=f.string,a=t.measureText(c.label).width,t.fillStyle=u.backdropColor;const m=At(u.backdropPadding);t.fillRect(-a/2-m.left,-r-f.size/2-m.top,a+m.width,f.size+m.height)}Ft(t,c.label,0,-r,f,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}(0,j.A)(Ds,"id","radialLinear"),(0,j.A)(Ds,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}}),(0,j.A)(Ds,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,j.A)(Ds,"descriptors",{angleLines:{_fallback:"grid"}});const Vo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},re=Object.keys(Vo);function ul(n,t){return n-t}function fl(n,t){if(rt(t))return null;const e=n._adapter,{parser:i,round:o,isoWeekday:r}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),Pt(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(o&&(a="week"!==o||!ti(r)&&!0!==r?e.startOf(a,o):e.startOf(a,"isoWeek",r)),+a)}function gl(n,t,e,i){const o=re.length;for(let r=re.indexOf(n);r<o-1;++r){const a=Vo[re[r]];if(a.common&&Math.ceil((e-t)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=i)return re[r]}return re[o-1]}function pl(n,t,e){if(e){if(e.length){const{lo:i,hi:o}=Gn(e,t);n[e[i]>=t?e[i]:e[o]]=!0}}else n[t]=!0}function ml(n,t,e){const i=[],o={},r=t.length;let a,c;for(a=0;a<r;++a)c=t[a],o[c]=a,i.push({value:c,major:!1});return 0!==r&&e?function $d(n,t,e,i){const o=n._adapter,r=+o.startOf(t[0].value,i),a=t[t.length-1].value;let c,h;for(c=r;c<=a;c=+o.add(c,1,i))h=e[c],h>=0&&(t[h].major=!0);return t}(n,i,o,e):i}let Vr=(()=>{class n extends Ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const o=e.time||(e.time={}),r=this._adapter=new Et__date(e.adapters.date);r.init(i),Li(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:fl(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,o=e.time.unit||"day";let{min:r,max:a,minDefined:c,maxDefined:h}=this.getUserBounds();function u(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!c||!h)&&(u(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&u(this.getMinMax(!1))),r=Pt(r)&&!isNaN(r)?r:+i.startOf(Date.now(),o),a=Pt(a)&&!isNaN(a)?a:+i.endOf(Date.now(),o)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],o=e[e.length-1]),{min:i,max:o}}buildTicks(){const e=this.options,i=e.time,o=e.ticks,r="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,h=function to(n,t,e){let i=0,o=n.length;for(;i<o&&n[i]<t;)i++;for(;o>i&&n[o-1]>e;)o--;return i>0||o<n.length?n.slice(i,o):n}(r,a,this.max);return this._unit=i.unit||(o.autoSkip?gl(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function Yd(n,t,e,i,o){for(let r=re.length-1;r>=re.indexOf(e);r--){const a=re[r];if(Vo[a].common&&n._adapter.diff(o,i,a)>=t-1)return a}return re[e?re.indexOf(e):0]}(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function Xd(n){for(let t=re.indexOf(n)+1,e=re.length;t<e;++t)if(Vo[re[t]].common)return re[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&h.reverse(),ml(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r,a,i=0,o=0;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),i=1===e.length?1-r:(this.getDecimalForValue(e[1])-r)/2,a=this.getDecimalForValue(e[e.length-1]),o=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;i=Lt(i,0,c),o=Lt(o,0,c),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const e=this._adapter,i=this.min,o=this.max,r=this.options,a=r.time,c=a.unit||gl(a.minUnit,i,o,this._getLabelCapacity(i)),h=X(r.ticks.stepSize,1),u="week"===c&&a.isoWeekday,f=ti(u)||!0===u,m={};let b,P,v=i;if(f&&(v=+e.startOf(v,"isoWeek",u)),v=+e.startOf(v,f?"day":c),e.diff(o,i,c)>1e5*h)throw new Error(i+" and "+o+" are too far apart with stepSize of "+h+" "+c);const w="data"===r.ticks.source&&this.getDataTimestamps();for(b=v,P=0;b<o;b=+e.add(b,h,c),P++)pl(m,b,w);return(b===o||"ticks"===r.bounds||1===P)&&pl(m,b,w),Object.keys(m).sort(ul).map(M=>+M)}getLabelForValue(e){const o=this.options.time;return this._adapter.format(e,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,o,r){const a=this.options,c=a.ticks.callback;if(c)return mt(c,[e,i,o],this);const h=a.time.displayFormats,u=this._unit,f=this._majorUnit,v=f&&h[f],b=o[i];return this._adapter.format(e,r||(f&&v&&b&&b.major?v:u&&h[u]))}generateTickLabels(e){let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(e){const i=this._offsets,o=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,o=this.ctx.measureText(e).width,r=ue(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:o*a+h*c,h:o*c+h*a}}_getLabelCapacity(e){const i=this.options.time,o=i.displayFormats,r=o[i.unit]||o.millisecond,a=this._tickFormatFunction(e,0,ml(this,[e],this._majorUnit),r),c=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let i,o,e=this._cache.data||[];if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,o=r.length;i<o;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,o;if(e.length)return e;const r=this.getLabels();for(i=0,o=r.length;i<o;++i)e.push(fl(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yt(e.sort(ul))}}return(0,j.A)(n,"id","time"),(0,j.A)(n,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),n})();function Uo(n,t,e){let r,a,c,h,i=0,o=n.length-1;e?(t>=n[i].pos&&t<=n[o].pos&&({lo:i,hi:o}=fe(n,"pos",t)),({pos:r,time:c}=n[i]),({pos:a,time:h}=n[o])):(t>=n[i].time&&t<=n[o].time&&({lo:i,hi:o}=fe(n,"time",t)),({time:r,pos:c}=n[i]),({time:a,pos:h}=n[o]));const u=a-r;return u?c+(h-c)*(t-r)/u:c}class Ur extends Vr{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Uo(e,this.min),this._tableRange=Uo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,o=[],r=[];let a,c,h,u,f;for(a=0,c=t.length;a<c;++a)u=t[a],u>=e&&u<=i&&o.push(u);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,c=o.length;a<c;++a)f=o[a+1],h=o[a-1],u=o[a],Math.round((f+h)/2)!==u&&r.push({time:u,pos:a/(c-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Uo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Uo(this._table,i*this._tableRange+this._minPos,!0)}}(0,j.A)(Ur,"id","timeseries"),(0,j.A)(Ur,"defaults",Vr.defaults),ks.register(ko,Dh,Sd,Object.freeze({__proto__:null,CategoryScale:Td,LinearScale:jr,LogarithmicScale:Hr,RadialLinearScale:Ds,TimeScale:Vr,TimeSeriesScale:Ur}));var O=B(8244);function ie(n,t){return O.Util.extend(t,n.geocodingQueryParams)}function ae(n,t){return O.Util.extend(t,n.reverseQueryParams)}let Jd=0;const Qd=/[&<>"'`]/g,tu=/[&<>"'`]/,eu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function iu(n){return eu[n]}function _l(n,t,e,i,o){const r="_l_geocoder_"+Jd++;t[o||"callback"]=r,window[r]=O.Util.bind(e,i);const a=document.createElement("script");a.type="text/javascript",a.src=n+vl(t),a.id=r,document.getElementsByTagName("head")[0].appendChild(a)}function St(n,t,e){const i=new XMLHttpRequest;i.onreadystatechange=function(){if(4!==i.readyState)return;let o;if(200!==i.status&&304!==i.status)o="";else if("string"==typeof i.response)try{o=JSON.parse(i.response)}catch{o=i.response}else o=i.response;e(o)},i.open("GET",n+vl(t),!0),i.responseType="json",i.setRequestHeader("Accept","application/json"),i.send(null)}function vl(n,t,e){const i=[];for(const o in n){const r=encodeURIComponent(e?o.toUpperCase():o),a=n[o];if(Array.isArray(a))for(let c=0;c<a.length;c++)i.push(r+"="+encodeURIComponent(a[c]));else i.push(r+"="+encodeURIComponent(String(a)))}return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}class bl{constructor(t){this.options={serviceUrl:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",apiKey:""},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{token:this.options.apiKey,SingleLine:t,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"});St(this.options.serviceUrl+"/findAddressCandidates",o,r=>{const a=[];if(r.candidates&&r.candidates.length)for(let c=0;c<=r.candidates.length-1;c++){const h=r.candidates[c],u=O.latLng(h.location.y,h.location.x),f=O.latLngBounds(O.latLng(h.extent.ymax,h.extent.xmax),O.latLng(h.extent.ymin,h.extent.xmin));a[c]={name:h.address,bbox:f,center:u}}e.call(i,a)})}suggest(t,e,i){return this.geocode(t,e,i)}reverse(t,e,i,o){const r=ae(this.options,{location:t.lng+","+t.lat,distance:100,f:"json"});St(this.options.serviceUrl+"/reverseGeocode",r,a=>{const c=[];if(a&&!a.error){const h=O.latLng(a.location.y,a.location.x),u=O.latLngBounds(h,h);c.push({name:a.address.Match_addr,center:h,bbox:u})}i.call(o,c)})}}class yl{constructor(t){this.options={serviceUrl:"https://dev.virtualearth.net/REST/v1/Locations"},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{query:t,key:this.options.apiKey});_l(this.options.apiKey,o,r=>{const a=[];if(r.resourceSets.length>0)for(let c=r.resourceSets[0].resources.length-1;c>=0;c--){const h=r.resourceSets[0].resources[c],u=h.bbox;a[c]={name:h.name,bbox:O.latLngBounds([u[0],u[1]],[u[2],u[3]]),center:O.latLng(h.point.coordinates)}}e.call(i,a)},this,"jsonp")}reverse(t,e,i,o){const r=ae(this.options,{key:this.options.apiKey});_l(this.options.serviceUrl+t.lat+","+t.lng,r,a=>{const c=[];for(let h=a.resourceSets[0].resources.length-1;h>=0;h--){const u=a.resourceSets[0].resources[h],f=u.bbox;c[h]={name:u.name,bbox:O.latLngBounds([f[0],f[1]],[f[2],f[3]]),center:O.latLng(u.point.coordinates)}}i.call(o,c)},this,"jsonp")}}class xl{constructor(t){this.options={serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json"},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{key:this.options.apiKey,address:t});St(this.options.serviceUrl,o,r=>{const a=[];if(r.results&&r.results.length)for(let c=0;c<=r.results.length-1;c++){const h=r.results[c],u=O.latLng(h.geometry.location),f=O.latLngBounds(O.latLng(h.geometry.viewport.northeast),O.latLng(h.geometry.viewport.southwest));a[c]={name:h.formatted_address,bbox:f,center:u,properties:h.address_components}}e.call(i,a)})}reverse(t,e,i,o){const r=ae(this.options,{key:this.options.apiKey,latlng:t.lat+","+t.lng});St(this.options.serviceUrl,r,a=>{const c=[];if(a.results&&a.results.length)for(let h=0;h<=a.results.length-1;h++){const u=a.results[h],f=O.latLng(u.geometry.location),m=O.latLngBounds(O.latLng(u.geometry.viewport.northeast),O.latLng(u.geometry.viewport.southwest));c[h]={name:u.formatted_address,bbox:m,center:f,properties:u.address_components}}i.call(o,c)})}}class wl{constructor(t){if(this.options={serviceUrl:"https://geocoder.api.here.com/6.2/",app_id:"",app_code:"",apiKey:"",maxResults:5},O.Util.setOptions(this,t),t.apiKey)throw Error("apiKey is not supported, use app_id/app_code instead!")}geocode(t,e,i){const o=ie(this.options,{searchtext:t,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1,maxresults:this.options.maxResults});this.getJSON(this.options.serviceUrl+"geocode.json",o,e,i)}reverse(t,e,i,o){let r=t.lat+","+t.lng;this.options.reverseGeocodeProxRadius&&(r+=","+this.options.reverseGeocodeProxRadius);const a=ae(this.options,{prox:r,mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1,maxresults:this.options.maxResults});this.getJSON(this.options.serviceUrl+"reversegeocode.json",a,i,o)}getJSON(t,e,i,o){St(t,e,r=>{const a=[];if(r.response.view&&r.response.view.length)for(let c=0;c<=r.response.view[0].result.length-1;c++){const h=r.response.view[0].result[c].location,u=O.latLng(h.displayPosition.latitude,h.displayPosition.longitude),f=O.latLngBounds(O.latLng(h.mapView.topLeft.latitude,h.mapView.topLeft.longitude),O.latLng(h.mapView.bottomRight.latitude,h.mapView.bottomRight.longitude));a[c]={name:h.address.label,properties:h.address,bbox:f,center:u}}i.call(o,a)})}}class Pl{constructor(t){this.options={serviceUrl:"https://geocode.search.hereapi.com/v1",apiKey:"",app_id:"",app_code:"",maxResults:10},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{q:t,apiKey:this.options.apiKey,limit:this.options.maxResults});if(!o.at&&!o.in)throw Error("at / in parameters not found. Please define coordinates (at=latitude,longitude) or other (in) in your geocodingQueryParams.");this.getJSON(this.options.serviceUrl+"/discover",o,e,i)}reverse(t,e,i,o){const r=ae(this.options,{at:t.lat+","+t.lng,limit:this.options.reverseGeocodeProxRadius,apiKey:this.options.apiKey});this.getJSON(this.options.serviceUrl+"/revgeocode",r,i,o)}getJSON(t,e,i,o){St(t,e,r=>{const a=[];if(r.items&&r.items.length)for(let c=0;c<=r.items.length-1;c++){const h=r.items[c],u=O.latLng(h.position.lat,h.position.lng);let f;f=h.mapView?O.latLngBounds(O.latLng(h.mapView.south,h.mapView.west),O.latLng(h.mapView.north,h.mapView.east)):O.latLngBounds(O.latLng(h.position.lat,h.position.lng),O.latLng(h.position.lat,h.position.lng)),a[c]={name:h.address.label,properties:h.address,bbox:f,center:u}}i.call(o,a)})}}function Ml(n){let t;return(t=n.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))?O.latLng((/N/i.test(t[1])?1:-1)*+t[2],(/E/i.test(t[3])?1:-1)*+t[4]):(t=n.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))?O.latLng((/N/i.test(t[2])?1:-1)*+t[1],(/E/i.test(t[4])?1:-1)*+t[3]):(t=n.match(/^([NS])\s*(\d{1,3})\xb0?\s*(\d{1,3}(?:\.\d*)?)?['\u2032]?\W*([EW])\s*(\d{1,3})\xb0?\s*(\d{1,3}(?:\.\d*)?)?['\u2032]?$/))?O.latLng((/N/i.test(t[1])?1:-1)*(+t[2]+ +t[3]/60),(/E/i.test(t[4])?1:-1)*(+t[5]+ +t[6]/60)):(t=n.match(/^(\d{1,3})\xb0?\s*(\d{1,3}(?:\.\d*)?)?['\u2032]?\s*([NS])\W*(\d{1,3})\xb0?\s*(\d{1,3}(?:\.\d*)?)?['\u2032]?\s*([EW])$/))?O.latLng((/N/i.test(t[3])?1:-1)*(+t[1]+ +t[2]/60),(/E/i.test(t[6])?1:-1)*(+t[4]+ +t[5]/60)):(t=n.match(/^([NS])\s*(\d{1,3})\xb0?\s*(\d{1,2})['\u2032]?\s*(\d{1,3}(?:\.\d*)?)?["\u2033]?\W*([EW])\s*(\d{1,3})\xb0?\s*(\d{1,2})['\u2032]?\s*(\d{1,3}(?:\.\d*)?)?["\u2033]?$/))?O.latLng((/N/i.test(t[1])?1:-1)*(+t[2]+ +t[3]/60+ +t[4]/3600),(/E/i.test(t[5])?1:-1)*(+t[6]+ +t[7]/60+ +t[8]/3600)):(t=n.match(/^(\d{1,3})\xb0?\s*(\d{1,2})['\u2032]?\s*(\d{1,3}(?:\.\d*)?)?["\u2033]\s*([NS])\W*(\d{1,3})\xb0?\s*(\d{1,2})['\u2032]?\s*(\d{1,3}(?:\.\d*)?)?["\u2033]?\s*([EW])$/))?O.latLng((/N/i.test(t[4])?1:-1)*(+t[1]+ +t[2]/60+ +t[3]/3600),(/E/i.test(t[8])?1:-1)*(+t[5]+ +t[6]/60+ +t[7]/3600)):(t=n.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))?O.latLng(+t[1],+t[2]):void 0}class Cl{constructor(t){this.options={next:void 0,sizeInMeters:1e4},O.Util.setOptions(this,t)}geocode(t,e,i){const o=Ml(t);if(o){const r=[{name:t,center:o,bbox:o.toBounds(this.options.sizeInMeters)}];e.call(i,r)}else this.options.next&&this.options.next.geocode(t,e,i)}}class Sl{constructor(t){this.options={serviceUrl:"https://api.mapbox.com/geocoding/v5/mapbox.places/"},O.Util.setOptions(this,t)}_getProperties(t){const e={text:t.text,address:t.address};for(let i=0;i<(t.context||[]).length;i++)e[t.context[i].id.split(".")[0]]=t.context[i].text,t.context[i].short_code&&(e.countryShortCode=t.context[i].short_code);return e}geocode(t,e,i){const o=ie(this.options,{access_token:this.options.apiKey});void 0!==o.proximity&&void 0!==o.proximity.lat&&void 0!==o.proximity.lng&&(o.proximity=o.proximity.lng+","+o.proximity.lat),St(this.options.serviceUrl+encodeURIComponent(t)+".json",o,r=>{const a=[];if(r.features&&r.features.length)for(let c=0;c<=r.features.length-1;c++){const h=r.features[c],u=O.latLng(h.center.reverse());let f;f=h.bbox?O.latLngBounds(O.latLng(h.bbox.slice(0,2).reverse()),O.latLng(h.bbox.slice(2,4).reverse())):O.latLngBounds(u,u),a[c]={name:h.place_name,bbox:f,center:u,properties:this._getProperties(h)}}e.call(i,a)})}suggest(t,e,i){return this.geocode(t,e,i)}reverse(t,e,i,o){St(this.options.serviceUrl+t.lng+","+t.lat+".json",ae(this.options,{access_token:this.options.apiKey}),c=>{const h=[];if(c.features&&c.features.length)for(let u=0;u<=c.features.length-1;u++){const f=c.features[u],m=O.latLng(f.center.reverse());let v;v=f.bbox?O.latLngBounds(O.latLng(f.bbox.slice(0,2).reverse()),O.latLng(f.bbox.slice(2,4).reverse())):O.latLngBounds(m,m),h[u]={name:f.place_name,bbox:v,center:m,properties:this._getProperties(f)}}i.call(o,h)})}}class kl{constructor(t){this.options={serviceUrl:"https://www.mapquestapi.com/geocoding/v1"},O.Util.setOptions(this,t),this.options.apiKey=decodeURIComponent(this.options.apiKey)}_formatName(...t){return t.filter(e=>!!e).join(", ")}geocode(t,e,i){const o=ie(this.options,{key:this.options.apiKey,location:t,limit:5,outFormat:"json"});St(this.options.serviceUrl+"/address",o,O.Util.bind(function(r){const a=[];if(r.results&&r.results[0].locations)for(let c=r.results[0].locations.length-1;c>=0;c--){const h=r.results[0].locations[c],u=O.latLng(h.latLng);a[c]={name:this._formatName(h.street,h.adminArea4,h.adminArea3,h.adminArea1),bbox:O.latLngBounds(u,u),center:u}}e.call(i,a)},this))}reverse(t,e,i,o){const r=ae(this.options,{key:this.options.apiKey,location:t.lat+","+t.lng,outputFormat:"json"});St(this.options.serviceUrl+"/reverse",r,O.Util.bind(function(a){const c=[];if(a.results&&a.results[0].locations)for(let h=a.results[0].locations.length-1;h>=0;h--){const u=a.results[0].locations[h],f=O.latLng(u.latLng);c[h]={name:this._formatName(u.street,u.adminArea4,u.adminArea3,u.adminArea1),bbox:O.latLngBounds(f,f),center:f}}i.call(o,c)},this))}}class Ol{constructor(t){this.options={userId:void 0,apiKey:void 0,serviceUrl:"https://neutrinoapi.com/"},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,address:t.split(/\s+/).join(".")});St(this.options.serviceUrl+"geocode-address",o,r=>{const a=[];if(r.locations){r.geometry=r.locations[0];const c=O.latLng(r.geometry.latitude,r.geometry.longitude),h=O.latLngBounds(c,c);a[0]={name:r.geometry.address,bbox:h,center:c}}e.call(i,a)})}suggest(t,e,i){return this.geocode(t,e,i)}reverse(t,e,i,o){const r=ae(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,latitude:t.lat,longitude:t.lng});St(this.options.serviceUrl+"geocode-reverse",r,a=>{const c=[];if(200==a.status.status&&a.found){const h=O.latLng(t.lat,t.lng),u=O.latLngBounds(h,h);c[0]={name:a.address,bbox:u,center:h}}i.call(o,c)})}}class Zr{constructor(t){this.options={serviceUrl:"https://nominatim.openstreetmap.org/",htmlTemplate:function(e){const i=e.address;let o;const r=[];return(i.road||i.building)&&r.push("{building} {road} {house_number}"),(i.city||i.town||i.village||i.hamlet)&&(o=r.length>0?"leaflet-control-geocoder-address-detail":"",r.push('<span class="'+o+'">{postcode} {city} {town} {village} {hamlet}</span>')),(i.state||i.country)&&(o=r.length>0?"leaflet-control-geocoder-address-context":"",r.push('<span class="'+o+'">{state} {country}</span>')),function su(n,t){return n.replace(/\{ *([\w_]+) *\}/g,(e,i)=>{let o=t[i];return void 0===o?o="":"function"==typeof o&&(o=o(t)),function nu(n){return null==n?"":n?tu.test(n=""+n)?n.replace(Qd,iu):n:n+""}(o)})}(r.join("<br/>"),i)}},O.Util.setOptions(this,t||{})}geocode(t,e,i){const o=ie(this.options,{q:t,limit:5,format:"json",addressdetails:1});St(this.options.serviceUrl+"search",o,r=>{const a=[];for(let c=r.length-1;c>=0;c--){const h=r[c].boundingbox;for(let u=0;u<4;u++)h[u]=+h[u];a[c]={icon:r[c].icon,name:r[c].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(r[c]):void 0,bbox:O.latLngBounds([h[0],h[2]],[h[1],h[3]]),center:O.latLng(r[c].lat,r[c].lon),properties:r[c]}}e.call(i,a)})}reverse(t,e,i,o){const r=ae(this.options,{lat:t.lat,lon:t.lng,zoom:Math.round(Math.log(e/256)/Math.log(2)),addressdetails:1,format:"json"});St(this.options.serviceUrl+"reverse",r,a=>{const c=[];if(a&&a.lat&&a.lon){const h=O.latLng(a.lat,a.lon),u=O.latLngBounds(h,h);c.push({name:a.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(a):void 0,center:h,bbox:u,properties:a})}i.call(o,c)})}}class El{constructor(t){O.Util.setOptions(this,t)}geocode(t,e,i){try{const o=this.options.OpenLocationCode.decode(t),r={name:t,center:O.latLng(o.latitudeCenter,o.longitudeCenter),bbox:O.latLngBounds(O.latLng(o.latitudeLo,o.longitudeLo),O.latLng(o.latitudeHi,o.longitudeHi))};e.call(i,[r])}catch(o){console.warn(o),e.call(i,[])}}reverse(t,e,i,o){try{const a={name:this.options.OpenLocationCode.encode(t.lat,t.lng,this.options.codeLength),center:O.latLng(t.lat,t.lng),bbox:O.latLngBounds(O.latLng(t.lat,t.lng),O.latLng(t.lat,t.lng))};i.call(o,[a])}catch(r){console.warn(r),i.call(o,[])}}}class Tl{constructor(t){this.options={serviceUrl:"https://api.opencagedata.com/geocode/v1/json"},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{key:this.options.apiKey,q:t});St(this.options.serviceUrl,o,r=>{const a=[];if(r.results&&r.results.length)for(let c=0;c<r.results.length;c++){const h=r.results[c],u=O.latLng(h.geometry);let f;f=h.annotations&&h.annotations.bounds?O.latLngBounds(O.latLng(h.annotations.bounds.northeast),O.latLng(h.annotations.bounds.southwest)):O.latLngBounds(u,u),a.push({name:h.formatted,bbox:f,center:u})}e.call(i,a)})}suggest(t,e,i){return this.geocode(t,e,i)}reverse(t,e,i,o){const r=ae(this.options,{key:this.options.apiKey,q:[t.lat,t.lng].join(",")});St(this.options.serviceUrl,r,a=>{const c=[];if(a.results&&a.results.length)for(let h=0;h<a.results.length;h++){const u=a.results[h],f=O.latLng(u.geometry);let m;m=u.annotations&&u.annotations.bounds?O.latLngBounds(O.latLng(u.annotations.bounds.northeast),O.latLng(u.annotations.bounds.southwest)):O.latLngBounds(f,f),c.push({name:u.formatted,bbox:m,center:f})}i.call(o,c)})}}class Ls{constructor(t){this.options={serviceUrl:"https://api.geocode.earth/v1"},this._lastSuggest=0,O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{api_key:this.options.apiKey,text:t});St(this.options.serviceUrl+"/search",o,r=>{e.call(i,this._parseResults(r,"bbox"))})}suggest(t,e,i){const o=ie(this.options,{api_key:this.options.apiKey,text:t});St(this.options.serviceUrl+"/autocomplete",o,r=>{r.geocoding.timestamp>this._lastSuggest&&(this._lastSuggest=r.geocoding.timestamp,e.call(i,this._parseResults(r,"bbox")))})}reverse(t,e,i,o){const r=ae(this.options,{api_key:this.options.apiKey,"point.lat":t.lat,"point.lon":t.lng});St(this.options.serviceUrl+"/reverse",r,a=>{i.call(o,this._parseResults(a,"bounds"))})}_parseResults(t,e){const i=[];return O.geoJSON(t,{pointToLayer:function(o,r){return O.circleMarker(r)},onEachFeature:function(o,r){const a={};let c,h;r.getBounds?(c=r.getBounds(),h=c.getCenter()):r.feature.bbox?(h=r.getLatLng(),c=O.latLngBounds(O.GeoJSON.coordsToLatLng(r.feature.bbox.slice(0,2)),O.GeoJSON.coordsToLatLng(r.feature.bbox.slice(2,4)))):(h=r.getLatLng(),c=O.latLngBounds(h,h)),a.name=r.feature.properties.label,a.center=h,a[e]=c,a.properties=r.feature.properties,i.push(a)}}),i}}function Gr(n){return new Ls(n)}const mu=Ls,_u=Gr,vu=Ls,bu=Gr;class Dl extends Ls{constructor(t){super(O.Util.extend({serviceUrl:"https://api.openrouteservice.org/geocode"},t))}}class Ll{constructor(t){this.options={serviceUrl:"https://photon.komoot.io/api/",reverseUrl:"https://photon.komoot.io/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]},O.Util.setOptions(this,t)}geocode(t,e,i){const o=ie(this.options,{q:t});St(this.options.serviceUrl,o,O.Util.bind(function(r){e.call(i,this._decodeFeatures(r))},this))}suggest(t,e,i){return this.geocode(t,e,i)}reverse(t,e,i,o){const r=ae(this.options,{lat:t.lat,lon:t.lng});St(this.options.reverseUrl,r,O.Util.bind(function(a){i.call(o,this._decodeFeatures(a))},this))}_decodeFeatures(t){const e=[];if(t&&t.features)for(let i=0;i<t.features.length;i++){const o=t.features[i],r=o.geometry.coordinates,a=O.latLng(r[1],r[0]),c=o.properties.extent,h=c?O.latLngBounds([c[1],c[0]],[c[3],c[2]]):O.latLngBounds(a,a);e.push({name:this._decodeFeatureName(o),html:this.options.htmlTemplate?this.options.htmlTemplate(o):void 0,center:a,bbox:h,properties:o.properties})}return e}_decodeFeatureName(t){return(this.options.nameProperties||[]).map(e=>t.properties[e]).filter(e=>!!e).join(", ")}}class Rl{constructor(t){this.options={serviceUrl:"https://api.what3words.com/v2/"},O.Util.setOptions(this,t)}geocode(t,e,i){St(this.options.serviceUrl+"forward",ie(this.options,{key:this.options.apiKey,addr:t.split(/\s+/).join(".")}),o=>{const r=[];if(o.geometry){const a=O.latLng(o.geometry.lat,o.geometry.lng),c=O.latLngBounds(a,a);r[0]={name:o.words,bbox:c,center:a}}e.call(i,r)})}suggest(t,e,i){return this.geocode(t,e,i)}reverse(t,e,i,o){St(this.options.serviceUrl+"reverse",ae(this.options,{key:this.options.apiKey,coords:[t.lat,t.lng].join(",")}),r=>{const a=[];if(200==r.status.status){const c=O.latLng(r.geometry.lat,r.geometry.lng),h=O.latLngBounds(c,c);a[0]={name:r.words,bbox:h,center:c}}i.call(o,a)})}}var Pu={__proto__:null,geocodingParams:ie,reverseParams:ae,ArcGis:bl,arcgis:function ou(n){return new bl(n)},Bing:yl,bing:function ru(n){return new yl(n)},Google:xl,google:function au(n){return new xl(n)},HERE:wl,HEREv2:Pl,here:function lu(n){return n.apiKey?new Pl(n):new wl(n)},parseLatLng:Ml,LatLng:Cl,latLng:function cu(n){return new Cl(n)},Mapbox:Sl,mapbox:function hu(n){return new Sl(n)},MapQuest:kl,mapQuest:function du(n){return new kl(n)},Neutrino:Ol,neutrino:function uu(n){return new Ol(n)},Nominatim:Zr,nominatim:function fu(n){return new Zr(n)},OpenLocationCode:El,openLocationCode:function gu(n){return new El(n)},OpenCage:Tl,opencage:function pu(n){return new Tl(n)},Pelias:Ls,pelias:Gr,GeocodeEarth:mu,geocodeEarth:_u,Mapzen:vu,mapzen:bu,Openrouteservice:Dl,openrouteservice:function yu(n){return new Dl(n)},Photon:Ll,photon:function xu(n){return new Ll(n)},What3Words:Rl,what3words:function wu(n){return new Rl(n)}};class Yr{constructor(...t){}}O.Util.extend(Yr.prototype,O.Control.prototype),O.Util.extend(Yr.prototype,O.Evented.prototype);class Xr extends Yr{constructor(t){super(t),this.options={showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",iconLabel:"Initiate a new search",query:"",queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},this._requestCount=0,O.Util.setOptions(this,t),this.options.geocoder||(this.options.geocoder=new Zr)}addThrobberClass(){O.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")}removeThrobberClass(){O.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")}onAdd(t){const e="leaflet-control-geocoder",i=O.DomUtil.create("div",e+" leaflet-bar"),o=O.DomUtil.create("button",e+"-icon",i),r=this._form=O.DomUtil.create("div",e+"-form",i);this._map=t,this._container=i,o.innerHTML="&nbsp;",o.type="button",o.setAttribute("aria-label",this.options.iconLabel);const a=this._input=O.DomUtil.create("input","",r);return a.type="text",a.value=this.options.query,a.placeholder=this.options.placeholder,O.DomEvent.disableClickPropagation(a),this._errorElement=O.DomUtil.create("div",e+"-form-no-error",i),this._errorElement.innerHTML=this.options.errorMessage,this._alts=O.DomUtil.create("ul",e+"-alternatives leaflet-control-geocoder-alternatives-minimized",i),O.DomEvent.disableClickPropagation(this._alts),O.DomEvent.addListener(a,"keydown",this._keydown,this),this.options.geocoder.suggest&&O.DomEvent.addListener(a,"input",this._change,this),O.DomEvent.addListener(a,"blur",()=>{this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this.options.collapsed?"click"===this.options.expand?O.DomEvent.addListener(i,"click",c=>{0===c.button&&2!==c.detail&&this._toggle()}):"touch"===this.options.expand?O.DomEvent.addListener(i,O.Browser.touch?"touchstart mousedown":"mousedown",c=>{this._toggle(),c.preventDefault(),c.stopPropagation()},this):(O.DomEvent.addListener(i,"mouseover",this._expand,this),O.DomEvent.addListener(i,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),O.DomEvent.addListener(i,O.Browser.touch?"touchstart":"click",()=>this._geocode())),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",this.addThrobberClass,this),this.on("finishgeocode",this.removeThrobberClass,this),this.on("startsuggest",this.addThrobberClass,this),this.on("finishsuggest",this.removeThrobberClass,this),O.DomEvent.disableClickPropagation(i),i}setQuery(t){return this._input.value=t,this}_geocodeResult(t,e){if(!e&&this.options.showUniqueResult&&1===t.length)this._geocodeResultSelected(t[0]);else if(t.length>0){this._alts.innerHTML="",this._results=t,O.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),O.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-open");for(let i=0;i<t.length;i++)this._alts.appendChild(this._createAlt(t[i],i))}else O.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-error"),O.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error")}markGeocode(t){const e=t.geocode;return this._map.fitBounds(e.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new O.Marker(e.center).bindPopup(e.html||e.name).addTo(this._map).openPopup(),this}_geocode(t){const e=this._input.value;if(!t&&e.length<this.options.queryMinLength)return;const i=++this._requestCount,o=a=>{i===this._requestCount&&(this.fire(t?"finishsuggest":"finishgeocode",{input:e,results:a}),this._geocodeResult(a,t))};this._lastGeocode=e,t||this._clearResults(),this.fire(t?"startsuggest":"startgeocode",{input:e}),t?this.options.geocoder.suggest(e,o):this.options.geocoder.geocode(e,o)}_geocodeResultSelected(t){this.fire("markgeocode",{geocode:t})}_toggle(){O.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()}_expand(){O.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")}_collapse(){O.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),O.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),O.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),O.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),O.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error"),this._input.blur(),this.fire("collapse")}_clearResults(){O.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,O.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),O.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),O.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error")}_createAlt(t,e){const i=O.DomUtil.create("li",""),o=O.DomUtil.create("a","",i),r=this.options.showResultIcons&&t.icon?O.DomUtil.create("img","",o):null,a=t.html?void 0:document.createTextNode(t.name);return r&&(r.src=t.icon),i.setAttribute("data-result-index",String(e)),t.html?o.innerHTML=o.innerHTML+t.html:a&&o.appendChild(a),O.DomEvent.addListener(i,"mousedown touchstart",h=>{this._preventBlurCollapse=!0,O.DomEvent.stop(h),this._geocodeResultSelected(t),O.DomEvent.on(i,"click touchend",()=>{this.options.collapsed?this._collapse():this._clearResults()})},this),i}_keydown(t){const e=i=>{this._selection&&(O.DomUtil.removeClass(this._selection,"leaflet-control-geocoder-selected"),this._selection=this._selection[i>0?"nextSibling":"previousSibling"]),this._selection||(this._selection=this._alts[i>0?"firstChild":"lastChild"]),this._selection&&O.DomUtil.addClass(this._selection,"leaflet-control-geocoder-selected")};switch(t.keyCode){case 27:this.options.collapsed?this._collapse():this._clearResults();break;case 38:e(-1);break;case 40:e(1);break;case 13:if(this._selection){const i=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[i]),this._clearResults()}else this._geocode();break;default:return}O.DomEvent.preventDefault(t)}_change(){const t=this._input.value;t!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),t.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(()=>this._geocode(!0),this.options.suggestTimeout):this._clearResults())}}O.Util.extend(Xr,Pu),O.Util.extend(O.Control,{Geocoder:Xr,geocoder:function Mu(n){return new Xr(n)}});var Zo=B(7392),x=B(6681),S=B(2467);class Cu extends x.be{constructor(){super(...arguments),this.headerElRef=(0,S._3)()}renderSimpleLayout(t,e){let{props:i,context:o}=this,r=[],a=(0,x.cc)(o.options);return t&&r.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:e}}),(0,S.n)(x.ct,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},(0,S.n)(x.b$,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(t,e,i,o){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:a,context:c}=this,h=!a.forPrint&&(0,x.cc)(c.options),u=!a.forPrint&&(0,x.cb)(c.options),f=[];return t&&f.push({type:"header",key:"header",isSticky:h,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:e}]}),u&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:x.ca}]}),(0,S.n)(x.ct,{elClasses:["fc-daygrid"],viewSpec:c.viewSpec},(0,S.n)(r,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:i,minWidth:o}]}],sections:f}))}}function Go(n,t){let e=[];for(let i=0;i<t;i+=1)e[i]=[];for(let i of n)e[i.row].push(i);return e}function Yo(n,t){let e=[];for(let i=0;i<t;i+=1)e[i]=[];for(let i of n)e[i.firstCol].push(i);return e}function Al(n,t){let e=[];if(n){for(let i=0;i<t;i+=1)e[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)e[i.row].segs.push(i)}else for(let i=0;i<t;i+=1)e[i]=null;return e}const Il=(0,x.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function zl(n){let{display:t}=n.eventRange.ui;return"list-item"===t||"auto"===t&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class Fl extends x.B{render(){let{props:t}=this;return(0,S.n)(x.cj,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Il,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class Bl extends x.B{render(){let{props:t,context:e}=this,{options:i}=e,{seg:o}=t,a=(0,x.bQ)(o,i.eventTimeFormat||Il,e,!0,t.defaultDisplayEventEnd);return(0,S.n)(x.cn,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,x.bU)(t.seg,e),defaultGenerator:Su,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function Su(n){return(0,S.n)(S.FK,null,(0,S.n)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,S.n)("div",{className:"fc-event-time"},n.timeText),(0,S.n)("div",{className:"fc-event-title"},n.event.title||(0,S.n)(S.FK,null,"\xa0")))}class ku extends x.B{constructor(){super(...arguments),this.compileSegs=(0,x.z)(Ou)}render(){let{props:t}=this,{allSegs:e,invisibleSegs:i}=this.compileSegs(t.singlePlacements);return(0,S.n)(x.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:e,hiddenSegs:i,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let o=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,S.n)(S.FK,null,e.map(r=>{let a=r.eventRange.instance.instanceId;return(0,S.n)("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:o[a]?"hidden":""}},zl(r)?(0,S.n)(Bl,Object.assign({seg:r,isDragging:!1,isSelected:a===t.eventSelection,defaultDisplayEventEnd:!1},(0,x.bS)(r,t.todayRange))):(0,S.n)(Fl,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===t.eventSelection,defaultDisplayEventEnd:!1},(0,x.bS)(r,t.todayRange))))}))}})}}function Ou(n){let t=[],e=[];for(let i of n)t.push(i.seg),i.isVisible||e.push(i.seg);return{allSegs:t,invisibleSegs:e}}const Eu=(0,x.x)({week:"narrow"});class Tu extends x.be{constructor(){super(...arguments),this.rootElRef=(0,S._3)(),this.state={dayNumberId:(0,x.a5)()},this.handleRootEl=t=>{(0,x.Y)(this.rootElRef,t),(0,x.Y)(this.props.elRef,t)}}render(){let{context:t,props:e,state:i,rootElRef:o}=this,{options:r,dateEnv:a}=t,{date:c,dateProfile:h}=e;const u=e.showDayNumber&&function Lu(n,t,e){const{start:i,end:o}=t,r=(0,x.bg)(o,-1),a=e.getYear(i),c=e.getMonth(i),h=e.getYear(r),u=e.getMonth(r);return!(a===h&&c===u)&&(n.valueOf()===i.valueOf()||1===e.getDay(n)&&n.valueOf()<o.valueOf())}(c,h.currentRange,a);return(0,S.n)(x.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...e.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},e.extraDataAttrs),e.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Du,date:c,dateProfile:h,todayRange:e.todayRange,showDayNumber:e.showDayNumber,isMonthStart:u,extraRenderProps:e.extraRenderProps},(f,m)=>(0,S.n)("div",{ref:e.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:e.minHeight}},e.showWeekNumber&&(0,S.n)(x.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,x.b0)(t,c,"week"),date:c,defaultFormat:Eu}),!m.isDisabled&&(e.showDayNumber||(0,x.cm)(r)||e.forceDayTop)?(0,S.n)("div",{className:"fc-daygrid-day-top"},(0,S.n)(f,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,x.b0)(t,c)),{id:i.dayNumberId})})):e.showDayNumber?(0,S.n)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,S.n)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,S.n)("div",{className:"fc-daygrid-day-events",ref:e.fgContentElRef},e.fgContent,(0,S.n)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:e.moreMarginTop}},(0,S.n)(ku,{allDayDate:c,singlePlacements:e.singlePlacements,moreCnt:e.moreCnt,alignmentElRef:o,alignGridTop:!e.showDayNumber,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange}))),(0,S.n)("div",{className:"fc-daygrid-day-bg"},e.bgContent)))}}function Du(n){return n.dayNumberText||(0,S.n)(S.FK,null,"\xa0")}function Nl(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function jl(n){return Nl(n)+":"+n.lastCol}function On(n,t,e,i){if(n.firstCol===t&&n.lastCol===e-1)return n;let o=n.eventRange,r=o.range,a=(0,x.o)(r,{start:i[t].date,end:(0,x.t)(i[e-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:t,lastCol:e-1,eventRange:{def:o.def,ui:Object.assign(Object.assign({},o.ui),{durationEditable:!1}),instance:o.instance,range:a},isStart:n.isStart&&a.start.valueOf()===r.start.valueOf(),isEnd:n.isEnd&&a.end.valueOf()===r.end.valueOf()})}class zu extends x.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const e=super.addSegs(t),{entriesByLevel:i}=this,o=r=>!this.forceHidden[(0,x.bB)(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(o);return e}handleInvalidInsertion(t,e,i){const{entriesByLevel:o,forceHidden:r}=this,{touchingEntry:a,touchingLevel:c,touchingLateral:h}=t;if(this.hiddenConsumes&&a){const u=(0,x.bB)(a);if(!r[u])if(this.allowReslicing){const f=Object.assign(Object.assign({},a),{span:(0,x.bF)(a.span,e.span)});r[(0,x.bB)(f)]=!0,o[c][h]=f,i.push(f),this.splitEntry(a,e,i)}else r[u]=!0,i.push(a)}super.handleInvalidInsertion(t,e,i)}}class Hl extends x.be{constructor(){super(...arguments),this.cellElRefs=new x.cf,this.frameElRefs=new x.cf,this.fgElRefs=new x.cf,this.segHarnessRefs=new x.cf,this.rootElRef=(0,S._3)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:e,context:i}=this,{options:o}=i,r=t.cells.length,a=Yo(t.businessHourSegs,r),c=Yo(t.bgEventSegs,r),h=Yo(this.getHighlightSegs(),r),u=Yo(this.getMirrorSegs(),r),{singleColPlacements:f,multiColPlacements:m,moreCnts:v,moreMarginTops:b}=function Ru(n,t,e,i,o,r,a){let c=new zu(k=>o[n[k.index].eventRange.instance.instanceId+":"+k.span.start+":"+(k.span.end-1)]||1);c.allowReslicing=!0,c.strictOrder=i,!0===t||!0===e?(c.maxCoord=r,c.hiddenConsumes=!0):"number"==typeof t?c.maxStackCnt=t:"number"==typeof e&&(c.maxStackCnt=e,c.hiddenConsumes=!0);let h=[],u=[];for(let k=0;k<n.length;k+=1){let E=n[k],A=jl(E);null!=o[A]?h.push({index:k,span:{start:E.firstCol,end:E.lastCol+1}}):u.push(E)}let f=c.addSegs(h),m=c.toRects(),{singleColPlacements:v,multiColPlacements:b,leftoverMargins:P}=function Au(n,t,e){let i=function Iu(n,t){let e=[];for(let i=0;i<t;i+=1)e.push([]);for(let i of n)for(let o=i.span.start;o<i.span.end;o+=1)e[o].push(i);return e}(n,e.length),o=[],r=[],a=[];for(let c=0;c<e.length;c+=1){let h=i[c],u=[],f=0,m=0;for(let b of h)u.push({seg:On(t[b.index],c,c+1,e),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:b.levelCoord-f}),f=b.levelCoord+b.thickness;let v=[];f=0,m=0;for(let b of h){let P=t[b.index],M=b.span.start===c;m+=b.levelCoord-f,f=b.levelCoord+b.thickness,b.span.end-b.span.start>1?(m+=b.thickness,M&&v.push({seg:On(P,b.span.start,b.span.end,e),isVisible:!0,isAbsolute:!0,absoluteTop:b.levelCoord,marginTop:0})):M&&(v.push({seg:On(P,b.span.start,b.span.end,e),isVisible:!0,isAbsolute:!1,absoluteTop:b.levelCoord,marginTop:m}),m=0)}o.push(u),r.push(v),a.push(m)}return{singleColPlacements:o,multiColPlacements:r,leftoverMargins:a}}(m,n,a),w=[],M=[];for(let k of u){b[k.firstCol].push({seg:k,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=k.firstCol;E<=k.lastCol;E+=1)v[E].push({seg:On(k,E,E+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let k=0;k<a.length;k+=1)w.push(0);for(let k of f){let E=n[k.index],A=k.span;b[A.start].push({seg:On(E,A.start,A.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let I=A.start;I<A.end;I+=1)w[I]+=1,v[I].push({seg:On(E,I,I+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let k=0;k<a.length;k+=1)M.push(P[k]);return{singleColPlacements:v,multiColPlacements:b,moreCnts:w,moreMarginTops:M}}((0,x.bR)(t.fgEventSegs,o.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,o.eventOrderStrict,e.segHeights,e.maxContentHeight,t.cells),P=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return(0,S.n)("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((w,M)=>{let k=this.renderFgSegs(M,t.forPrint?f[M]:m[M],t.todayRange,P),E=this.renderFgSegs(M,function Fu(n,t){if(!n.length)return[];let e=function Bu(n){let t={};for(let e of n)for(let i of e)t[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return t}(t);return n.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:e[i.eventRange.instance.instanceId],marginTop:0}))}(u[M],m),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return(0,S.n)(Tu,{key:w.key,elRef:this.cellElRefs.createRef(w.key),innerElRef:this.frameElRefs.createRef(w.key),dateProfile:t.dateProfile,date:w.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&0===M,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:w.extraRenderProps,extraDataAttrs:w.extraDataAttrs,extraClassNames:w.extraClassNames,extraDateSpan:w.extraDateSpan,moreCnt:v[M],moreMarginTop:b[M],singlePlacements:f[M],fgContentElRef:this.fgElRefs.createRef(w.key),fgContent:(0,S.n)(S.FK,null,(0,S.n)(S.FK,null,k),(0,S.n)(S.FK,null,E)),bgContent:(0,S.n)(S.FK,null,this.renderFillSegs(h[M],"highlight"),this.renderFillSegs(a[M],"non-business"),this.renderFillSegs(c[M],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,e){this.updateSizing(!(0,x.E)(t,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,e,i,o,r,a,c){let{context:h}=this,{eventSelection:u}=this.props,{framePositions:f}=this.state,m=1===this.props.cells.length,v=r||a||c,b=[];if(f)for(let P of e){let{seg:w}=P,{instanceId:M}=w.eventRange.instance,k=P.isVisible&&!o[M],E=P.isAbsolute,A="",I="";E&&(h.isRtl?(I=0,A=f.lefts[w.lastCol]-f.lefts[w.firstCol]):(A=0,I=f.rights[w.firstCol]-f.rights[w.lastCol])),b.push((0,S.n)("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:Nl(w),ref:v?null:this.segHarnessRefs.createRef(jl(w)),style:{visibility:k?"":"hidden",marginTop:E?"":P.marginTop,top:E?P.absoluteTop:"",left:A,right:I}},zl(w)?(0,S.n)(Bl,Object.assign({seg:w,isDragging:r,isSelected:M===u,defaultDisplayEventEnd:m},(0,x.bS)(w,i))):(0,S.n)(Fl,Object.assign({seg:w,isDragging:r,isResizing:a,isDateSelecting:c,isSelected:M===u,defaultDisplayEventEnd:m},(0,x.bS)(w,i)))))}return b}renderFillSegs(t,e){let{isRtl:i}=this.context,{todayRange:o}=this.props,{framePositions:r}=this.state,a=[];if(r)for(let c of t){let h=i?{right:0,left:r.lefts[c.lastCol]-r.lefts[c.firstCol]}:{left:0,right:r.rights[c.firstCol]-r.rights[c.lastCol]};a.push((0,S.n)("div",{key:(0,x.bT)(c.eventRange),className:"fc-daygrid-bg-harness",style:h},"bg-event"===e?(0,S.n)(x.cp,Object.assign({seg:c},(0,x.bS)(c,o))):(0,x.co)(e)))}return(0,S.n)(S.FK,{},...a)}updateSizing(t){let{props:e,state:i,frameElRefs:o}=this;if(!e.forPrint&&null!==e.clientWidth){if(t){let h=e.cells.map(u=>o.currentMap[u.key]);if(h.length){let u=this.rootElRef.current,f=new x.ba(u,h,!0,!1);(!i.framePositions||!i.framePositions.similarTo(f))&&this.setState({framePositions:new x.ba(u,h,!0,!1)})}}const r=this.state.segHeights,a=this.querySegHeights(),c=!0===e.dayMaxEvents||!0===e.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},r),a),maxContentHeight:c?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,e={};for(let i in t){let o=Math.round(t[i].getBoundingClientRect().height);e[i]=Math.max(e[i]||0,o)}return e}computeMaxContentHeight(){let t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(e=>t[e.key])}}Hl.addStateEquality({segHeights:x.E});class Nu extends x.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,x.z)(Go),this.splitBgEventSegs=(0,x.z)(Go),this.splitFgEventSegs=(0,x.z)(Go),this.splitDateSelectionSegs=(0,x.z)(Go),this.splitEventDrag=(0,x.z)(Al),this.splitEventResize=(0,x.z)(Al),this.rowRefs=new x.cf}render(){let{props:t,context:e}=this,i=t.cells.length,o=this.splitBusinessHourSegs(t.businessHourSegs,i),r=this.splitBgEventSegs(t.bgEventSegs,i),a=this.splitFgEventSegs(t.fgEventSegs,i),c=this.splitDateSelectionSegs(t.dateSelectionSegs,i),h=this.splitEventDrag(t.eventDrag,i),u=this.splitEventResize(t.eventResize,i),f=i>=7&&t.clientWidth?t.clientWidth/e.options.aspectRatio/6:null;return(0,S.n)(x.ch,{unit:"day"},(m,v)=>(0,S.n)(S.FK,null,t.cells.map((b,P)=>(0,S.n)(Hl,{ref:this.rowRefs.createRef(P),key:b.length?b[0].date.toISOString():P,showDayNumbers:i>1,showWeekNumbers:t.showWeekNumbers,todayRange:v,dateProfile:t.dateProfile,cells:b,renderIntro:t.renderRowIntro,businessHourSegs:o[P],eventSelection:t.eventSelection,bgEventSegs:r[P].filter(ju),fgEventSegs:a[P],dateSelectionSegs:c[P],eventDrag:h[P],eventResize:u[P],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:f,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],e=t?t.closest(".fc-daygrid-body"):null;e&&(this.rootEl=e,this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new x.ba(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new x.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,e){let{colPositions:i,rowPositions:o}=this,r=i.leftToIndex(t),a=o.topToIndex(e);if(null!=a&&null!=r){let c=this.props.cells[a][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,r),allDay:!0},c.extraDateSpan),dayEl:this.getCellEl(a,r),rect:{left:i.lefts[r],right:i.rights[r],top:o.tops[a],bottom:o.bottoms[a]},layer:0}}return null}getCellEl(t,e){return this.rowRefs.currentMap[t].getCellEls()[e]}getCellRange(t,e){let i=this.props.cells[t][e].date;return{start:i,end:(0,x.t)(i,1)}}}function ju(n){return n.eventRange.def.allDay}class Hu extends x.be{constructor(){super(...arguments),this.elRef=(0,S._3)(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:e,dayMaxEvents:i,expandRows:o}=t,r=!0===i||!0===e;return r&&!o&&(r=!1,e=null,i=null),(0,S.n)("div",{ref:this.elRef,className:["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",o?"":"fc-daygrid-body-natural"].join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},(0,S.n)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:o?t.clientHeight:""}},t.colGroupNode,(0,S.n)("tbody",{role:"presentation"},(0,S.n)(Nu,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:i,dayMaxEventRows:e,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=function Wu(n,t){let e;return t.currentRangeUnit.match(/year|month/)&&(e=n.querySelector(`[data-date="${(0,x.bx)(t.currentDate)}-01"]`)),e||(e=n.querySelector(`[data-date="${(0,x.bv)(t.currentDate)}"]`)),e}(this.elRef.current,this.props.dateProfile);if(t){const e=t.closest(".fc-daygrid-body"),i=e.closest(".fc-scroller"),o=t.getBoundingClientRect().top-e.getBoundingClientRect().top;i.scrollTop=o?o+1:0}this.needsScrollReset=!1}}}class Vu extends x.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,e){return e.sliceRange(t)}}class Wl extends x.be{constructor(){super(...arguments),this.slicer=new Vu,this.tableRef=(0,S._3)()}render(){let{props:t,context:e}=this;return(0,S.n)(Hu,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,e,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}function Zu(n,t){let e=new x.bO(n.renderRange,t);return new x.bV(e,/year|month|week/.test(n.currentRangeUnit))}(0,x.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var $u=(0,Zo.i1)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class Uu extends Cu{constructor(){super(...arguments),this.buildDayTableModel=(0,x.z)(Zu),this.headerRef=(0,S._3)(),this.tableRef=(0,S._3)()}render(){let{options:t,dateProfileGenerator:e}=this.context,{props:i}=this,o=this.buildDayTableModel(i.dateProfile,e),r=t.dayHeaders&&(0,S.n)(x.bK,{ref:this.headerRef,dateProfile:i.dateProfile,dates:o.headerDates,datesRepDistinctDays:1===o.rowCnt}),a=c=>(0,S.n)(Wl,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:o,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:c.tableColGroupNode,tableMinWidth:c.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:c.clientWidth,clientHeight:c.clientHeight,forPrint:i.forPrint});return t.dayMinWidth?this.renderHScrollLayout(r,a,o.colCnt,t.dayMinWidth):this.renderSimpleLayout(r,a)}},dateProfileGeneratorClass:class Gu extends x.U{buildRenderRange(t,e,i){let o=super.buildRenderRange(t,e,i),{props:r}=this;return function Yu(n){let r,{dateEnv:t,currentRange:e}=n,{start:i,end:o}=e;if(n.snapToWeek&&(i=t.startOfWeek(i),r=t.startOfWeek(o),r.valueOf()!==o.valueOf()&&(o=(0,x.bh)(r,1))),n.fixedWeekCount){let a=t.startOfWeek(t.startOfMonth((0,x.t)(e.end,-1))),c=Math.ceil((0,x.bi)(a,o));o=(0,x.bh)(o,6-c)}return{start:i,end:o}}({currentRange:o,snapToWeek:/^(year|month)$/.test(e),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class qu extends x.aY{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?(0,x.bP)(t)?["timed","allDay"]:["allDay"]:["timed"]}}const Ku=(0,x.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Vl(n){let t=["fc-timegrid-slot","fc-timegrid-slot-label",n.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return(0,S.n)(x.V.Consumer,null,e=>{if(!n.isLabeled)return(0,S.n)("td",{className:t.join(" "),"data-time":n.isoTimeStr});let{dateEnv:i,options:o,viewApi:r}=e,a=null==o.slotLabelFormat?Ku:Array.isArray(o.slotLabelFormat)?(0,x.x)(o.slotLabelFormat[0]):(0,x.x)(o.slotLabelFormat),c={level:0,time:n.time,date:i.toDate(n.date),view:r,text:i.format(n.date,a)};return(0,S.n)(x.C,{elTag:"td",elClasses:t,elAttrs:{"data-time":n.isoTimeStr},renderProps:c,generatorName:"slotLabelContent",customGenerator:o.slotLabelContent,defaultGenerator:Ju,classNameGenerator:o.slotLabelClassNames,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},h=>(0,S.n)("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},(0,S.n)(h,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Ju(n){return n.text}class Qu extends x.B{render(){return this.props.slatMetas.map(t=>(0,S.n)("tr",{key:t.key},(0,S.n)(Vl,Object.assign({},t))))}}const tf=(0,x.x)({week:"short"});class nf extends x.be{constructor(){super(...arguments),this.allDaySplitter=new qu,this.headerElRef=(0,S._3)(),this.rootElRef=(0,S._3)(),this.scrollerElRef=(0,S._3)(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let e=this.scrollerElRef.current;e&&(e.scrollTop=t)},this.renderHeadAxis=(t,e="")=>{let{options:i}=this.context,{dateProfile:o}=this.props,r=o.renderRange,c=1===(0,x.bl)(r.start,r.end)?(0,x.b0)(this.context,r.start,"week"):{};return i.weekNumbers&&"day"===t?(0,S.n)(x.cq,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:tf},h=>(0,S.n)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:e}},(0,S.n)(h,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:c}))):(0,S.n)("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},(0,S.n)("div",{className:"fc-timegrid-axis-frame",style:{height:e}}))},this.renderTableRowAxis=t=>{let{options:e,viewApi:i}=this.context;return(0,S.n)(x.C,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:{text:e.allDayText,view:i},generatorName:"allDayContent",customGenerator:e.allDayContent,defaultGenerator:sf,classNameGenerator:e.allDayClassNames,didMount:e.allDayDidMount,willUnmount:e.allDayWillUnmount},r=>(0,S.n)("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==t?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},(0,S.n)(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,e,i){let{context:o,props:r}=this,a=[],c=(0,x.cc)(o.options);return t&&a.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),e&&(a.push({type:"body",key:"all-day",chunk:{content:e}}),a.push({type:"body",key:"all-day-divider",outerContent:(0,S.n)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,S.n)("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!o.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),(0,S.n)(x.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:o.viewSpec},(0,S.n)(x.b$,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(t,e,i,o,r,a,c){let h=this.context.pluginHooks.scrollGridImpl;if(!h)throw new Error("No ScrollGrid implementation");let{context:u,props:f}=this,m=!f.forPrint&&(0,x.cc)(u.options),v=!f.forPrint&&(0,x.cb)(u.options),b=[];t&&b.push({type:"header",key:"header",isSticky:m,syncRowHeights:!0,chunks:[{key:"axis",rowContent:w=>(0,S.n)("tr",{role:"presentation"},this.renderHeadAxis("day",w.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),e&&(b.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:w=>(0,S.n)("tr",{role:"presentation"},this.renderTableRowAxis(w.rowSyncHeights[0]))},{key:"cols",content:e}]}),b.push({key:"all-day-divider",type:"body",outerContent:(0,S.n)("tr",{role:"presentation",className:"fc-scrollgrid-section"},(0,S.n)("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let P=u.options.nowIndicator;return b.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:w=>(0,S.n)("div",{className:"fc-timegrid-axis-chunk"},(0,S.n)("table",{"aria-hidden":!0,style:{height:w.expandRows?w.clientHeight:""}},w.tableColGroupNode,(0,S.n)("tbody",null,(0,S.n)(Qu,{slatMetas:a}))),(0,S.n)("div",{className:"fc-timegrid-now-indicator-container"},(0,S.n)(x.ch,{unit:P?"minute":"day"},M=>{let k=P&&c&&c.safeComputeTop(M);return"number"==typeof k?(0,S.n)(x.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:k},isAxis:!0,date:M}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),v&&b.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:x.ca},{key:"cols",content:x.ca}]}),(0,S.n)(x.ct,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},(0,S.n)(h,{liquid:!f.isHeightAuto&&!f.forPrint,forPrint:f.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:r}]}],sections:b}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:e}=this.context.options;return(!0===t||!0===e)&&(t=void 0,e=5),{dayMaxEvents:t,dayMaxEventRows:e}}}function sf(n){return n.text}class of{constructor(t,e,i){this.positions=t,this.dateProfile=e,this.slotDuration=i}safeComputeTop(t){let{dateProfile:e}=this;if((0,x.H)(e.currentRange,t)){let i=(0,x.q)(t),o=t.valueOf()-i.valueOf();if(o>=(0,x.bs)(e.slotMinTime)&&o<(0,x.bs)(e.slotMaxTime))return this.computeTimeTop((0,x.d)(o))}return null}computeDateTop(t,e){return e||(e=(0,x.q)(t)),this.computeTimeTop((0,x.d)(t.valueOf()-e.valueOf()))}computeTimeTop(t){let a,c,{positions:e,dateProfile:i}=this,o=e.els.length,r=(t.milliseconds-(0,x.bs)(i.slotMinTime))/(0,x.bs)(this.slotDuration);return r=Math.max(0,r),r=Math.min(o,r),a=Math.floor(r),a=Math.min(a,o-1),c=r-a,e.tops[a]+e.getHeight(a)*c}}class rf extends x.B{render(){let{props:t,context:e}=this,{options:i}=e,{slatElRefs:o}=t;return(0,S.n)("tbody",null,t.slatMetas.map((r,a)=>{let c={time:r.time,date:e.dateEnv.toDate(r.date),view:e.viewApi};return(0,S.n)("tr",{key:r.key,ref:o.createRef(r.key)},t.axis&&(0,S.n)(Vl,Object.assign({},r)),(0,S.n)(x.C,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:c,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class af extends x.B{constructor(){super(...arguments),this.rootElRef=(0,S._3)(),this.slatElRefs=new x.cf}render(){let{props:t,context:e}=this;return(0,S.n)("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},(0,S.n)("table",{"aria-hidden":!0,className:e.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,(0,S.n)(rf,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:e}=this;e.onCoords&&null!==e.clientWidth&&this.rootElRef.current.offsetHeight&&e.onCoords(new of(new x.ba(this.rootElRef.current,function lf(n,t){return t.map(e=>n[e.key])}(this.slatElRefs.currentMap,e.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function Rs(n,t){let i,e=[];for(i=0;i<t;i+=1)e.push([]);if(n)for(i=0;i<n.length;i+=1)e[n[i].col].push(n[i]);return e}function Ul(n,t){let e=[];if(n){for(let i=0;i<t;i+=1)e[i]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let i of n.segs)e[i.col].segs.push(i)}else for(let i=0;i<t;i+=1)e[i]=null;return e}class cf extends x.B{render(){let{props:t}=this;return(0,S.n)(x.cr,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Xl(t.hiddenSegs,t),defaultGenerator:hf,forceTimed:!0},e=>(0,S.n)(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function hf(n){return n.shortText}function Zl(n,t){if(!n)return[[],0];let{level:e,lateralStart:i,lateralEnd:o}=n,r=i,a=[];for(;r<o;)a.push(t(e,r)),r+=1;return a.sort(ff),[a.map(gf),a[0][1]]}function ff(n,t){return t[1]-n[1]}function gf(n){return n[0]}function _f(n){let t=[];const e=$r((o,r,a)=>(0,x.bB)(o),(o,r,a)=>{let c=Object.assign(Object.assign({},o),{levelCoord:r,stackDepth:a,stackForward:0});return t.push(c),c.stackForward=i(o.nextLevelNodes,r+o.thickness,a+1)+1});function i(o,r,a){let c=0;for(let h of o)c=Math.max(e(h,r,a),c);return c}return i(n,0,0),t}function $r(n,t){const e={};return(...i)=>{let o=n(...i);return o in e?e[o]:e[o]=t(...i)}}function Gl(n,t,e=null,i=0){let o=[];if(e)for(let r=0;r<n.length;r+=1){let a=n[r],c=e.computeDateTop(a.start,t),h=Math.max(c+(i||0),e.computeDateTop(a.end,t));o.push({start:Math.round(c),end:Math.round(h)})}return o}const bf=(0,x.x)({hour:"numeric",minute:"2-digit",meridiem:!1});class Yl extends x.B{render(){return(0,S.n)(x.cj,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:bf}))}}class yf extends x.B{constructor(){super(...arguments),this.sortEventSegs=(0,x.z)(x.bR)}render(){let{props:t,context:e}=this,{options:i}=e,o=i.selectMirror,r=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||o&&t.dateSelectionSegs||[],a=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},c=this.sortEventSegs(t.fgEventSegs,i.eventOrder);return(0,S.n)(x.cl,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},h=>(0,S.n)("div",{className:"fc-timegrid-col-frame"},(0,S.n)("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),(0,S.n)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(c,a,!1,!1,!1)),(0,S.n)("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!t.eventDrag,!!t.eventResize,!!o,"mirror")),(0,S.n)("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),(0,x.cm)(i)&&(0,S.n)(h,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,e,i,o,r,a){let{props:c}=this;return c.forPrint?Xl(t,c):this.renderPositionedFgSegs(t,e,i,o,r,a)}renderPositionedFgSegs(t,e,i,o,r,a){let{eventMaxStack:c,eventShortHeight:h,eventOrderStrict:u,eventMinHeight:f}=this.context.options,{date:m,slatCoords:v,eventSelection:b,todayRange:P,nowDate:w}=this.props,M=i||o||r,k=Gl(t,m,v,f),{segPlacements:E,hiddenGroups:A}=function vf(n,t,e,i){let o=[],r=[];for(let u=0;u<n.length;u+=1){let f=t[u];f?o.push({index:u,thickness:1,span:f}):r.push(n[u])}let{segRects:a,hiddenGroups:c}=function df(n,t,e){let i=new x.bA;null!=t&&(i.strictOrder=t),null!=e&&(i.maxStackCnt=e);let o=i.addSegs(n),r=(0,x.bE)(o),a=function uf(n){const{entriesByLevel:t}=n,e=$r((i,o)=>i+":"+o,(i,o)=>{let r=function pf(n,t,e){let{levelCoords:i,entriesByLevel:o}=n,r=o[t][e],a=i[t]+r.thickness,c=i.length,h=t;for(;h<c&&i[h]<a;h+=1);for(;h<c;h+=1){let f,u=o[h],m=(0,x.bD)(u,r.span.start,x.bC),v=m[0]+m[1],b=v;for(;(f=u[b])&&f.span.start<r.span.end;)b+=1;if(v<b)return{level:h,lateralStart:v,lateralEnd:b}}return null}(n,i,o),a=Zl(r,e),c=t[i][o];return[Object.assign(Object.assign({},c),{nextLevelNodes:a[0]}),c.thickness+a[1]]});return Zl(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,e)[0]}(i);return a=function mf(n,t){const e=$r((i,o,r)=>(0,x.bB)(i),(i,o,r)=>{let f,{nextLevelNodes:a,thickness:c}=i,h=c+r,u=c/h,m=[];if(a.length)for(let b of a)if(void 0===f){let P=e(b,o,h);f=P[0],m.push(P[1])}else{let P=e(b,f,0);m.push(P[1])}else f=t;let v=(f-o)*u;return[f-v,Object.assign(Object.assign({},i),{thickness:v,nextLevelNodes:m})]});return n.map(i=>e(i,0,0)[1])}(a,1),{segRects:_f(a),hiddenGroups:r}}(o,e,i),h=[];for(let u of a)h.push({seg:n[u.index],rect:u});for(let u of r)h.push({seg:u,rect:null});return{segPlacements:h,hiddenGroups:c}}(t,k,u,c);return(0,S.n)(S.FK,null,this.renderHiddenGroups(A,t),E.map(I=>{let{seg:R,rect:z}=I,W=R.eventRange.instance.instanceId,N=M||!(e[W]||!z),V=qr(z&&z.span),Q=!M&&z?this.computeSegHStyle(z):{left:0,right:0},st=!!z&&z.span.end-z.span.start<h;return(0,S.n)("div",{className:"fc-timegrid-event-harness"+(z&&z.stackForward>0?" fc-timegrid-event-harness-inset":""),key:a||W,style:Object.assign(Object.assign({visibility:N?"":"hidden"},V),Q)},(0,S.n)(Yl,Object.assign({seg:R,isDragging:i,isResizing:o,isDateSelecting:r,isSelected:W===b,isShort:st},(0,x.bS)(R,P,w))))}))}renderHiddenGroups(t,e){let{extraDateSpan:i,dateProfile:o,todayRange:r,nowDate:a,eventSelection:c,eventDrag:h,eventResize:u}=this.props;return(0,S.n)(S.FK,null,t.map(f=>{let m=qr(f.span),v=function xf(n,t){return n.map(e=>t[e.index])}(f.entries,e);return(0,S.n)(cf,{key:(0,x.bw)((0,x.cs)(v)),hiddenSegs:v,top:m.top,bottom:m.bottom,extraDateSpan:i,dateProfile:o,todayRange:r,nowDate:a,eventSelection:c,eventDrag:h,eventResize:u})}))}renderFillSegs(t,e){let{props:i,context:o}=this,a=Gl(t,i.date,i.slatCoords,o.options.eventMinHeight).map((c,h)=>{let u=t[h];return(0,S.n)("div",{key:(0,x.bT)(u.eventRange),className:"fc-timegrid-bg-harness",style:qr(c)},"bg-event"===e?(0,S.n)(x.cp,Object.assign({seg:u},(0,x.bS)(u,i.todayRange,i.nowDate))):(0,x.co)(e))});return(0,S.n)(S.FK,null,a)}renderNowIndicator(t){let{slatCoords:e,date:i}=this.props;return e?t.map((o,r)=>(0,S.n)(x.ck,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:e.computeDateTop(o.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(t){let c,h,{isRtl:e,options:i}=this.context,o=i.slotEventOverlap,r=t.levelCoord,a=t.levelCoord+t.thickness;o&&(a=Math.min(1,r+2*(a-r))),e?(c=1-a,h=r):(c=r,h=1-a);let u={zIndex:t.stackDepth+1,left:100*c+"%",right:100*h+"%"};return o&&!t.stackForward&&(u[e?"marginLeft":"marginRight"]=20),u}}function Xl(n,{todayRange:t,nowDate:e,eventSelection:i,eventDrag:o,eventResize:r}){let a=(o?o.affectedInstances:null)||(r?r.affectedInstances:null)||{};return(0,S.n)(S.FK,null,n.map(c=>{let h=c.eventRange.instance.instanceId;return(0,S.n)("div",{key:h,style:{visibility:a[h]?"hidden":""}},(0,S.n)(Yl,Object.assign({seg:c,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:h===i,isShort:!1},(0,x.bS)(c,t,e))))}))}function qr(n){return n?{top:n.start,bottom:-n.end}:{top:"",bottom:""}}class wf extends x.B{constructor(){super(...arguments),this.splitFgEventSegs=(0,x.z)(Rs),this.splitBgEventSegs=(0,x.z)(Rs),this.splitBusinessHourSegs=(0,x.z)(Rs),this.splitNowIndicatorSegs=(0,x.z)(Rs),this.splitDateSelectionSegs=(0,x.z)(Rs),this.splitEventDrag=(0,x.z)(Ul),this.splitEventResize=(0,x.z)(Ul),this.rootElRef=(0,S._3)(),this.cellElRefs=new x.cf}render(){let{props:t,context:e}=this,i=e.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),o=t.cells.length,r=this.splitFgEventSegs(t.fgEventSegs,o),a=this.splitBgEventSegs(t.bgEventSegs,o),c=this.splitBusinessHourSegs(t.businessHourSegs,o),h=this.splitNowIndicatorSegs(t.nowIndicatorSegs,o),u=this.splitDateSelectionSegs(t.dateSelectionSegs,o),f=this.splitEventDrag(t.eventDrag,o),m=this.splitEventResize(t.eventResize,o);return(0,S.n)("div",{className:"fc-timegrid-cols",ref:this.rootElRef},(0,S.n)("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,(0,S.n)("tbody",{role:"presentation"},(0,S.n)("tr",{role:"row"},t.axis&&(0,S.n)("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},(0,S.n)("div",{className:"fc-timegrid-col-frame"},(0,S.n)("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&(0,S.n)(x.ck,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:t.nowDate})))),t.cells.map((v,b)=>(0,S.n)(yf,{key:v.key,elRef:this.cellElRefs.createRef(v.key),dateProfile:t.dateProfile,date:v.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:v.extraRenderProps,extraDataAttrs:v.extraDataAttrs,extraClassNames:v.extraClassNames,extraDateSpan:v.extraDateSpan,fgEventSegs:r[b],bgEventSegs:a[b],businessHourSegs:c[b],nowIndicatorSegs:h[b],dateSelectionSegs:u[b],eventDrag:f[b],eventResize:m[b],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new x.ba(this.rootElRef.current,function Pf(n,t){return t.map(e=>n[e.key])}(this.cellElRefs.currentMap,t.cells),!0,!1))}}class Mf extends x.be{constructor(){super(...arguments),this.processSlotOptions=(0,x.z)(Cf),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:e}=this.props,{slatCoords:i}=this.state;if(e&&i){if(t.time){let o=i.computeTimeTop(t.time);o=Math.ceil(o),o&&(o+=1),e(o)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:e}=this;return(0,S.n)("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},(0,S.n)(af,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),(0,S.n)(wf,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:e.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,e){let{dateEnv:i,options:o}=this.context,{colCoords:r}=this,{dateProfile:a}=this.props,{slatCoords:c}=this.state,{snapDuration:h,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,o.snapDuration),f=r.leftToIndex(t),m=c.positions.topToIndex(e);if(null!=f&&null!=m){let v=this.props.cells[f],b=c.positions.tops[m],P=c.positions.getHeight(m),M=Math.floor((e-b)/P*u),E=this.props.cells[f].date,A=(0,x.bp)(a.slotMinTime,(0,x.bo)(h,m*u+M)),I=i.add(E,A),R=i.add(I,h);return{dateProfile:a,dateSpan:Object.assign({range:{start:I,end:R},allDay:!1},v.extraDateSpan),dayEl:r.els[f],rect:{left:r.lefts[f],right:r.rights[f],top:b,bottom:b+P},layer:0}}return null}}function Cf(n,t){let e=t||n,i=(0,x.bt)(n,e);return null===i&&(e=n,i=1),{snapDuration:e,snapsPerSlot:i}}class Sf extends x.bW{sliceRange(t,e){let i=[];for(let o=0;o<e.length;o+=1){let r=(0,x.o)(t,e[o]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===t.start.valueOf(),isEnd:r.end.valueOf()===t.end.valueOf(),col:o})}return i}}class kf extends x.be{constructor(){super(...arguments),this.buildDayRanges=(0,x.z)(Of),this.slicer=new Sf,this.timeColsRef=(0,S._3)()}render(){let{props:t,context:e}=this,{dateProfile:i,dayTableModel:o}=t,{nowIndicator:r,nextDayThreshold:a}=e.options,c=this.buildDayRanges(o,i,e.dateEnv);return(0,S.n)(x.ch,{unit:r?"minute":"day"},(h,u)=>(0,S.n)(Mf,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,i,null,e,c),{forPrint:t.forPrint,axis:t.axis,dateProfile:i,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:o.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:h,nowIndicatorSegs:r&&this.slicer.sliceNowDate(h,i,a,e,c),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function Of(n,t,e){let i=[];for(let o of n.headerDates)i.push({start:e.add(o,t.slotMinTime),end:e.add(o,t.slotMaxTime)});return i}const $l=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Ef(n,t,e,i,o){let r=new Date(0),a=n,c=(0,x.d)(0),h=e||function Tf(n){let t,e,i;for(t=$l.length-1;t>=0;t-=1)if(e=(0,x.d)($l[t]),i=(0,x.bt)(e,n),null!==i&&i>1)return e;return n}(i),u=[];for(;(0,x.bs)(a)<(0,x.bs)(t);){let f=o.add(r,a),m=null!==(0,x.bt)(c,h);u.push({date:f,time:a,key:f.toISOString(),isoTimeStr:(0,x.bu)(f),isLabeled:m}),a=(0,x.bp)(a,i),c=(0,x.bp)(c,i)}return u}function Lf(n,t){let e=new x.bO(n.renderRange,t);return new x.bV(e,!1)}(0,x.cw)('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');const Af={allDaySlot:Boolean};var If=(0,Zo.i1)({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Af,views:{timeGrid:{component:class Df extends nf{constructor(){super(...arguments),this.buildTimeColsModel=(0,x.z)(Lf),this.buildSlatMetas=(0,x.z)(Ef)}render(){let{options:t,dateEnv:e,dateProfileGenerator:i}=this.context,{props:o}=this,{dateProfile:r}=o,a=this.buildTimeColsModel(r,i),c=this.allDaySplitter.splitProps(o),h=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,t.slotLabelInterval,t.slotDuration,e),{dayMinWidth:u}=t,f=!u,m=u,v=t.dayHeaders&&(0,S.n)(x.bK,{dates:a.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),b=!1!==t.allDaySlot&&(w=>(0,S.n)(Wl,Object.assign({},c.allDay,{dateProfile:r,dayTableModel:a,nextDayThreshold:t.nextDayThreshold,tableMinWidth:w.tableMinWidth,colGroupNode:w.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:w.clientWidth,clientHeight:w.clientHeight,forPrint:o.forPrint},this.getAllDayMaxEventProps()))),P=w=>(0,S.n)(kf,Object.assign({},c.timed,{dayTableModel:a,dateProfile:r,axis:f,slotDuration:t.slotDuration,slatMetas:h,forPrint:o.forPrint,tableColGroupNode:w.tableColGroupNode,tableMinWidth:w.tableMinWidth,clientWidth:w.clientWidth,clientHeight:w.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:w.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return m?this.renderHScrollLayout(v,b,P,a.colCnt,u,h,this.state.slatCoords):this.renderSimpleLayout(v,b,P)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});class zf extends x.B{constructor(){super(...arguments),this.state={textId:(0,x.a5)()}}render(){let{theme:t,dateEnv:e,options:i,viewApi:o}=this.context,{cellId:r,dayDate:a,todayRange:c}=this.props,{textId:h}=this.state,u=(0,x.a_)(a,c),f=i.listDayFormat?e.format(a,i.listDayFormat):"",m=i.listDaySideFormat?e.format(a,i.listDaySideFormat):"",v=Object.assign({date:e.toDate(a),view:o,textId:h,text:f,sideText:m,navLinkAttrs:(0,x.b0)(this.context,a),sideNavLinkAttrs:(0,x.b0)(this.context,a,"day",!1)},u);return(0,S.n)(x.C,{elTag:"tr",elClasses:["fc-list-day",...(0,x.aZ)(u,t)],elAttrs:{"data-date":(0,x.bv)(a)},renderProps:v,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:Ff,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},b=>(0,S.n)("th",{scope:"colgroup",colSpan:3,id:r,"aria-labelledby":h},(0,S.n)(b,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function Ff(n){return(0,S.n)(S.FK,null,n.text&&(0,S.n)("a",Object.assign({id:n.textId,className:"fc-list-day-text"},n.navLinkAttrs),n.text),n.sideText&&(0,S.n)("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},n.sideNavLinkAttrs),n.sideText))}const Bf=(0,x.x)({hour:"numeric",minute:"2-digit",meridiem:"short"});class Nf extends x.B{render(){let{props:t,context:e}=this,{options:i}=e,{seg:o,timeHeaderId:r,eventHeaderId:a,dateHeaderId:c}=t,h=i.eventTimeFormat||Bf;return(0,S.n)(x.cn,Object.assign({},t,{elTag:"tr",elClasses:["fc-list-event",o.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function jf(n,t){let e=(0,x.bU)(n,t);return(0,S.n)("a",Object.assign({},e),n.eventRange.def.title)}(o,e),seg:o,timeText:"",disableDragging:!0,disableResizing:!0}),(u,f)=>(0,S.n)(S.FK,null,function Hf(n,t,e,i,o){let{options:r}=e;if(!1!==r.displayEventTime){let u,c=n.eventRange.instance,h=!1;return n.eventRange.def.allDay?h=!0:(0,x.az)(n.eventRange.range)?n.isStart?u=(0,x.bQ)(n,t,e,null,null,c.range.start,n.end):n.isEnd?u=(0,x.bQ)(n,t,e,null,null,n.start,c.range.end):h=!0:u=(0,x.bQ)(n,t,e),h?(0,S.n)(x.C,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${i} ${o}`},renderProps:{text:e.options.allDayText,view:e.viewApi},generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Wf,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount}):(0,S.n)("td",{className:"fc-list-event-time"},u)}return null}(o,h,e,r,c),(0,S.n)("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},(0,S.n)("span",{className:"fc-list-event-dot",style:{borderColor:f.borderColor||f.backgroundColor}})),(0,S.n)(u,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${a} ${c}`}})))}}function Wf(n){return n.text}function Uf(n){return n.text}function Zf(n){let t=(0,x.q)(n.renderRange.start),e=n.renderRange.end,i=[],o=[];for(;t<e;)i.push(t),o.push({start:t,end:(0,x.t)(t,1)}),t=(0,x.t)(t,1);return{dayDates:i,dayRanges:o}}function ql(n){return!1===n?null:(0,x.x)(n)}(0,x.cw)(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');var $f=(0,Zo.i1)({name:"@fullcalendar/list",optionRefiners:{listDayFormat:ql,listDaySideFormat:ql,noEventsClassNames:x.n,noEventsContent:x.n,noEventsDidMount:x.n,noEventsWillUnmount:x.n},views:{list:{component:class Vf extends x.be{constructor(){super(...arguments),this.computeDateVars=(0,x.z)(Zf),this.eventStoreToSegs=(0,x.z)(this._eventStoreToSegs),this.state={timeHeaderId:(0,x.a5)(),eventHeaderId:(0,x.a5)(),dateHeaderIdRoot:(0,x.a5)()},this.setRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:t,context:e}=this,{dayDates:i,dayRanges:o}=this.computeDateVars(t.dateProfile),r=this.eventStoreToSegs(t.eventStore,t.eventUiBases,o);return(0,S.n)(x.ct,{elRef:this.setRootEl,elClasses:["fc-list",e.theme.getClass("table"),!1!==e.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:e.viewSpec},(0,S.n)(x.cd,{liquid:!t.isHeightAuto,overflowX:t.isHeightAuto?"visible":"hidden",overflowY:t.isHeightAuto?"visible":"auto"},r.length>0?this.renderSegList(r,i):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:t,viewApi:e}=this.context;return(0,S.n)(x.C,{elTag:"div",elClasses:["fc-list-empty"],renderProps:{text:t.noEventsText,view:e},generatorName:"noEventsContent",customGenerator:t.noEventsContent,defaultGenerator:Uf,classNameGenerator:t.noEventsClassNames,didMount:t.noEventsDidMount,willUnmount:t.noEventsWillUnmount},o=>(0,S.n)(o,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(t,e){let{theme:i,options:o}=this.context,{timeHeaderId:r,eventHeaderId:a,dateHeaderIdRoot:c}=this.state,h=function Gf(n){let e,i,t=[];for(e=0;e<n.length;e+=1)i=n[e],(t[i.dayIndex]||(t[i.dayIndex]=[])).push(i);return t}(t);return(0,S.n)(x.ch,{unit:"day"},(u,f)=>{let m=[];for(let v=0;v<h.length;v+=1){let b=h[v];if(b){let P=(0,x.bv)(e[v]),w=c+"-"+P;m.push((0,S.n)(zf,{key:P,cellId:w,dayDate:e[v],todayRange:f})),b=(0,x.bR)(b,o.eventOrder);for(let M of b)m.push((0,S.n)(Nf,Object.assign({key:P+":"+M.eventRange.instance.instanceId,seg:M,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:r,eventHeaderId:a,dateHeaderId:w},(0,x.bS)(M,f,u))))}}return(0,S.n)("table",{className:"fc-list-table "+i.getClass("table")},(0,S.n)("thead",null,(0,S.n)("tr",null,(0,S.n)("th",{scope:"col",id:r},o.timeHint),(0,S.n)("th",{scope:"col","aria-hidden":!0}),(0,S.n)("th",{scope:"col",id:a},o.eventHint))),(0,S.n)("tbody",null,m))})}_eventStoreToSegs(t,e,i){return this.eventRangesToSegs((0,x.af)(t,e,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,i)}eventRangesToSegs(t,e){let i=[];for(let o of t)i.push(...this.eventRangeToSegs(o,e));return i}eventRangeToSegs(t,e){let c,h,u,{dateEnv:i}=this.context,{nextDayThreshold:o}=this.context.options,r=t.range,a=t.def.allDay,f=[];for(c=0;c<e.length;c+=1)if(h=(0,x.o)(r,e[c]),h&&(u={component:this,eventRange:t,start:h.start,end:h.end,isStart:t.isStart&&h.start.valueOf()===r.start.valueOf(),isEnd:t.isEnd&&h.end.valueOf()===r.end.valueOf(),dayIndex:c},f.push(u),!u.isEnd&&!a&&c+1<e.length&&r.end<i.add(e[c+1].start,o))){u.end=r.end,u.isEnd=!0;break}return f}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});x.bI.touchMouseIgnoreWait=500;let Kr=0,Xo=0,Jr=!1;class Qr{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{if(!this.shouldIgnoreMouse()&&function qf(n){return 0===n.button&&!n.ctrlKey}(e)&&this.tryStart(e)){let i=this.createEventFromMouse(e,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=e=>{let i=this.createEventFromMouse(e);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{if(this.tryStart(e)){this.isTouchDragging=!0;let i=this.createEventFromTouch(e,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let o=e.target;this.shouldIgnoreMove||o.addEventListener("touchmove",this.handleTouchMove),o.addEventListener("touchend",this.handleTouchEnd),o.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=e=>{let i=this.createEventFromTouch(e);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=e=>{if(this.isDragging){let i=e.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,function Kf(){Kr+=1,setTimeout(()=>{Kr-=1},x.bI.touchMouseIgnoreWait)}()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,o=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:o,deltaX:i-this.origPageX,deltaY:o-this.origPageY})}},this.containerEl=t,this.emitter=new x.F,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Jf(){Xo+=1,1===Xo&&window.addEventListener("touchmove",Kl,{passive:!1})}()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Qf(){Xo-=1,Xo||window.removeEventListener("touchmove",Kl,{passive:!1})}()}tryStart(t){let e=this.querySubjectEl(t);return!(!e||this.handleSelector&&!(0,x.$)(t.target,this.handleSelector)||(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,0))}cleanup(){Jr=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?(0,x.$)(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Kr||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Jr=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,e){let i=0,o=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(i=t.pageX-this.origPageX,o=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:i,deltaY:o}}createEventFromTouch(t,e){let o,r,i=t.touches,a=0,c=0;return i&&i.length?(o=i[0].pageX,r=i[0].pageY):(o=t.pageX,r=t.pageY),e?(this.origPageX=o,this.origPageY=r):(a=o-this.origPageX,c=r-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:o,pageY:r,deltaX:a,deltaY:c}}}function Kl(n){Jr&&n.preventDefault()}class tg{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,e,i){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,e){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=e-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,e){let i=()=>{this.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(t,e){let i=this.mirrorEl,o=this.sourceEl.getBoundingClientRect();i.style.transition="top "+e+"ms,left "+e+"ms",(0,x.aP)(i,{left:o.left,top:o.top}),(0,x.b2)(i,()=>{i.style.transition="",t()})}cleanup(){this.mirrorEl&&((0,x.aO)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&(0,x.aP)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,e=this.mirrorEl;return e||(e=this.mirrorEl=this.sourceEl.cloneNode(!0),e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.pointerEvents="none",e.classList.add("fc-event-dragging"),(0,x.aP)(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e}}class Jl extends x.bb{constructor(t,e){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=e,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Ql extends Jl{constructor(t,e){super(new x.bc(t),e)}getEventTarget(){return this.scrollController.el}computeClientRect(){return(0,x.b3)(this.scrollController.el)}}class eg extends Jl{constructor(t){super(new x.bd,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const tc="function"==typeof performance?performance.now:Date.now;class ig{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let e=tc();this.handleSide(t,(e-this.msSinceRequest)/1e3),this.requestAnimation(e)}else this.isAnimating=!1}}}start(t,e,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))}handleMove(t,e){if(this.isEnabled){let i=t-window.scrollX,o=e-window.scrollY,r=null===this.pointerScreenY?0:o-this.pointerScreenY,a=null===this.pointerScreenX?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=o,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(tc()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,e){let{scrollCache:i}=t,{edgeThreshold:o}=this,r=o-t.distance,a=r*r/(o*o)*this.maxVelocity*e,c=1;switch(t.name){case"left":c=-1;case"right":i.setScrollLeft(i.getScrollLeft()+a*c);break;case"top":c=-1;case"bottom":i.setScrollTop(i.getScrollTop()+a*c)}}computeBestEdge(t,e){let{edgeThreshold:i}=this,o=null,r=this.scrollCaches||[];for(let a of r){let c=a.clientRect,h=t-c.left,u=c.right-t,f=e-c.top,m=c.bottom-e;h>=0&&u>=0&&f>=0&&m>=0&&(f<=i&&this.everMovedUp&&a.canScrollUp()&&(!o||o.distance>f)&&(o={scrollCache:a,name:"top",distance:f}),m<=i&&this.everMovedDown&&a.canScrollDown()&&(!o||o.distance>m)&&(o={scrollCache:a,name:"bottom",distance:m}),h<=i&&this.everMovedLeft&&a.canScrollLeft()&&(!o||o.distance>h)&&(o={scrollCache:a,name:"left",distance:h}),u<=i&&this.everMovedRight&&a.canScrollRight()&&(!o||o.distance>u)&&(o={scrollCache:a,name:"right",distance:u}))}return o}buildCaches(t){return this.queryScrollEls(t).map(e=>e===window?new eg(!1):new Ql(e,!1))}queryScrollEls(t){let e=[];for(let i of this.scrollQuery)"object"==typeof i?e.push(i):e.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(i)));return e}}class En extends x.bH{constructor(t,e){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=o=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(0,x.ar)(document.body),(0,x.at)(document.body),o.isTouch||o.origEvent.preventDefault(),this.emitter.trigger("pointerdown",o),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(o.subjectEl,o.pageX,o.pageY),this.startDelay(o),this.minDistance||this.handleDistanceSurpassed(o)))},this.onPointerMove=o=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",o),!this.isDistanceSurpassed){let a,r=this.minDistance,{deltaX:c,deltaY:h}=o;a=c*c+h*h,a>=r*r&&this.handleDistanceSurpassed(o)}this.isDragging&&("scroll"!==o.origEvent.type&&(this.mirror.handleMove(o.pageX,o.pageY),this.autoScroller.handleMove(o.pageX,o.pageY)),this.emitter.trigger("dragmove",o))}},this.onPointerUp=o=>{this.isInteracting&&(this.isInteracting=!1,(0,x.as)(document.body),(0,x.au)(document.body),this.emitter.trigger("pointerup",o),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(o)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new Qr(t);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),e&&(i.selector=e),this.mirror=new tg,this.autoScroller=new ig}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class ng{constructor(t){this.el=t,this.origRect=(0,x.b6)(t),this.scrollCaches=(0,x.b5)(t).map(e=>new Ql(e,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let e of this.scrollCaches)t+=e.origScrollLeft-e.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let e of this.scrollCaches)t+=e.origScrollTop-e.getScrollTop();return t}isWithinClipping(t,e){let i={left:t,top:e};for(let o of this.scrollCaches)if(!sg(o.getEventTarget())&&!(0,x.aF)(i,o.clientRect))return!1;return!0}}function sg(n){let t=n.tagName;return"HTML"===t||"BODY"===t}class As{constructor(t,e){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:o}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(o.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):o.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new x.F}processFirstCoord(t){let r,e={left:t.pageX,top:t.pageY},i=e,o=t.subjectEl;o instanceof HTMLElement&&(r=(0,x.b6)(o),i=(0,x.aG)(i,r));let a=this.initialHit=this.queryHitForOffset(i.left,i.top);if(a){if(this.useSubjectCenter&&r){let c=(0,x.aE)(r,a.rect);c&&(i=(0,x.aH)(c))}this.coordAdjust=(0,x.aI)(i,e)}else this.coordAdjust={left:0,top:0}}handleMove(t,e){let i=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(e||!$o(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,t))}prepareHits(){this.offsetTrackers=(0,x.a)(this.droppableStore,t=>(t.component.prepareHits(),new ng(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let e in t)t[e].destroy();this.offsetTrackers={}}queryHitForOffset(t,e){let{droppableStore:i,offsetTrackers:o}=this,r=null;for(let a in i){let c=i[a].component,h=o[a];if(h&&h.isWithinClipping(t,e)){let u=h.computeLeft(),f=h.computeTop(),m=t-u,v=e-f,{origRect:b}=h,P=b.right-b.left,w=b.bottom-b.top;if(m>=0&&m<P&&v>=0&&v<w){let M=c.queryHit(m,v,P,w);M&&(0,x.b9)(M.dateProfile.activeRange,M.dateSpan.range)&&(this.disablePointCheck||h.el.contains(h.el.getRootNode().elementFromPoint(m+u-window.scrollX,v+f-window.scrollY)))&&(!r||M.layer>r.layer)&&(M.componentId=a,M.context=c.context,M.rect.left+=u,M.rect.right+=u,M.rect.top+=f,M.rect.bottom+=f,r=M)}}}return r}}function $o(n,t){return!n&&!t||!!n==!!t&&(0,x.bf)(n.dateSpan,t.dateSpan)}function ta(n,t){let e={};for(let i of t.pluginHooks.datePointTransforms)Object.assign(e,i(n,t));return Object.assign(e,function og(n,t){return{date:t.toDate(n.range.start),dateStr:t.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,t.dateEnv)),e}let ec=(()=>{class n extends x.Z{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=c=>{let h=c.origEvent.target,{component:u,dragging:f}=this,{mirror:m}=f,{options:v}=u.context,b=u.context;this.subjectEl=c.subjectEl;let P=this.subjectSeg=(0,x._)(c.subjectEl),M=(this.eventRange=P.eventRange).instance.instanceId;this.relevantEvents=(0,x.aV)(b.getCurrentData().eventStore,M),f.minDistance=c.isTouch?0:v.eventDragMinDistance,f.delay=c.isTouch&&M!==u.props.eventSelection?function dg(n){let{options:t}=n.context,e=t.eventLongPressDelay;return null==e&&(e=t.longPressDelay),e}(u):null,m.parentNode=v.fixedMirrorParent?v.fixedMirrorParent:(0,x.$)(h,".fc"),m.revertDuration=v.dragRevertDuration;let k=u.isValidSegDownEl(h)&&!(0,x.$)(h,".fc-event-resizer");f.setIgnoreMove(!k),this.isDragging=k&&c.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=c=>{let h=this.component.context,u=this.eventRange,f=u.instance.instanceId;c.isTouch?f!==this.component.props.eventSelection&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:f}):h.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(h.calendarApi.unselect(c),h.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new x.a0(h,u.def,u.instance),jsEvent:c.origEvent,view:h.viewApi}))},this.handleHitUpdate=(c,h)=>{if(!this.isDragging)return;let u=this.relevantEvents,f=this.hitDragging.initialHit,m=this.component.context,v=null,b=null,P=null,w=!1,M={affectedEvents:u,mutatedEvents:(0,x.I)(),isEvent:!0};if(c){v=c.context;let k=v.options;m===v||k.editable&&k.droppable?(b=function hg(n,t,e,i){let o=n.dateSpan,r=t.dateSpan,a=o.range.start,c=r.range.start,h={};o.allDay!==r.allDay&&(h.allDay=r.allDay,h.hasEnd=t.context.options.allDayMaintainDuration,a=r.allDay?(0,x.q)(e):e);let u=(0,x.aA)(a,c,n.context.dateEnv,n.componentId===t.componentId?n.largeUnit:null);u.milliseconds&&(h.allDay=!1);let f={datesDelta:u,standardProps:h};for(let m of i)m(f,n,t);return f}(f,c,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),b&&(P=(0,x.bX)(u,v.getCurrentData().eventUiBases,b,v),M.mutatedEvents=P,(0,x.bZ)(M,c.dateProfile,v)||(w=!0,b=null,P=null,M.mutatedEvents=(0,x.I)()))):v=null}this.displayDrag(v,M),w?(0,x.ax)():(0,x.aw)(),h||(m===v&&$o(f,c)&&(b=null),this.dragging.setMirrorNeedsRevert(!b),this.dragging.setMirrorIsVisible(!c||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=b,this.mutatedRelevantEvents=P)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=c=>{if(this.isDragging){let h=this.component.context,u=h.viewApi,{receivingContext:f,validMutation:m}=this,v=this.eventRange.def,b=this.eventRange.instance,P=new x.a0(h,v,b),w=this.relevantEvents,M=this.mutatedRelevantEvents,{finalHit:k}=this.hitDragging;if(this.clearDrag(),h.emitter.trigger("eventDragStop",{el:this.subjectEl,event:P,jsEvent:c.origEvent,view:u}),m){if(f===h){let E=new x.a0(h,M.defs[v.defId],b?M.instances[b.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:M});let A={oldEvent:P,event:E,relatedEvents:(0,x.w)(M,h,b),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:w})}},I={};for(let R of h.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(I,R(m,h));h.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},A),I),{el:c.subjectEl,delta:m.datesDelta,jsEvent:c.origEvent,view:u})),h.emitter.trigger("eventChange",A)}else if(f){let E={event:P,relatedEvents:(0,x.w)(w,h,b),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:w})}};h.emitter.trigger("eventLeave",Object.assign(Object.assign({},E),{draggedEl:c.subjectEl,view:u})),h.dispatch({type:"REMOVE_EVENTS",eventStore:w}),h.emitter.trigger("eventRemove",E);let I=M.instances[b.instanceId],R=new x.a0(f,M.defs[v.defId],I);f.dispatch({type:"MERGE_EVENTS",eventStore:M});let z={event:R,relatedEvents:(0,x.w)(M,f,I),revert(){f.dispatch({type:"REMOVE_EVENTS",eventStore:M})}};f.emitter.trigger("eventAdd",z),c.isTouch&&f.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instanceId}),f.emitter.trigger("drop",Object.assign(Object.assign({},ta(k.dateSpan,f)),{draggedEl:c.subjectEl,jsEvent:c.origEvent,view:k.context.viewApi})),f.emitter.trigger("eventReceive",Object.assign(Object.assign({},z),{draggedEl:c.subjectEl,view:k.context.viewApi}))}}else h.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:i}=this,{options:o}=i.context,r=this.dragging=new En(e.el);r.pointer.selector=n.SELECTOR,r.touchScrollAllowed=!1,r.autoScroller.isEnabled=o.dragScroll;let a=this.hitDragging=new As(this.dragging,x.a7);a.useSubjectCenter=e.useEventCenter,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,i){let r=this.receivingContext;r&&r!==e&&r.dispatch(r===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:i.affectedEvents,mutatedEvents:(0,x.I)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:i})}clearDrag(){let e=this.component.context,{receivingContext:i}=this;i&&i.dispatch({type:"UNSET_EVENT_DRAG"}),e!==i&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return n.SELECTOR=".fc-event-draggable, .fc-event-resizable",n})();const pg={fixedMirrorParent:x.n},mg={dateClick:x.n,eventDragStart:x.n,eventDragStop:x.n,eventDrop:x.n,eventResizeStart:x.n,eventResizeStop:x.n,eventResize:x.n,drop:x.n,eventReceive:x.n,eventLeave:x.n};x.bI.dataAttrPrefix="";var xg=(0,Zo.i1)({name:"@fullcalendar/interaction",componentInteractions:[class rg extends x.Z{constructor(t){super(t),this.handlePointerDown=i=>{let{dragging:o}=this;o.setIgnoreMove(!this.component.isValidDateDownEl(i.origEvent.target))},this.handleDragEnd=i=>{let{component:o}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:a,finalHit:c}=this.hitDragging;if(a&&c&&$o(a,c)){let{context:h}=o,u=Object.assign(Object.assign({},ta(a.dateSpan,h)),{dayEl:a.dayEl,jsEvent:i.origEvent,view:h.viewApi||h.calendarApi.view});h.emitter.trigger("dateClick",u)}}},this.dragging=new En(t.el),this.dragging.autoScroller.isEnabled=!1;let e=this.hitDragging=new As(this.dragging,(0,x.bG)(t));e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class ag extends x.Z{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=a=>{let{component:c,dragging:h}=this,{options:u}=c.context,f=u.selectable&&c.isValidDateDownEl(a.origEvent.target);h.setIgnoreMove(!f),h.delay=a.isTouch?function lg(n){let{options:t}=n.context,e=t.selectLongPressDelay;return null==e&&(e=t.longPressDelay),e}(c):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,c)=>{let{context:h}=this.component,u=null,f=!1;if(a){let m=this.hitDragging.initialHit;a.componentId===m.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(m,a)||(u=function cg(n,t,e){let i=n.dateSpan,o=t.dateSpan,r=[i.range.start,i.range.end,o.range.start,o.range.end];r.sort(x.av);let a={};for(let c of e){let h=c(n,t);if(!1===h)return null;h&&Object.assign(a,h)}return a.range={start:r[0],end:r[3]},a.allDay=i.allDay,a}(m,a,h.pluginHooks.dateSelectionTransformers)),(!u||!(0,x.b_)(u,a.dateProfile,h))&&(f=!0,u=null)}u?h.dispatch({type:"SELECT_DATES",selection:u}):c||h.dispatch({type:"UNSELECT_DATES"}),f?(0,x.ax)():(0,x.aw)(),c||(this.dragSelection=u)},this.handlePointerUp=a=>{this.dragSelection&&((0,x.cu)(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:e}=t,{options:i}=e.context,o=this.dragging=new En(t.el);o.touchScrollAllowed=!1,o.minDistance=i.selectMinDistance||0,o.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new As(this.dragging,(0,x.bG)(t));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},ec,class ug extends x.Z{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:a}=this,c=this.querySegEl(r),h=(0,x._)(c),u=this.eventRange=h.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=r=>{let{context:a}=this.component,c=this.eventRange;this.relevantEvents=(0,x.aV)(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let h=this.querySegEl(r);this.draggingSegEl=h,this.draggingSeg=(0,x._)(h),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:h,event:new x.a0(a,c.def,c.instance),jsEvent:r.origEvent,view:a.viewApi})},this.handleHitUpdate=(r,a,c)=>{let{context:h}=this.component,u=this.relevantEvents,f=this.hitDragging.initialHit,m=this.eventRange.instance,v=null,b=null,P=!1,w={affectedEvents:u,mutatedEvents:(0,x.I)(),isEvent:!0};r&&(r.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,r)||(v=function fg(n,t,e,i){let o=n.context.dateEnv,c=(0,x.aA)(n.dateSpan.range.start,t.dateSpan.range.start,o,n.largeUnit);if(e){if(o.add(i.start,c)<i.end)return{startDelta:c}}else if(o.add(i.end,c)>i.start)return{endDelta:c};return null}(f,r,c.subjectEl.classList.contains("fc-event-resizer-start"),m.range))),v&&(b=(0,x.bX)(u,h.getCurrentData().eventUiBases,v,h),w.mutatedEvents=b,(0,x.bZ)(w,r.dateProfile,h)||(P=!0,v=null,b=null,w.mutatedEvents=null)),h.dispatch(b?{type:"SET_EVENT_RESIZE",state:w}:{type:"UNSET_EVENT_RESIZE"}),P?(0,x.ax)():(0,x.aw)(),a||(v&&$o(f,r)&&(v=null),this.validMutation=v,this.mutatedRelevantEvents=b)},this.handleDragEnd=r=>{let{context:a}=this.component,c=this.eventRange.def,h=this.eventRange.instance,u=new x.a0(a,c,h),f=this.relevantEvents,m=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:r.origEvent,view:a.viewApi}),this.validMutation){let v=new x.a0(a,m.defs[c.defId],h?m.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:m});let b={oldEvent:u,event:v,relatedEvents:(0,x.w)(m,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:f})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},b),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||(0,x.d)(0),endDelta:this.validMutation.endDelta||(0,x.d)(0),jsEvent:r.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",b)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:e}=t,i=this.dragging=new En(t.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=e.context.options.dragScroll;let o=this.hitDragging=new As(this.dragging,(0,x.bG)(t));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return(0,x.$)(t.subjectEl,".fc-event")}}],calendarInteractions:[class gg{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let o=this.context.options.unselectCancel,r=(0,x.aR)(i.origEvent);this.matchesCancel=!!(0,x.$)(r,o),this.matchesEvent=!!(0,x.$)(r,ec.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:o}=this,{documentPointer:r}=this,a=o.getCurrentData();if(!r.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let c=o.options.unselectAuto;c&&(!c||!this.matchesCancel)&&o.calendarApi.unselect(i)}a.eventSelection&&!this.matchesEvent&&o.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let e=this.documentPointer=new Qr(document);e.shouldIgnoreMove=!0,e.shouldWatchScroll=!1,e.emitter.on("pointerdown",this.onDocumentPointerDown),e.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:En,optionRefiners:pg,listenerRefiners:mg}),p=B(4438),nc=B(8946),wg=B(1740),Pg=B(6398),Mg=B(2123),Cg=B(7687),Sg=B(8136),le=B(4341),sc=B(6064);function kg(n,t){if(1&n){const e=p.RV6();p.j41(0,"button",29),p.bIt("click",function(){p.eBV(e);const o=p.XpG().$implicit,r=p.XpG(2);return p.Njj(r.approvePost(o))}),p.EFF(1," Approve "),p.k0s()}}function Og(n,t){if(1&n&&(p.j41(0,"div",30),p.nrm(1,"img",31),p.k0s()),2&n){const e=p.XpG().$implicit;p.R7$(),p.Y8G("src",e.imageUrl,p.B4B)}}function Eg(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),p.nrm(4,"img",20),p.j41(5,"div")(6,"h3",21),p.EFF(7),p.k0s(),p.j41(8,"span",22),p.EFF(9),p.nI1(10,"date"),p.k0s()()(),p.j41(11,"div",23),p.DNE(12,kg,2,0,"button",24),p.j41(13,"button",25),p.bIt("click",function(){const o=p.eBV(e).$implicit,r=p.XpG(2);return p.Njj(r.deletePost(o))}),p.EFF(14," Delete "),p.k0s()()(),p.j41(15,"div",26)(16,"p",27),p.EFF(17),p.k0s()(),p.DNE(18,Og,2,1,"div",28),p.k0s()()}if(2&n){const e=t.$implicit;p.R7$(4),p.Y8G("src",e.authorAvatar||"assets/default-avatar.png",p.B4B),p.R7$(3),p.SpI(" ",e.authorName," "),p.R7$(2),p.JRh(p.i5U(10,6,e.timestamp.toDate(),"medium")),p.R7$(3),p.Y8G("ngIf",!1===e.approved),p.R7$(5),p.JRh(e.content),p.R7$(),p.Y8G("ngIf",e.imageUrl)}}function Tg(n,t){if(1&n&&(p.j41(0,"div"),p.DNE(1,Eg,19,9,"div",15),p.k0s()),2&n){const e=p.XpG();p.R7$(),p.Y8G("ngForOf",e.filteredPosts)}}function Dg(n,t){1&n&&(p.j41(0,"div",32),p.EFF(1," No posts found matching your criteria "),p.k0s())}let Lg=(()=>{var n;class t{constructor(i){this.forumService=i,this.searchTerm="",this.currentFilter="all",this.currentSort="newest",this.allPosts=[],this.filteredPosts=[],this.pendingPosts=[],this.approvedPosts=[]}ngOnInit(){this.forumService.getPosts().subscribe(i=>{this.allPosts=i,this.approvedPosts=i.filter(o=>o.approved),this.applyFilters()}),this.forumService.getPostsForApproval().subscribe(i=>{this.pendingPosts=i,this.applyFilters()})}onSearchChange(i){this.searchTerm=i,this.applyFilters()}onFilterChange(i){this.currentFilter=i,this.applyFilters()}onSortChange(i){this.currentSort=i,this.applyFilters()}approvePost(i){this.forumService.approvePost(i.id).then(()=>{i.approved=!0,this.pendingPosts=this.pendingPosts.filter(o=>o.id!==i.id),this.approvedPosts.push(i),this.applyFilters()})}deletePost(i){this.forumService.deletePost(i.id).then(()=>{this.pendingPosts=this.pendingPosts.filter(o=>o.id!==i.id),this.approvedPosts=this.approvedPosts.filter(o=>o.id!==i.id),this.applyFilters()})}applyFilters(){let i="pending"===this.currentFilter?[...this.pendingPosts]:"approved"===this.currentFilter?[...this.approvedPosts]:[...this.allPosts];if(this.searchTerm){const o=this.searchTerm.toLowerCase();i=i.filter(r=>r.content.toLowerCase().includes(o)||r.authorName.toLowerCase().includes(o))}i.sort((o,r)=>{const a=new Date(o.timestamp).getTime(),c=new Date(r.timestamp).getTime();return"newest"===this.currentSort?c-a:a-c}),this.filteredPosts=i}}return(n=t).\u0275fac=function(i){return new(i||n)(p.rXU(nc.p))},n.\u0275cmp=p.VBU({type:n,selectors:[["app-post-management"]],decls:20,vars:4,consts:[["noPostsFound",""],[1,"flex","flex-col","h-full"],[1,"bg-white","p-4","shadow"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"flex-1"],["type","text","placeholder","Search posts...",1,"w-full","pl-10","pr-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","ngModel"],[1,"flex","gap-4","items-center"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-600"],[1,"border","rounded-lg","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-red-500",3,"ngModelChange","change","ngModel"],["value","all"],["value","pending"],["value","approved"],[1,"flex-1","overflow-auto","p-6","bg-gray-50"],[4,"ngIf","ngIfElse"],["class","bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-4",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden","mb-4"],[1,"p-6"],[1,"flex","justify-between","items-start","mb-4"],[1,"flex","items-center","space-x-3"],["alt","Author avatar",1,"w-12","h-12","rounded-full","object-cover",3,"src"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","space-x-2"],["class","px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",3,"click",4,"ngIf"],[1,"px-4","py-2","bg-red-500","text-white","rounded-lg","hover:bg-red-600","transition-colors",3,"click"],[1,"prose","max-w-none"],[1,"text-gray-600"],["class","mt-4 flex justify-center",4,"ngIf"],[1,"px-4","py-2","bg-green-500","text-white","rounded-lg","hover:bg-green-600","transition-colors",3,"click"],[1,"mt-4","flex","justify-center"],["alt","Post Image",1,"max-w-full","max-h-60","rounded-lg","object-cover",3,"src"],[1,"text-center","text-gray-500"]],template:function(i,o){if(1&i){const r=p.RV6();p.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5),p.mxI("ngModelChange",function(c){return p.eBV(r),p.DH7(o.searchTerm,c)||(o.searchTerm=c),p.Njj(c)}),p.bIt("ngModelChange",function(c){return p.eBV(r),p.Njj(o.onSearchChange(c))}),p.k0s()(),p.j41(5,"div",6)(6,"div",7)(7,"label",8),p.EFF(8,"Filter by:"),p.k0s(),p.j41(9,"select",9),p.mxI("ngModelChange",function(c){return p.eBV(r),p.DH7(o.currentFilter,c)||(o.currentFilter=c),p.Njj(c)}),p.bIt("change",function(c){return p.eBV(r),p.Njj(o.onFilterChange(c.target.value))}),p.j41(10,"option",10),p.EFF(11,"All Posts"),p.k0s(),p.j41(12,"option",11),p.EFF(13,"Pending"),p.k0s(),p.j41(14,"option",12),p.EFF(15,"Approved"),p.k0s()()()()()(),p.j41(16,"div",13),p.DNE(17,Tg,2,1,"div",14)(18,Dg,2,0,"ng-template",null,0,p.C5r),p.k0s()()}if(2&i){const r=p.sdS(19);p.R7$(4),p.R50("ngModel",o.searchTerm),p.R7$(5),p.R50("ngModel",o.currentFilter),p.R7$(8),p.Y8G("ngIf",o.filteredPosts.length>0)("ngIfElse",r)}},dependencies:[_e.Sq,_e.bT,le.xH,le.y7,le.me,le.wz,le.BC,le.vS,_e.vh],styles:['*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }[_ngcontent-%COMP%]::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}[_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-content: ""}html[_ngcontent-%COMP%], [_nghost-%COMP%]{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0;line-height:inherit}hr[_ngcontent-%COMP%]{height:0;color:inherit;border-top-width:1px}abbr[_ngcontent-%COMP%]:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;font-weight:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}table[_ngcontent-%COMP%]{text-indent:0;border-color:inherit;border-collapse:collapse}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:where([type=button]), input[_ngcontent-%COMP%]:where([type=reset]), input[_ngcontent-%COMP%]:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}[_ngcontent-%COMP%]:-moz-focusring{outline:auto}[_ngcontent-%COMP%]:-moz-ui-invalid{box-shadow:none}progress[_ngcontent-%COMP%]{vertical-align:baseline}[_ngcontent-%COMP%]::-webkit-inner-spin-button, [_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{-webkit-appearance:textfield;outline-offset:-2px}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary[_ngcontent-%COMP%]{display:list-item}blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin:0;padding:0}legend[_ngcontent-%COMP%]{padding:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}dialog[_ngcontent-%COMP%]{padding:0}textarea[_ngcontent-%COMP%]{resize:vertical}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{opacity:1;color:#9ca3af}button[_ngcontent-%COMP%], [role=button][_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]:disabled{cursor:default}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{display:block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}[hidden][_ngcontent-%COMP%]:where(:not([hidden=until-found])){display:none}.container[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){.container[_ngcontent-%COMP%]{max-width:1536px}}.collapse[_ngcontent-%COMP%]{visibility:collapse}.static[_ngcontent-%COMP%]{position:static}.fixed[_ngcontent-%COMP%]{position:fixed}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.sticky[_ngcontent-%COMP%]{position:sticky}.inset-0[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0}.inset-y-0[_ngcontent-%COMP%]{top:0;bottom:0}.bottom-0[_ngcontent-%COMP%]{bottom:0}.right-0[_ngcontent-%COMP%]{right:0}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.ml-0[_ngcontent-%COMP%]{margin-left:0}.ml-64[_ngcontent-%COMP%]{margin-left:16rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-10[_ngcontent-%COMP%]{margin-top:2.5rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-3[_ngcontent-%COMP%]{margin-top:.75rem}.mt-4[_ngcontent-%COMP%]{margin-top:1rem}.mt-6[_ngcontent-%COMP%]{margin-top:1.5rem}.mt-7[_ngcontent-%COMP%]{margin-top:1.75rem}.block[_ngcontent-%COMP%]{display:block}.inline[_ngcontent-%COMP%]{display:inline}.flex[_ngcontent-%COMP%]{display:flex}.table[_ngcontent-%COMP%]{display:table}.grid[_ngcontent-%COMP%]{display:grid}.hidden[_ngcontent-%COMP%]{display:none}.h-10[_ngcontent-%COMP%]{height:2.5rem}.h-12[_ngcontent-%COMP%]{height:3rem}.h-32[_ngcontent-%COMP%]{height:8rem}.h-40[_ngcontent-%COMP%]{height:10rem}.h-48[_ngcontent-%COMP%]{height:12rem}.h-52[_ngcontent-%COMP%]{height:13rem}.h-64[_ngcontent-%COMP%]{height:16rem}.h-auto[_ngcontent-%COMP%]{height:auto}.h-full[_ngcontent-%COMP%]{height:100%}.max-h-40[_ngcontent-%COMP%]{max-height:10rem}.max-h-60[_ngcontent-%COMP%]{max-height:15rem}.max-h-\\__ph-0__[_ngcontent-%COMP%]{max-height:60vh}.w-10[_ngcontent-%COMP%]{width:2.5rem}.w-12[_ngcontent-%COMP%]{width:3rem}.w-full[_ngcontent-%COMP%]{width:100%}.max-w-2xl[_ngcontent-%COMP%]{max-width:42rem}.max-w-full[_ngcontent-%COMP%]{max-width:100%}.max-w-lg[_ngcontent-%COMP%]{max-width:32rem}.max-w-md[_ngcontent-%COMP%]{max-width:28rem}.max-w-none[_ngcontent-%COMP%]{max-width:none}.flex-1[_ngcontent-%COMP%]{flex:1 1 0%}.grow[_ngcontent-%COMP%]{flex-grow:1}.transform[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.items-start[_ngcontent-%COMP%]{align-items:flex-start}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.gap-6[_ngcontent-%COMP%]{gap:1.5rem}.gap-8[_ngcontent-%COMP%]{gap:2rem}.space-x-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-6[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1.5rem * var(--tw-space-x-reverse));margin-left:calc(1.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-auto[_ngcontent-%COMP%]{overflow:auto}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.overflow-y-auto[_ngcontent-%COMP%]{overflow-y:auto}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.rounded-md[_ngcontent-%COMP%]{border-radius:.375rem}.rounded-t-lg[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border[_ngcontent-%COMP%]{border-width:1px}.border-2[_ngcontent-%COMP%]{border-width:2px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-r[_ngcontent-%COMP%]{border-right-width:1px}.border-t[_ngcontent-%COMP%]{border-top-width:1px}.border-dashed[_ngcontent-%COMP%]{border-style:dashed}.border-gray-200[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-gray-300[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.bg-black[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-gray-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-50[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-green-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-red-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-red-600[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.bg-red-700[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50[_ngcontent-%COMP%]{--tw-bg-opacity: .5}.object-cover[_ngcontent-%COMP%]{object-fit:cover}.p-2[_ngcontent-%COMP%]{padding:.5rem}.p-3[_ngcontent-%COMP%]{padding:.75rem}.p-4[_ngcontent-%COMP%]{padding:1rem}.p-6[_ngcontent-%COMP%]{padding:1.5rem}.px-3[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.px-6[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.py-3[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}.pl-10[_ngcontent-%COMP%]{padding-left:2.5rem}.pl-12[_ngcontent-%COMP%]{padding-left:3rem}.pl-14[_ngcontent-%COMP%]{padding-left:3.5rem}.pr-4[_ngcontent-%COMP%]{padding-right:1rem}.pt-4[_ngcontent-%COMP%]{padding-top:1rem}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.font-medium[_ngcontent-%COMP%]{font-weight:500}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.text-black[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.text-gray-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-red-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-red-700[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity))}.text-white[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-yellow-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity))}.placeholder-gray-500[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity))}.shadow[_ngcontent-%COMP%]{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg[_ngcontent-%COMP%]{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md[_ngcontent-%COMP%]{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm[_ngcontent-%COMP%]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline[_ngcontent-%COMP%]{outline-style:solid}.filter[_ngcontent-%COMP%]{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-colors[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow[_ngcontent-%COMP%]{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200[_ngcontent-%COMP%]{transition-duration:.2s}.duration-300[_ngcontent-%COMP%]{transition-duration:.3s}.hover\\:scale-105[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-green-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.hover\\:bg-red-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.hover\\:bg-red-700[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.hover\\:text-gray-800[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.hover\\:shadow-lg[_ngcontent-%COMP%]:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\\:border-red-500[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}.focus\\:outline-none[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2[_ngcontent-%COMP%]:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-400[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(96 165 250 / var(--tw-ring-opacity))}.focus\\:ring-red-500[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity))}@media (min-width: 640px){.sm\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 768px){.md\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:flex-row[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 1024px){.lg\\:ml-64[_ngcontent-%COMP%]{margin-left:16rem}.lg\\:block[_ngcontent-%COMP%]{display:block}.lg\\:hidden[_ngcontent-%COMP%]{display:none}.lg\\:h-full[_ngcontent-%COMP%]{height:100%}.lg\\:w-64[_ngcontent-%COMP%]{width:16rem}.lg\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:flex-row[_ngcontent-%COMP%]{flex-direction:row}}']}),t})();const Rg=n=>({active:n,"block lg:w-64 lg:h-full lg:block":!0,"bg-gray-100":!0,"border-r":!0,fixed:!0}),Ag=(n,t)=>({"ml-0":n,"lg:ml-64":t}),Ig=()=>[1,2,3,4,5];function zg(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",22),p.bIt("click",function(){const o=p.eBV(e).$implicit,r=p.XpG();return p.Njj(r.selectTab(o))}),p.j41(1,"div",23),p.nrm(2,"ion-icon",24),p.j41(3,"span"),p.EFF(4),p.k0s()()()}if(2&n){const e=t.$implicit;p.AVh("bg-red-700",e.active)("text-white",e.active)("hover:bg-red-600",!e.active),p.R7$(2),p.Y8G("name",e.icon),p.R7$(2),p.JRh(e.label)}}function Fg(n,t){if(1&n&&p.nrm(0,"ion-icon",50),2&n){const e=t.$implicit,i=p.XpG().$implicit;p.Y8G("name",e<=i.rating?"star":"star-outline")}}function Bg(n,t){if(1&n&&(p.j41(0,"div",42)(1,"div",43)(2,"h4",44),p.EFF(3),p.k0s(),p.j41(4,"p",45),p.EFF(5),p.nI1(6,"date"),p.k0s()(),p.j41(7,"div",46)(8,"span",47),p.EFF(9,"Rating:"),p.k0s(),p.DNE(10,Fg,1,1,"ion-icon",48),p.k0s(),p.j41(11,"p",49),p.EFF(12),p.k0s()()),2&n){const e=t.$implicit,i=p.XpG(3);p.R7$(3),p.SpI(" ",e.name||"Anonymous"," "),p.R7$(2),p.SpI(" ",p.i5U(6,4,i.convertToDate(e.createdAt),"medium")," "),p.R7$(5),p.Y8G("ngForOf",p.lJ4(7,Ig)),p.R7$(2),p.JRh(e.comment)}}function Ng(n,t){if(1&n){const e=p.RV6();p.j41(0,"ion-button",51),p.bIt("click",function(){const o=p.eBV(e).$implicit,r=p.XpG(3);return p.Njj(r.goToPage(o))}),p.EFF(1),p.k0s()}if(2&n){const e=t.$implicit,i=p.XpG(3);p.Y8G("fill",i.currentPage===e?"solid":"outline"),p.R7$(),p.SpI(" ",e," ")}}function jg(n,t){if(1&n&&(p.j41(0,"div")(1,"div",38),p.DNE(2,Bg,13,8,"div",39),p.k0s(),p.j41(3,"div",40),p.DNE(4,Ng,2,2,"ion-button",41),p.k0s()()),2&n){const e=p.XpG(2);p.R7$(2),p.Y8G("ngForOf",e.paginatedFeedbackList),p.R7$(2),p.Y8G("ngForOf",e.totalPages)}}function Hg(n,t){1&n&&(p.j41(0,"p",29),p.EFF(1,"No feedback available."),p.k0s())}function Wg(n,t){if(1&n&&(p.j41(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",23),p.nrm(4,"ion-icon",28),p.j41(5,"div")(6,"h3",29),p.EFF(7,"Total Users"),p.k0s(),p.j41(8,"p",30),p.EFF(9),p.k0s()()()()(),p.j41(10,"div",31)(11,"div",27)(12,"h3",32),p.EFF(13,"User Ratings"),p.k0s(),p.nrm(14,"canvas",33),p.k0s(),p.j41(15,"div",34)(16,"h3",32),p.EFF(17,"Users per Department"),p.k0s(),p.nrm(18,"canvas",35),p.k0s()(),p.j41(19,"div",36)(20,"h3",32),p.EFF(21,"User Feedback"),p.k0s(),p.DNE(22,jg,5,2,"div",37)(23,Hg,2,0,"ng-template",null,0,p.C5r),p.k0s()()),2&n){const e=p.sdS(24),i=p.XpG();p.R7$(9),p.JRh(i.totalUsers),p.R7$(13),p.Y8G("ngIf",i.paginatedFeedbackList.length>0)("ngIfElse",e)}}function Vg(n,t){1&n&&(p.j41(0,"div",25),p.nrm(1,"app-post-management"),p.k0s())}function Ug(n,t){if(1&n&&(p.j41(0,"div",25)(1,"h2",52),p.EFF(2,"Calendar"),p.k0s(),p.j41(3,"div",53),p.nrm(4,"full-calendar",54,1),p.k0s()()),2&n){const e=p.XpG();p.R7$(4),p.Y8G("options",e.calendarOptions)}}function Zg(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",55)(1,"div",56)(2,"div",57)(3,"h2",58),p.EFF(4),p.k0s(),p.j41(5,"ion-button",59),p.bIt("click",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.closeEventDetailsModall())}),p.EFF(6,"Close"),p.k0s()(),p.j41(7,"p")(8,"strong"),p.EFF(9,"Date:"),p.k0s(),p.EFF(10),p.nI1(11,"date"),p.k0s(),p.j41(12,"p")(13,"strong"),p.EFF(14,"Time:"),p.k0s(),p.EFF(15),p.k0s(),p.j41(16,"p")(17,"strong"),p.EFF(18,"Location:"),p.k0s(),p.EFF(19),p.k0s(),p.j41(20,"p")(21,"strong"),p.EFF(22,"Description:"),p.k0s(),p.EFF(23),p.k0s()()()}if(2&n){const e=p.XpG();p.R7$(4),p.JRh(null==e.selectedEvent?null:e.selectedEvent.title),p.R7$(6),p.SpI(" ",p.i5U(11,5,e.convertToDate(null==e.selectedEvent?null:e.selectedEvent.date),"medium")," "),p.R7$(5),p.SpI(" ",null==e.selectedEvent?null:e.selectedEvent.time,""),p.R7$(4),p.SpI(" ",null==e.selectedEvent?null:e.selectedEvent.location,""),p.R7$(4),p.SpI(" ",null==e.selectedEvent?null:e.selectedEvent.description,"")}}function Gg(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",64),p.nrm(1,"img",65),p.j41(2,"h3",66),p.EFF(3),p.k0s(),p.j41(4,"p",67)(5,"strong"),p.EFF(6,"Date:"),p.k0s(),p.EFF(7),p.nI1(8,"date"),p.k0s(),p.j41(9,"p",67)(10,"strong"),p.EFF(11,"Time:"),p.k0s(),p.EFF(12),p.k0s(),p.j41(13,"p",67)(14,"strong"),p.EFF(15,"Location:"),p.k0s(),p.EFF(16),p.k0s(),p.j41(17,"p",67)(18,"strong"),p.EFF(19,"Description:"),p.k0s(),p.EFF(20),p.k0s(),p.j41(21,"p",68)(22,"strong"),p.EFF(23,"Invited:"),p.k0s(),p.EFF(24),p.k0s(),p.j41(25,"ion-button",60),p.bIt("click",function(){const o=p.eBV(e).$implicit,r=p.XpG(3);return p.Njj(r.eventDetails(o.id))}),p.EFF(26,"Details"),p.k0s()()}if(2&n){const e=t.$implicit,i=p.XpG(3);p.R7$(),p.Y8G("src",e.thumbnailUrl,p.B4B),p.R7$(2),p.JRh(e.title),p.R7$(4),p.SpI(" ",p.i5U(8,7,i.convertToDate(e.date),"medium")," "),p.R7$(5),p.SpI(" ",e.time," "),p.R7$(4),p.SpI(" ",e.location," "),p.R7$(4),p.SpI(" ",e.description," "),p.R7$(4),p.SpI(" ",e.invited.join(", ")," ")}}function Yg(n,t){if(1&n&&(p.j41(0,"div",62),p.DNE(1,Gg,27,10,"div",63),p.k0s()),2&n){const e=p.XpG(2);p.R7$(),p.Y8G("ngForOf",e.events)}}function Xg(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",25)(1,"h2",52),p.EFF(2,"Events Management"),p.k0s(),p.j41(3,"ion-button",60),p.bIt("click",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.openEventForm())}),p.EFF(4,"Create an Event"),p.k0s(),p.DNE(5,Yg,2,1,"div",61),p.k0s()}if(2&n){const e=p.XpG();p.R7$(5),p.Y8G("ngIf",!e.showEventForm)}}function $g(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",69)(1,"div",70)(2,"ion-button",71),p.bIt("click",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.closeEventForm())}),p.nrm(3,"ion-icon",72),p.k0s(),p.j41(4,"h2",73),p.EFF(5," Create Event "),p.k0s(),p.j41(6,"form",74),p.bIt("ngSubmit",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.submitEventForm())}),p.j41(7,"div")(8,"label",75),p.EFF(9,"Event Title"),p.k0s(),p.j41(10,"ion-input",76),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.title,o)||(r.eventForm.title=o),p.Njj(o)}),p.k0s()(),p.j41(11,"div",77)(12,"div")(13,"label",75),p.EFF(14,"Date"),p.k0s(),p.j41(15,"input",78),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.date,o)||(r.eventForm.date=o),p.Njj(o)}),p.k0s()(),p.j41(16,"div")(17,"label",75),p.EFF(18,"Time"),p.k0s(),p.j41(19,"input",79),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.time,o)||(r.eventForm.time=o),p.Njj(o)}),p.k0s()()(),p.j41(20,"div")(21,"label",75),p.EFF(22,"Location"),p.k0s(),p.j41(23,"ion-input",80),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.location,o)||(r.eventForm.location=o),p.Njj(o)}),p.bIt("ionBlur",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.setLocationFromAddress())}),p.k0s()(),p.j41(24,"div",15)(25,"label",75),p.EFF(26,"Event Location"),p.k0s(),p.nrm(27,"div",81),p.j41(28,"p",82),p.EFF(29),p.k0s()(),p.j41(30,"div",77)(31,"div")(32,"label",75),p.EFF(33,"Latitude"),p.k0s(),p.j41(34,"ion-input",83),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.latitude,o)||(r.eventForm.latitude=o),p.Njj(o)}),p.bIt("ionBlur",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.updateMarkerPosition())}),p.k0s()(),p.j41(35,"div")(36,"label",75),p.EFF(37,"Longitude"),p.k0s(),p.j41(38,"ion-input",84),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.longitude,o)||(r.eventForm.longitude=o),p.Njj(o)}),p.bIt("ionBlur",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.updateMarkerPosition())}),p.k0s()()(),p.j41(39,"div")(40,"label",75),p.EFF(41,"Who are Invited"),p.k0s(),p.j41(42,"ion-select",85),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.invited,o)||(r.eventForm.invited=o),p.Njj(o)}),p.j41(43,"ion-select-option",86),p.EFF(44,"Student"),p.k0s(),p.j41(45,"ion-select-option",87),p.EFF(46,"Alumni"),p.k0s(),p.j41(47,"ion-select-option",88),p.EFF(48,"Faculty"),p.k0s()()(),p.j41(49,"div")(50,"label",75),p.EFF(51,"Description"),p.k0s(),p.j41(52,"ion-textarea",89),p.mxI("ngModelChange",function(o){p.eBV(e);const r=p.XpG();return p.DH7(r.eventForm.description,o)||(r.eventForm.description=o),p.Njj(o)}),p.k0s()(),p.j41(53,"div")(54,"label",75),p.EFF(55,"Upload Thumbnail"),p.k0s(),p.j41(56,"div",90)(57,"input",91),p.bIt("change",function(o){p.eBV(e);const r=p.XpG();return p.Njj(r.uploadThumbnail(o))}),p.k0s()()(),p.j41(58,"div",92)(59,"ion-button",93),p.bIt("click",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.closeEventForm())}),p.EFF(60," Cancel "),p.k0s(),p.j41(61,"ion-button",94),p.EFF(62," Create Event "),p.k0s()()()()()}if(2&n){const e=p.XpG();p.R7$(10),p.R50("ngModel",e.eventForm.title),p.R7$(5),p.R50("ngModel",e.eventForm.date),p.R7$(4),p.R50("ngModel",e.eventForm.time),p.R7$(4),p.R50("ngModel",e.eventForm.location),p.R7$(6),p.Lme(" Latitude: ",e.eventForm.latitude,", Longitude: ",e.eventForm.longitude," "),p.R7$(5),p.R50("ngModel",e.eventForm.latitude),p.R7$(4),p.R50("ngModel",e.eventForm.longitude),p.R7$(4),p.R50("ngModel",e.eventForm.invited),p.R7$(10),p.R50("ngModel",e.eventForm.description)}}function qg(n,t){if(1&n&&(p.j41(0,"tr")(1,"td",104),p.EFF(2),p.k0s(),p.j41(3,"td",104),p.EFF(4),p.k0s(),p.j41(5,"td",104),p.EFF(6),p.k0s()()),2&n){const e=t.$implicit;p.R7$(2),p.SpI(" ",e.name," "),p.R7$(2),p.SpI(" ",e.department," "),p.R7$(2),p.SpI(" ",e.status," ")}}function Kg(n,t){if(1&n){const e=p.RV6();p.j41(0,"div",95)(1,"div",96)(2,"div",57)(3,"h2",58),p.EFF(4,"Event Attendees"),p.k0s(),p.j41(5,"ion-button",59),p.bIt("click",function(){p.eBV(e);const o=p.XpG();return p.Njj(o.closeEventDetailsModal())}),p.EFF(6,"Close"),p.k0s()(),p.j41(7,"table",97)(8,"thead",98)(9,"tr")(10,"th",99),p.EFF(11,"Name"),p.k0s(),p.j41(12,"th",99),p.EFF(13,"Department"),p.k0s(),p.j41(14,"th",99),p.EFF(15,"Status"),p.k0s()()(),p.j41(16,"tbody"),p.DNE(17,qg,7,3,"tr",100),p.k0s()(),p.j41(18,"div",101)(19,"h3",102),p.EFF(20,"Attendees by Department"),p.k0s(),p.nrm(21,"canvas",103),p.k0s()()()}if(2&n){const e=p.XpG();p.R7$(17),p.Y8G("ngForOf",e.attendeeList)}}function Jg(n,t){if(1&n&&p.nrm(0,"img",111),2&n){const e=p.XpG().$implicit;p.Y8G("src",e.imageUrl,p.B4B)}}function Qg(n,t){if(1&n){const e=p.RV6();p.j41(0,"ion-button",112),p.bIt("click",function(){p.eBV(e);const o=p.XpG().$implicit,r=p.XpG(3);return p.Njj(r.markAsSolved(o.id))}),p.EFF(1,"Mark as Solved"),p.k0s()}}function tp(n,t){1&n&&(p.j41(0,"ion-badge",4),p.EFF(1,"Solved"),p.k0s())}function ep(n,t){if(1&n&&(p.j41(0,"div",42)(1,"div",43)(2,"h4",44),p.EFF(3),p.k0s(),p.j41(4,"p",45),p.EFF(5),p.nI1(6,"date"),p.k0s()(),p.j41(7,"p",106)(8,"strong"),p.EFF(9,"From:"),p.k0s(),p.EFF(10),p.k0s(),p.j41(11,"p",106)(12,"strong"),p.EFF(13,"Description:"),p.k0s(),p.EFF(14),p.k0s(),p.DNE(15,Jg,1,1,"img",107),p.j41(16,"div",108),p.DNE(17,Qg,2,0,"ion-button",109)(18,tp,2,0,"ion-badge",110),p.k0s()()),2&n){const e=t.$implicit,i=p.XpG(3);p.R7$(3),p.JRh(e.title),p.R7$(2),p.SpI(" ",p.i5U(6,7,i.convertToDate(e.createdAt),"medium")," "),p.R7$(5),p.SpI(" ",e.userName||"Anonymous"," "),p.R7$(4),p.SpI(" ",e.description," "),p.R7$(),p.Y8G("ngIf",e.imageUrl),p.R7$(2),p.Y8G("ngIf",!e.solved),p.R7$(),p.Y8G("ngIf",e.solved)}}function ip(n,t){if(1&n){const e=p.RV6();p.j41(0,"ion-button",51),p.bIt("click",function(){const o=p.eBV(e).$implicit,r=p.XpG(3);return p.Njj(r.goToPage(o))}),p.EFF(1),p.k0s()}if(2&n){const e=t.$implicit,i=p.XpG(3);p.Y8G("fill",i.currentPage===e?"solid":"outline"),p.R7$(),p.SpI(" ",e," ")}}function np(n,t){if(1&n&&(p.j41(0,"div")(1,"div",38),p.DNE(2,ep,19,10,"div",39),p.k0s(),p.j41(3,"div",40),p.DNE(4,ip,2,2,"ion-button",41),p.k0s()()),2&n){const e=p.XpG(2);p.R7$(2),p.Y8G("ngForOf",e.paginatedReportList),p.R7$(2),p.Y8G("ngForOf",e.totalPages)}}function sp(n,t){1&n&&(p.j41(0,"p",29),p.EFF(1,"No reports available."),p.k0s())}function op(n,t){if(1&n&&(p.j41(0,"div",25)(1,"h3",105),p.EFF(2,"User Reports"),p.k0s(),p.DNE(3,np,5,2,"div",37)(4,sp,2,0,"ng-template",null,2,p.C5r),p.k0s()),2&n){const e=p.sdS(5),i=p.XpG();p.R7$(3),p.Y8G("ngIf",i.paginatedReportList.length>0)("ngIfElse",e)}}const rp=[{path:"",component:(()=>{var n;class t{constructor(i,o,r,a,c,h,u){this.forumService=i,this.authService=o,this.router=r,this.feedbackService=a,this.reportService=c,this.firestore=h,this.storage=u,this.isSidebarVisible=!0,this.isLargeScreen=window.innerWidth>=1024,this.showEventDetailsModall=!1,this.showEventDetailsModal=!1,this.map=null,this.marker=null,this.mapReady=!1,this.feedbackList=[],this.paginatedFeedbackList=[],this.currentPage=1,this.itemsPerPage=9,this.totalPages=[],this.reports=[],this.paginatedReportList=[],this.showEventForm=!1,this.eventForm={title:"",date:"",time:"",location:"",invited:[],description:"",thumbnailUrl:"",latitude:14.073856,longitude:121.2612608},this.events=[],this.selectedEventId=null,this.attendeeList=[],this.tabs=[{label:"Dashboard",icon:"grid",active:!0},{label:"Postings",icon:"newspaper",active:!1},{label:"Calendar",icon:"calendar",active:!1},{label:"Events",icon:"calendar",active:!1},{label:"Reports",icon:"bar-chart",active:!1}],this.currentTab="Dashboard",this.totalUsers=0,this.pendingPosts$=this.forumService.getPostsForApproval();const b=O.icon({iconRetinaUrl:"assets/marker-icon-2x.png",iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});O.Marker.prototype.options.icon=b}eventDetails(i){i?(this.selectedEventId=i,this.showEventDetailsModal=!0,this.loadAttendeeDetails()):console.error("Invalid eventId passed to eventDetails:",i)}closeEventDetailsModal(){this.showEventDetailsModal=!1,this.attendeesDepartmentChart&&this.attendeesDepartmentChart.destroy()}closeEventDetailsModall(){this.showEventDetailsModall=!1,this.attendeesDepartmentChart&&this.attendeesDepartmentChart.destroy()}ngOnInit(){this.loadEvents(),this.initializeCalendar(),this.authService.getUserRole$().subscribe(i=>{"admin"!==i&&this.router.navigate(["/home"])}),this.authService.getUserDepartmentCounts().subscribe(i=>{this.createDepartmentChart(i)}),this.authService.getTotalUserCount().subscribe(i=>{this.totalUsers=i}),this.feedbackService.getFeedbackRatings().subscribe(i=>{this.feedbackList=i,this.calculateTotalPages(),this.updatePaginatedFeedbackList(),this.createRatingsChart(i.map(o=>o.rating))}),this.reportService.getReports().subscribe(i=>{this.reports=i}),this.fetchReports(),this.firestore.collection("events").snapshotChanges().subscribe(i=>{this.events=i.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()}))})}ngAfterViewInit(){this.showEventForm&&this.initializeMapWithDelay()}initializeCalendar(){this.calendarOptions={plugins:[$u,If,$f,xg],initialView:window.innerWidth<768?"listWeek":"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},editable:!0,selectable:!0,weekends:!0,height:"auto",aspectRatio:1.2,eventDisplay:"block",contentHeight:"auto",events:[],eventClick:this.handleEventClick.bind(this)}}handleDateSelect(i){console.log("Date selected:",i)}loadEvents(){this.firestore.collection("events").snapshotChanges().subscribe(i=>{const o=i.map(a=>{const c=a.payload.doc.data();return{id:a.payload.doc.id,title:c.title,start:c.date,extendedProps:{time:c.time,location:c.location,description:c.description}}});this.calendarOptions.events=[...o,{title:"New Year's Day",date:"2024-01-01"},{title:"Independence Day",date:"2024-06-12"},{title:"Bonifacio Day",date:"2024-11-30"}]})}convertToDate(i){return i&&i.seconds?new Date(1e3*i.seconds):i}handleEventClick(i){this.selectedEvent={title:i.event.title,date:i.event.start,...i.event.extendedProps},this.showEventDetailsModall=!0}calculateTotalPages(){const i=Math.ceil(this.feedbackList.length/this.itemsPerPage);this.totalPages=Array.from({length:i},(o,r)=>r+1)}updatePaginatedFeedbackList(){const i=(this.currentPage-1)*this.itemsPerPage;this.paginatedFeedbackList=this.feedbackList.slice(i,i+this.itemsPerPage)}goToPage(i){this.currentPage=i,this.updatePaginatedFeedbackList()}selectTab(i){this.tabs.forEach(o=>o.active=!1),i.active=!0,this.currentTab=i.label}approvePost(i){var o=this;return(0,gt.A)(function*(){try{yield o.forumService.approvePost(i)}catch(r){console.error("Error approving post:",r)}})()}deletePost(i){var o=this;return(0,gt.A)(function*(){try{yield o.forumService.deletePost(i)}catch(r){console.error("Error deleting post:",r)}})()}logout(){var i=this;return(0,gt.A)(function*(){try{yield i.authService.logoutUser(),i.router.navigate(["/authentication"])}catch(o){console.error("Error logging out:",o)}})()}createRatingsChart(i){const o=[0,0,0,0,0];i.forEach(a=>{o[a-1]+=1});const r=document.getElementById("ratingsChart");this.ratingsChart=new ks(r,{type:"bar",data:{labels:["1 Star","2 Stars","3 Stars","4 Stars","5 Stars"],datasets:[{label:"Number of Ratings",data:o,backgroundColor:"#990008"}]},options:{responsive:!0,plugins:{legend:{display:!1}}}})}markAsSolved(i){this.reportService.markReportAsSolved(i).then(()=>{alert("Report marked as solved."),this.fetchReports()})}fetchReports(){this.reportService.getReports().subscribe(i=>{this.reports=i||[],this.calculateReportPages(),this.updatePaginatedReportList()})}calculateReportPages(){const i=Math.ceil(this.reports.length/this.itemsPerPage);this.totalPages=Array.from({length:i},(o,r)=>r+1)}updatePaginatedReportList(){const i=(this.currentPage-1)*this.itemsPerPage;this.paginatedReportList=this.reports.slice(i,i+this.itemsPerPage)}createDepartmentChart(i){const o=document.getElementById("departmentChart"),r=Object.keys(i),a=Object.values(i);this.departmentChart=new ks(o,{type:"doughnut",data:{labels:r,datasets:[{label:"Users per Department",data:a,backgroundColor:["#3498db","#e74c3c","#f39c12","#f1c40f","#1abc9c"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.2,plugins:{legend:{position:"top"}}}})}uploadThumbnail(i){const o=i.target.files[0],r=`thumbnails/${(new Date).getTime()}_${o.name}`,a=this.storage.ref(r);a.put(o).then(()=>{a.getDownloadURL().subscribe(c=>{this.eventForm.thumbnailUrl=c})})}loadAttendeeDetails(){"string"==typeof this.selectedEventId&&this.selectedEventId?(console.log("Loading attendees for event ID:",this.selectedEventId),this.firestore.collection("events").doc(this.selectedEventId).collection("attendees").valueChanges().subscribe(i=>{console.log("Fetched Attendees:",i),this.attendeeList=i,this.updateDepartmentChart(i)})):console.error("Invalid selectedEventId:",this.selectedEventId)}updateDepartmentChart(i){const o=i.filter(u=>"present"===u.status),r=this.countAttendeesByDepartment(o),a=Object.keys(r),c=Object.values(r),h=document.getElementById("attendeesDepartmentChart");this.attendeesDepartmentChart&&this.attendeesDepartmentChart.destroy(),this.attendeesDepartmentChart=new ks(h,{type:"pie",data:{labels:a,datasets:[{data:c,backgroundColor:["#3498db","#e74c3c","#f39c12","#2ecc71","#9b59b6"]}]},options:{responsive:!0,plugins:{legend:{position:"top"}}}})}countAttendeesByDepartment(i){const o={};return i.forEach(r=>{const a=r.department;o[a]=(o[a]||0)+1}),o}openEventForm(){this.showEventForm=!0,setTimeout(()=>{this.initializeMapWithDelay()},500)}closeEventForm(){this.map&&(this.map.remove(),this.map=null),this.marker&&(this.marker=null),this.showEventForm=!1}submitEventForm(){this.eventForm.title&&this.eventForm.date&&this.eventForm.time&&this.eventForm.thumbnailUrl?(this.eventForm.invited=this.eventForm.invited.map(i=>i.toLowerCase()),this.firestore.collection("events").add(this.eventForm).then(()=>{this.showEventForm=!1,this.eventForm={title:"",date:"",time:"",location:"",invited:[],description:"",thumbnailUrl:"",latitude:null,longitude:null}})):alert("Please wait for the thumbnail to finish uploading or fill all required fields.")}initializeMapWithDelay(){this.map&&this.map.remove(),setTimeout(()=>{if(document.getElementById("map"))try{this.map=O.map("map",{center:[this.eventForm.latitude,this.eventForm.longitude],zoom:13,layers:[O.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xa9 OpenStreetMap contributors"})]}),this.marker=O.marker([this.eventForm.latitude,this.eventForm.longitude],{draggable:!0}).addTo(this.map),this.marker.on("dragend",o=>{const a=o.target.getLatLng();this.eventForm.latitude=a.lat,this.eventForm.longitude=a.lng}),setTimeout(()=>{var o;null===(o=this.map)||void 0===o||o.invalidateSize()},250)}catch(o){console.error("Error initializing map:",o)}else console.error("Map container not found")},500)}updateMarkerPosition(){if(this.map&&this.marker&&this.eventForm.latitude&&this.eventForm.longitude){const i=O.latLng(this.eventForm.latitude,this.eventForm.longitude);this.marker.setLatLng(i),this.map.setView(i,this.map.getZoom())}}setLocationFromAddress(){this.eventForm.location&&this.map&&this.marker&&O.Control.Geocoder.nominatim().geocode(this.eventForm.location,o=>{if(o&&o.length>0){const r=o[0].center;this.eventForm.latitude=r.lat,this.eventForm.longitude=r.lng,this.marker.setLatLng(r),this.map.setView(r,this.map.getZoom())}else alert("Address not found. Please enter a valid location.")})}toggleSidebar(){this.isSidebarVisible=!this.isSidebarVisible}}return(n=t).\u0275fac=function(i){return new(i||n)(p.rXU(nc.p),p.rXU(wg.k),p.rXU(ki.Ix),p.rXU(Pg.n),p.rXU(Mg.G),p.rXU(Cg.Qe),p.rXU(Sg.ap))},n.\u0275cmp=p.VBU({type:n,selectors:[["app-admin-dashboard"]],decls:26,vars:16,consts:[["noFeedback",""],["calendar",""],["noReports",""],[1,"bg-red-700"],["color","danger"],[1,"flex","items-center","justify-between","px-4","py-2"],[1,"flex","items-center","space-x-2"],["fill","clear",1,"lg:hidden","text-white",3,"click"],["name","menu-outline"],["src","assets/logo-no-text.png","alt","Logo",1,"w-10","h-10"],[1,"text-white","text-xl","font-bold"],["fill","clear",1,"text-white",3,"click"],[1,"ion-padding"],[1,"dashboard-container","flex","flex-col","lg:flex-row","h-full"],[1,"sidebar",3,"ngClass"],[1,"mt-4"],["class","px-4 py-3 cursor-pointer transition-colors duration-200",3,"bg-red-700","text-white","hover:bg-red-600","click",4,"ngFor","ngForOf"],[1,"main-content","flex-1","p-6","overflow-y-auto",3,"ngClass"],["class","space-y-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4","style","z-index: 1000",4,"ngIf"],["class","event-form-container absolute inset-y-0 right-0 bg-white rounded-lg shadow-lg overflow-y-auto",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",4,"ngIf"],[1,"px-4","py-3","cursor-pointer","transition-colors","duration-200",3,"click"],[1,"flex","items-center","space-x-3"],[1,"text-xl",3,"name"],[1,"space-y-6"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-6"],[1,"bg-white","rounded-lg","shadow","p-6"],["name","people",1,"text-3xl","text-red-700"],[1,"text-gray-500"],[1,"text-2xl","font-bold"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-lg","font-semibold","mb-4"],["id","ratingsChart"],[1,"bg-white","rounded-lg","shadow","p-6","chart-container"],["id","departmentChart"],[1,"bg-white","rounded-lg","shadow","p-6","mt-6"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","bg-gray-50 rounded-lg p-4 shadow",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-4","space-x-2"],[3,"fill","click",4,"ngFor","ngForOf"],[1,"bg-gray-50","rounded-lg","p-4","shadow"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-gray-800","font-bold"],[1,"text-gray-500","text-sm"],[1,"flex","items-center","mb-2"],[1,"mr-2","font-bold"],["class","star-icon text-yellow-400 text-xl",3,"name",4,"ngFor","ngForOf"],[1,"text-gray-800"],[1,"star-icon","text-yellow-400","text-xl",3,"name"],[3,"click","fill"],[1,"text-2xl","font-bold","mb-4"],[1,"calendar-container"],[3,"options"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","p-4",2,"z-index","1000"],[1,"modal-content","bg-white","w-full","max-w-md","h-auto","p-4","rounded-lg","shadow-lg","relative","overflow-y-auto",2,"max-height","60vh"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-bold"],["fill","clear",3,"click"],["color","danger",3,"click"],["class","event-list mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],[1,"event-list","mt-6","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-lg p-6",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],["alt","Event Thumbnail",1,"w-full","h-40","object-cover","rounded-lg","mb-4",3,"src"],[1,"text-lg","font-bold","mb-2"],[1,"text-gray-600","text-sm","mb-2"],[1,"text-gray-600","text-sm"],[1,"event-form-container","absolute","inset-y-0","right-0","bg-white","rounded-lg","shadow-lg","overflow-y-auto"],[1,"p-6"],["fill","clear",1,"close-icon","mt-7",3,"click"],["name","close-outline"],[1,"text-2xl","font-bold","text-gray-800","mb-6","text-center","pt-4"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-gray-600","mb-2","font-medium"],["name","title","required","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["type","date","name","date","required","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ngModel"],["type","time","name","time","required","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ngModel"],["name","location","required","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ionBlur","ngModel"],["id","map",1,"w-full","h-64","rounded-lg","border","border-gray-300"],[1,"text-sm","mt-2","text-gray-500"],["type","number","name","latitude","required","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ionBlur","ngModel"],["type","number","name","longitude","required","",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ionBlur","ngModel"],["name","invited","multiple","true","required","",1,"w-full","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500","p-3",3,"ngModelChange","ngModel"],["value","Student"],["value","Alumni"],["value","Faculty"],["name","description","rows","4",1,"w-full","p-3","border","border-gray-300","rounded-lg","focus:outline-none","focus:border-red-500",3,"ngModelChange","ngModel"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-4"],["type","file","accept","image/*",1,"w-full",3,"change"],[1,"flex","justify-end","space-x-4","mt-6"],["expand","block","color","medium",1,"px-6",3,"click"],["expand","block","type","submit","color","danger",1,"px-6"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","p-4"],[1,"bg-white","w-full","max-w-md","h-auto","p-4","rounded-lg","shadow-lg","relative","overflow-y-auto",2,"max-height","60vh"],[1,"w-full","border","border-gray-300","rounded-lg","mb-4"],[1,"bg-gray-200"],[1,"p-2","text-left"],[4,"ngFor","ngForOf"],[1,"mb-4"],[1,"text-md","font-semibold","mb-2"],["id","attendeesDepartmentChart"],[1,"p-2","border-b","border-gray-200"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-gray-600","mb-2"],["alt","Report Image","class","w-full h-32 object-cover rounded-lg mb-2",3,"src",4,"ngIf"],[1,"flex","justify-end"],["color","success",3,"click",4,"ngIf"],["color","danger",4,"ngIf"],["alt","Report Image",1,"w-full","h-32","object-cover","rounded-lg","mb-2",3,"src"],["color","success",3,"click"]],template:function(i,o){1&i&&(p.j41(0,"ion-header",3)(1,"ion-toolbar",4)(2,"div",5)(3,"div",6)(4,"ion-button",7),p.bIt("click",function(){return o.toggleSidebar()}),p.nrm(5,"ion-icon",8),p.k0s(),p.nrm(6,"img",9),p.j41(7,"h1",10),p.EFF(8,"Admin Dashboard"),p.k0s()(),p.j41(9,"ion-button",11),p.bIt("click",function(){return o.logout()}),p.EFF(10," Logout "),p.k0s()()()(),p.j41(11,"ion-content",12)(12,"div",13)(13,"div",14)(14,"nav",15),p.DNE(15,zg,5,8,"div",16),p.k0s()(),p.j41(16,"div",17),p.DNE(17,Wg,25,3,"div",18)(18,Vg,2,0,"div",18)(19,Ug,6,1,"div",18)(20,Zg,24,8,"div",19),p.EFF(21," > "),p.DNE(22,Xg,6,1,"div",18)(23,$g,63,10,"div",20)(24,Kg,22,1,"div",21)(25,op,6,2,"div",18),p.k0s()()()),2&i&&(p.R7$(13),p.Y8G("ngClass",p.eq3(11,Rg,!o.isSidebarVisible)),p.R7$(2),p.Y8G("ngForOf",o.tabs),p.R7$(),p.Y8G("ngClass",p.l_i(13,Ag,!o.isSidebarVisible,o.isSidebarVisible)),p.R7$(),p.Y8G("ngIf","Dashboard"===o.currentTab),p.R7$(),p.Y8G("ngIf","Postings"===o.currentTab),p.R7$(),p.Y8G("ngIf","Calendar"===o.currentTab),p.R7$(),p.Y8G("ngIf",o.showEventDetailsModall),p.R7$(2),p.Y8G("ngIf","Events"===o.currentTab),p.R7$(),p.Y8G("ngIf",o.showEventForm),p.R7$(),p.Y8G("ngIf",o.showEventDetailsModal),p.R7$(),p.Y8G("ngIf","Reports"===o.currentTab))},dependencies:[_e.YU,_e.Sq,_e.bT,le.qT,le.me,le.BC,le.cb,le.YS,le.vS,le.cV,J.In,J.Jm,J.W9,J.eU,J.iq,J.$w,J.Nm,J.Ip,J.nc,J.ai,J.su,J.Je,J.Gw,sc.x,Lg,_e.vh],styles:['.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }[_ngcontent-%COMP%]::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}[_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-content: ""}html[_ngcontent-%COMP%], [_nghost-%COMP%]{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0;line-height:inherit}hr[_ngcontent-%COMP%]{height:0;color:inherit;border-top-width:1px}abbr[_ngcontent-%COMP%]:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;font-weight:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}table[_ngcontent-%COMP%]{text-indent:0;border-color:inherit;border-collapse:collapse}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:where([type=button]), input[_ngcontent-%COMP%]:where([type=reset]), input[_ngcontent-%COMP%]:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}[_ngcontent-%COMP%]:-moz-focusring{outline:auto}[_ngcontent-%COMP%]:-moz-ui-invalid{box-shadow:none}progress[_ngcontent-%COMP%]{vertical-align:baseline}[_ngcontent-%COMP%]::-webkit-inner-spin-button, [_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{-webkit-appearance:textfield;outline-offset:-2px}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary[_ngcontent-%COMP%]{display:list-item}blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin:0;padding:0}legend[_ngcontent-%COMP%]{padding:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}dialog[_ngcontent-%COMP%]{padding:0}textarea[_ngcontent-%COMP%]{resize:vertical}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{opacity:1;color:#9ca3af}button[_ngcontent-%COMP%], [role=button][_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]:disabled{cursor:default}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{display:block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}[hidden][_ngcontent-%COMP%]:where(:not([hidden=until-found])){display:none}.container[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.container[_ngcontent-%COMP%]{max-width:640px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]{max-width:768px}}@media (min-width: 1024px){.container[_ngcontent-%COMP%]{max-width:1024px}}@media (min-width: 1280px){.container[_ngcontent-%COMP%]{max-width:1280px}}@media (min-width: 1536px){.container[_ngcontent-%COMP%]{max-width:1536px}}.collapse[_ngcontent-%COMP%]{visibility:collapse}.static[_ngcontent-%COMP%]{position:static}.absolute[_ngcontent-%COMP%]{position:absolute}.relative[_ngcontent-%COMP%]{position:relative}.sticky[_ngcontent-%COMP%]{position:sticky}.inset-y-0[_ngcontent-%COMP%]{top:0;bottom:0}.bottom-0[_ngcontent-%COMP%]{bottom:0}.right-0[_ngcontent-%COMP%]{right:0}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem}.mb-3[_ngcontent-%COMP%]{margin-bottom:.75rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.mb-6[_ngcontent-%COMP%]{margin-bottom:1.5rem}.ml-0[_ngcontent-%COMP%]{margin-left:0}.ml-64[_ngcontent-%COMP%]{margin-left:16rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem}.mt-10[_ngcontent-%COMP%]{margin-top:2.5rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-3[_ngcontent-%COMP%]{margin-top:.75rem}.mt-4[_ngcontent-%COMP%]{margin-top:1rem}.mt-6[_ngcontent-%COMP%]{margin-top:1.5rem}.mt-7[_ngcontent-%COMP%]{margin-top:1.75rem}.block[_ngcontent-%COMP%]{display:block}.inline[_ngcontent-%COMP%]{display:inline}.flex[_ngcontent-%COMP%]{display:flex}.table[_ngcontent-%COMP%]{display:table}.grid[_ngcontent-%COMP%]{display:grid}.hidden[_ngcontent-%COMP%]{display:none}.h-10[_ngcontent-%COMP%]{height:2.5rem}.h-12[_ngcontent-%COMP%]{height:3rem}.h-32[_ngcontent-%COMP%]{height:8rem}.h-40[_ngcontent-%COMP%]{height:10rem}.h-48[_ngcontent-%COMP%]{height:12rem}.h-52[_ngcontent-%COMP%]{height:13rem}.h-64[_ngcontent-%COMP%]{height:16rem}.h-auto[_ngcontent-%COMP%]{height:auto}.h-full[_ngcontent-%COMP%]{height:100%}.max-h-40[_ngcontent-%COMP%]{max-height:10rem}.max-h-60[_ngcontent-%COMP%]{max-height:15rem}.max-h-\\__ph-0__[_ngcontent-%COMP%]{max-height:60vh}.w-10[_ngcontent-%COMP%]{width:2.5rem}.w-12[_ngcontent-%COMP%]{width:3rem}.w-full[_ngcontent-%COMP%]{width:100%}.max-w-2xl[_ngcontent-%COMP%]{max-width:42rem}.max-w-lg[_ngcontent-%COMP%]{max-width:32rem}.max-w-md[_ngcontent-%COMP%]{max-width:28rem}.max-w-none[_ngcontent-%COMP%]{max-width:none}.flex-1[_ngcontent-%COMP%]{flex:1 1 0%}.grow[_ngcontent-%COMP%]{flex-grow:1}.transform[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col[_ngcontent-%COMP%]{flex-direction:column}.items-start[_ngcontent-%COMP%]{align-items:flex-start}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.gap-2[_ngcontent-%COMP%]{gap:.5rem}.gap-4[_ngcontent-%COMP%]{gap:1rem}.gap-6[_ngcontent-%COMP%]{gap:1.5rem}.gap-8[_ngcontent-%COMP%]{gap:2rem}.space-x-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-6[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1.5rem * var(--tw-space-x-reverse));margin-left:calc(1.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-auto[_ngcontent-%COMP%]{overflow:auto}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden}.overflow-y-auto[_ngcontent-%COMP%]{overflow-y:auto}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.rounded-md[_ngcontent-%COMP%]{border-radius:.375rem}.rounded-t-lg[_ngcontent-%COMP%]{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border[_ngcontent-%COMP%]{border-width:1px}.border-2[_ngcontent-%COMP%]{border-width:2px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.border-r[_ngcontent-%COMP%]{border-right-width:1px}.border-t[_ngcontent-%COMP%]{border-top-width:1px}.border-dashed[_ngcontent-%COMP%]{border-style:dashed}.border-gray-200[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}.border-gray-300[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity))}.bg-black[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity))}.bg-gray-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.bg-gray-200[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity))}.bg-gray-50[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.bg-green-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity))}.bg-red-500[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.bg-red-600[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.bg-red-700[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-opacity-50[_ngcontent-%COMP%]{--tw-bg-opacity: .5}.object-cover[_ngcontent-%COMP%]{object-fit:cover}.p-2[_ngcontent-%COMP%]{padding:.5rem}.p-3[_ngcontent-%COMP%]{padding:.75rem}.p-4[_ngcontent-%COMP%]{padding:1rem}.p-6[_ngcontent-%COMP%]{padding:1.5rem}.px-3[_ngcontent-%COMP%]{padding-left:.75rem;padding-right:.75rem}.px-4[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.px-6[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.py-2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.py-3[_ngcontent-%COMP%]{padding-top:.75rem;padding-bottom:.75rem}.pl-10[_ngcontent-%COMP%]{padding-left:2.5rem}.pl-12[_ngcontent-%COMP%]{padding-left:3rem}.pl-14[_ngcontent-%COMP%]{padding-left:3.5rem}.pr-4[_ngcontent-%COMP%]{padding-right:1rem}.pt-4[_ngcontent-%COMP%]{padding-top:1rem}.text-left[_ngcontent-%COMP%]{text-align:left}.text-center[_ngcontent-%COMP%]{text-align:center}.text-2xl[_ngcontent-%COMP%]{font-size:1.5rem;line-height:2rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.text-lg[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.75rem}.text-xs[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.font-bold[_ngcontent-%COMP%]{font-weight:700}.font-medium[_ngcontent-%COMP%]{font-weight:500}.font-semibold[_ngcontent-%COMP%]{font-weight:600}.text-black[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity))}.text-gray-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.text-gray-500[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.text-gray-700[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-gray-900[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.text-red-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity))}.text-red-700[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity))}.text-white[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.text-yellow-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(250 204 21 / var(--tw-text-opacity))}.placeholder-gray-500[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity))}.shadow[_ngcontent-%COMP%]{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg[_ngcontent-%COMP%]{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md[_ngcontent-%COMP%]{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm[_ngcontent-%COMP%]{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline[_ngcontent-%COMP%]{outline-style:solid}.filter[_ngcontent-%COMP%]{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-colors[_ngcontent-%COMP%]{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-shadow[_ngcontent-%COMP%]{transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-transform[_ngcontent-%COMP%]{transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200[_ngcontent-%COMP%]{transition-duration:.2s}.duration-300[_ngcontent-%COMP%]{transition-duration:.3s}.dashboard-container[_ngcontent-%COMP%]{display:flex;height:100vh}.calendar-container[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 auto}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;overflow:hidden;z-index:1000;width:16rem;margin-top:4%;background-color:#f8f9fa;overflow-y:auto;transition:transform .3s ease-in-out;transform:translate(0)}.main-content[_ngcontent-%COMP%]{margin-left:16rem;padding:1rem;width:calc(100% - 16rem);overflow-y:auto;transition:margin-left .3s ease-in-out}.chart-container[_ngcontent-%COMP%]{width:100%;max-width:400px;height:400px;overflow:hidden;margin:0 auto}.fixed[_ngcontent-%COMP%]{position:fixed}.inset-0[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0}.bg-black[_ngcontent-%COMP%]{background-color:#000000b3}.z-50[_ngcontent-%COMP%]{z-index:50}.max-w-full[_ngcontent-%COMP%]{max-width:100%}.max-h-full[_ngcontent-%COMP%]{max-height:100%}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1050!important;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s forwards}.modal-container[_ngcontent-%COMP%]{position:relative;max-width:90%;max-height:90%;background-color:#fff;border-radius:8px;box-shadow:0 10px 25px #0000004d;overflow:hidden;transform:scale(.8);animation:_ngcontent-%COMP%_zoomIn .3s forwards}.modal-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.close-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:1.5rem;cursor:pointer;color:#333;transition:color .3s}.close-icon[_ngcontent-%COMP%]:hover{color:#ff3b30}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.8)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_zoomOut{0%{transform:scale(1)}to{transform:scale(.8)}}[_nghost-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:400px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:4px}[_nghost-%COMP%]     .calendar-container{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:1.5rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}[_nghost-%COMP%]     .calendar-container .fc-toolbar-title{font-size:1.25rem;line-height:1.75rem;font-weight:700;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}[_nghost-%COMP%]     .calendar-container .fc-button-primary{border-radius:.25rem;--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}[_nghost-%COMP%]     .calendar-container .fc-button-primary:hover{--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(153 27 27 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-button-primary:not(:disabled):active, [_nghost-%COMP%]     .calendar-container .fc-button-primary:not(:disabled).fc-button-active{--tw-border-opacity: 1;border-color:rgb(153 27 27 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(153 27 27 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-scrollgrid{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity))}[_nghost-%COMP%]     .calendar-container .fc-col-header-cell{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-col-header-cell .fc-col-header-cell-cushion{padding-top:.75rem;padding-bottom:.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}[_nghost-%COMP%]     .calendar-container .fc-daygrid-day:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-daygrid-day .fc-daygrid-day-number{font-weight:500;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}[_nghost-%COMP%]     .calendar-container .fc-event{cursor:pointer;--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity));white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;width:90%}[_nghost-%COMP%]     .calendar-container .fc-event:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-day-today{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-timegrid-slot{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}[_nghost-%COMP%]     .calendar-container .fc-timegrid-slot-label{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}[_nghost-%COMP%]     .calendar-container .fc-list-day-cushion{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-list-event:hover td{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}[_nghost-%COMP%]     .calendar-container .fc-popover{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}[_nghost-%COMP%]     .calendar-container .fc-popover .fc-popover-header{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity));padding:.5rem 1rem}[_nghost-%COMP%]     .calendar-container .fc-popover .fc-popover-body{padding:.5rem}.fc-toolbar-title[_ngcontent-%COMP%]{font-size:1.2rem}.fc-button-primary[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem 1rem}.fc-daygrid-day[_ngcontent-%COMP%], .fc-timegrid-slot[_ngcontent-%COMP%], .fc-col-header-cell[_ngcontent-%COMP%]{min-width:80px}.modal-content[_ngcontent-%COMP%]{pointer-events:auto;z-index:1051}@media (min-width: 1024px){.sidebar[_ngcontent-%COMP%]{position:fixed;height:100vh;width:16rem}.main-content[_ngcontent-%COMP%]{margin-left:16rem}}@media (max-width: 1024px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar.active[_ngcontent-%COMP%]{transform:translate(0)}.main-content[_ngcontent-%COMP%]{margin-left:0!important}}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{width:100%}.sidebar[_ngcontent-%COMP%]{margin-top:15%}.calendar-container[_ngcontent-%COMP%]{width:100%;padding:.5rem}.fc-event[_ngcontent-%COMP%]{font-size:.75rem}.fc-toolbar-title[_ngcontent-%COMP%]{font-size:1rem}.fc-button-primary[_ngcontent-%COMP%]{font-size:.7rem;padding:.4rem .8rem}.fc-col-header-cell[_ngcontent-%COMP%], .fc-daygrid-day[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem}.fc-toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}@media (min-width: 768px){.calendar-container[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 768px){[_nghost-%COMP%]     .calendar-container{padding:.5rem;width:100%}[_nghost-%COMP%]     .fc-toolbar{flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .fc-toolbar-title{font-size:1rem;margin-bottom:.5rem}[_nghost-%COMP%]     .fc-button-primary{font-size:.7rem;padding:.4rem .8rem;margin-bottom:.5rem}[_nghost-%COMP%]     .fc-col-header-cell, [_nghost-%COMP%]     .fc-daygrid-day{font-size:.75rem;padding:.3rem}[_nghost-%COMP%]     .fc-event{font-size:.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-form-container[_ngcontent-%COMP%]{width:100vw;height:100vh;padding:1rem;margin:0;position:fixed;top:0;left:0;z-index:1050;overflow-y:auto;position:relative}.event-form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;margin-top:2rem}.event-form-container[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%], .event-form-container[_ngcontent-%COMP%]   ion-button[fill=clear][_ngcontent-%COMP%]{position:absolute;top:2rem;right:1.5rem;font-size:1.5rem;background-color:#ffffffe6;padding:.5rem;border-radius:50%;color:#333;z-index:1060}.event-form-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .event-form-container[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .event-form-container[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%], .event-form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .event-form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;font-size:1rem}}@media (max-width: 1024px){.event-form-container[_ngcontent-%COMP%]{width:100vw;margin-left:0;position:fixed;left:0;top:0;height:100vh;z-index:1050;overflow-y:auto}}@media (min-width: 1024px){.event-form-container[_ngcontent-%COMP%]{width:100%;position:relative;height:auto;overflow-y:visible}}.hover\\:scale-105[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-green-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity))}.hover\\:bg-red-600[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.hover\\:bg-red-700[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}.hover\\:text-gray-800[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.hover\\:shadow-lg[_ngcontent-%COMP%]:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\\:border-red-500[_ngcontent-%COMP%]:focus{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}.focus\\:outline-none[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2[_ngcontent-%COMP%]:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-400[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(96 165 250 / var(--tw-ring-opacity))}.focus\\:ring-red-500[_ngcontent-%COMP%]:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity))}@media (min-width: 640px){.sm\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 768px){.md\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:flex-row[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 1024px){.lg\\:ml-64[_ngcontent-%COMP%]{margin-left:16rem}.lg\\:block[_ngcontent-%COMP%]{display:block}.lg\\:hidden[_ngcontent-%COMP%]{display:none}.lg\\:h-full[_ngcontent-%COMP%]{height:100%}.lg\\:w-64[_ngcontent-%COMP%]{width:16rem}.lg\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:flex-row[_ngcontent-%COMP%]{flex-direction:row}}']}),t})()}];let ap=(()=>{var n;class t{}return(n=t).\u0275fac=function(i){return new(i||n)},n.\u0275mod=p.$C({type:n}),n.\u0275inj=p.G2t({imports:[_e.MD,le.YN,J.bv,ki.iI.forChild(rp),sc.E]}),t})()},8244:function(oc,Fs){!function(B){"use strict";function J(s){var l,d,g,_;for(d=1,g=arguments.length;d<g;d++)for(l in _=arguments[d])s[l]=_[l];return s}var ki=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function gt(s,l){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var g=d.call(arguments,2);return function(){return s.apply(l,g.length?g.concat(d.call(arguments)):arguments)}}var j=0;function et(s){return"_leaflet_id"in s||(s._leaflet_id=++j),s._leaflet_id}function ve(s,l,d){var g,_,y,C;return C=function(){g=!1,_&&(y.apply(d,_),_=!1)},y=function(){g?_=arguments:(s.apply(d,arguments),setTimeout(C,l),g=!0)},y}function ke(s,l,d){var g=l[1],_=l[0],y=g-_;return s===g&&d?s:((s-_)%y+y)%y+_}function kt(){return!1}function zt(s,l){if(!1===l)return s;var d=Math.pow(10,void 0===l?6:l);return Math.round(s*d)/d}function ce(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Ve(s){return ce(s).split(/\s+/)}function ot(s,l){for(var d in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?ki(s.options):{}),l)s.options[d]=l[d];return s.options}function nn(s,l,d){var g=[];for(var _ in s)g.push(encodeURIComponent(d?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(l&&-1!==l.indexOf("?")?"&":"?")+g.join("&")}var Ko=/\{ *([\w_ -]+) *\}/g;function Bs(s,l){return s.replace(Ko,function(d,g){var _=l[g];if(void 0===_)throw new Error("No value provided for variable "+d);return"function"==typeof _&&(_=_(l)),_})}var Ut=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Ln(s,l){for(var d=0;d<s.length;d++)if(s[d]===l)return d;return-1}var sn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Rn(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Ns=0;function js(s){var l=+new Date,d=Math.max(0,16-(l-Ns));return Ns=l+d,window.setTimeout(s,d)}var on=window.requestAnimationFrame||Rn("RequestAnimationFrame")||js,Hs=window.cancelAnimationFrame||Rn("CancelAnimationFrame")||Rn("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Zt(s,l,d){if(!d||on!==js)return on.call(window,gt(s,l));s.call(l)}function ne(s){s&&Hs.call(window,s)}var An={__proto__:null,extend:J,create:ki,bind:gt,get lastId(){return j},stamp:et,throttle:ve,wrapNum:ke,falseFn:kt,formatNum:zt,trim:ce,splitWords:Ve,setOptions:ot,getParamString:nn,template:Bs,isArray:Ut,indexOf:Ln,emptyImageUrl:sn,requestFn:on,cancelFn:Hs,requestAnimFrame:Zt,cancelAnimFrame:ne};function he(){}he.extend=function(s){var l=function(){ot(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,g=ki(d);for(var _ in g.constructor=l,l.prototype=g,this)Object.prototype.hasOwnProperty.call(this,_)&&"prototype"!==_&&"__super__"!==_&&(l[_]=this[_]);return s.statics&&J(l,s.statics),s.includes&&(function In(s){if(!(typeof L>"u")&&L&&L.Mixin){s=Ut(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),J.apply(null,[g].concat(s.includes))),J(g,s),delete g.statics,delete g.includes,g.options&&(g.options=d.options?ki(d.options):{},J(g.options,s.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,C=g._initHooks.length;y<C;y++)g._initHooks[y].call(this)}},l},he.include=function(s){var l=this.prototype.options;return J(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},he.mergeOptions=function(s){return J(this.prototype.options,s),this},he.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),d="function"==typeof s?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};var Jt={on:function(s,l,d){if("object"==typeof s)for(var g in s)this._on(g,s[g],l);else for(var _=0,y=(s=Ve(s)).length;_<y;_++)this._on(s[_],l,d);return this},off:function(s,l,d){if(arguments.length)if("object"==typeof s)for(var g in s)this._off(g,s[g],l);else{s=Ve(s);for(var _=1===arguments.length,y=0,C=s.length;y<C;y++)_?this._off(s[y]):this._off(s[y],l,d)}else delete this._events;return this},_on:function(s,l,d,g){if("function"==typeof l){if(!1===this._listens(s,l,d)){d===this&&(d=void 0);var _={fn:l,ctx:d};g&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}}else console.warn("wrong listener type: "+typeof l)},_off:function(s,l,d){var g,_,y;if(this._events&&(g=this._events[s])){if(1===arguments.length){if(this._firingCount)for(_=0,y=g.length;_<y;_++)g[_].fn=kt;return void delete this._events[s]}if("function"!=typeof l)return void console.warn("wrong listener type: "+typeof l);var C=this._listens(s,l,d);!1!==C&&(this._firingCount&&(g[C].fn=kt,this._events[s]=g=g.slice()),g.splice(C,1))}},fire:function(s,l,d){if(!this.listens(s,d))return this;var g=J({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var y=0,C=_.length;y<C;y++){var T=_[y],D=T.fn;T.once&&this.off(s,D,T.ctx),D.call(T.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(s,l,d,g){"string"!=typeof s&&console.warn('"string" type argument expected');var _=l;"function"!=typeof l&&(g=!!l,_=void 0,d=void 0);var y=this._events&&this._events[s];if(y&&y.length&&!1!==this._listens(s,_,d))return!0;if(g)for(var C in this._eventParents)if(this._eventParents[C].listens(s,l,d,g))return!0;return!1},_listens:function(s,l,d){if(!this._events)return!1;var g=this._events[s]||[];if(!l)return!!g.length;d===this&&(d=void 0);for(var _=0,y=g.length;_<y;_++)if(g[_].fn===l&&g[_].ctx===d)return _;return!1},once:function(s,l,d){if("object"==typeof s)for(var g in s)this._on(g,s[g],l,!0);else for(var _=0,y=(s=Ve(s)).length;_<y;_++)this._on(s[_],l,d,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[et(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[et(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,J({layer:s.target,propagatedFrom:s.target},s),!0)}};Jt.addEventListener=Jt.on,Jt.removeEventListener=Jt.clearAllEventListeners=Jt.off,Jt.addOneTimeEventListener=Jt.once,Jt.fireEvent=Jt.fire,Jt.hasEventListeners=Jt.listens;var Oi=he.extend(Jt);function $(s,l,d){this.x=d?Math.round(s):s,this.y=d?Math.round(l):l}var Ws=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function Y(s,l,d){return s instanceof $?s:Ut(s)?new $(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new $(s.x,s.y):new $(s,l,d)}function wt(s,l){if(s)for(var d=l?[s,l]:s,g=0,_=d.length;g<_;g++)this.extend(d[g])}function jt(s,l){return!s||s instanceof wt?s:new wt(s,l)}function Ht(s,l){if(s)for(var d=l?[s,l]:s,g=0,_=d.length;g<_;g++)this.extend(d[g])}function Ot(s,l){return s instanceof Ht?s:new Ht(s,l)}function ht(s,l,d){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,void 0!==d&&(this.alt=+d)}function at(s,l,d){return s instanceof ht?s:Ut(s)&&"object"!=typeof s[0]?3===s.length?new ht(s[0],s[1],s[2]):2===s.length?new ht(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new ht(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===l?null:new ht(s,l,d)}$.prototype={clone:function(){return new $(this.x,this.y)},add:function(s){return this.clone()._add(Y(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Y(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new $(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new $(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ws(this.x),this.y=Ws(this.y),this},distanceTo:function(s){var l=(s=Y(s)).x-this.x,d=s.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(s){return(s=Y(s)).x===this.x&&s.y===this.y},contains:function(s){return s=Y(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+zt(this.x)+", "+zt(this.y)+")"}},wt.prototype={extend:function(s){var l,d;if(!s)return this;if(s instanceof $||"number"==typeof s[0]||"x"in s)l=d=Y(s);else if(d=(s=jt(s)).max,!(l=s.min)||!d)return this;return this.min||this.max?(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)):(this.min=l.clone(),this.max=d.clone()),this},getCenter:function(s){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,d;return(s="number"==typeof s[0]||s instanceof $?Y(s):jt(s))instanceof wt?(l=s.min,d=s.max):l=d=s,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=jt(s);var l=this.min,d=this.max,g=s.min,_=s.max;return _.x>=l.x&&g.x<=d.x&&_.y>=l.y&&g.y<=d.y},overlaps:function(s){s=jt(s);var l=this.min,d=this.max,g=s.min,_=s.max;return _.x>l.x&&g.x<d.x&&_.y>l.y&&g.y<d.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var l=this.min,d=this.max,g=Math.abs(l.x-d.x)*s,_=Math.abs(l.y-d.y)*s;return jt(Y(l.x-g,l.y-_),Y(d.x+g,d.y+_))},equals:function(s){return!!s&&(s=jt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},Ht.prototype={extend:function(s){var g,_,l=this._southWest,d=this._northEast;if(s instanceof ht)g=s,_=s;else{if(!(s instanceof Ht))return s?this.extend(at(s)||Ot(s)):this;if(_=s._northEast,!(g=s._southWest)||!_)return this}return l||d?(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),d.lat=Math.max(_.lat,d.lat),d.lng=Math.max(_.lng,d.lng)):(this._southWest=new ht(g.lat,g.lng),this._northEast=new ht(_.lat,_.lng)),this},pad:function(s){var l=this._southWest,d=this._northEast,g=Math.abs(l.lat-d.lat)*s,_=Math.abs(l.lng-d.lng)*s;return new Ht(new ht(l.lat-g,l.lng-_),new ht(d.lat+g,d.lng+_))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof ht||"lat"in s?at(s):Ot(s);var g,_,l=this._southWest,d=this._northEast;return s instanceof Ht?(g=s.getSouthWest(),_=s.getNorthEast()):g=_=s,g.lat>=l.lat&&_.lat<=d.lat&&g.lng>=l.lng&&_.lng<=d.lng},intersects:function(s){s=Ot(s);var l=this._southWest,d=this._northEast,g=s.getSouthWest(),_=s.getNorthEast();return _.lat>=l.lat&&g.lat<=d.lat&&_.lng>=l.lng&&g.lng<=d.lng},overlaps:function(s){s=Ot(s);var l=this._southWest,d=this._northEast,g=s.getSouthWest(),_=s.getNorthEast();return _.lat>l.lat&&g.lat<d.lat&&_.lng>l.lng&&g.lng<d.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return!!s&&(s=Ot(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}},ht.prototype={equals:function(s,l){return!!s&&(s=at(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===l?1e-9:l))},toString:function(s){return"LatLng("+zt(this.lat,s)+", "+zt(this.lng,s)+")"},distanceTo:function(s){return Ue.distance(this,at(s))},wrap:function(){return Ue.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,d=l/Math.cos(Math.PI/180*this.lat);return Ot([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};var s,Oe={latLngToPoint:function(s,l){var d=this.projection.project(s),g=this.scale(l);return this.transformation._transform(d,g)},pointToLatLng:function(s,l){var d=this.scale(l),g=this.transformation.untransform(s,d);return this.projection.unproject(g)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(s);return new wt(this.transformation.transform(l.min,d),this.transformation.transform(l.max,d))},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?ke(s.lng,this.wrapLng,!0):s.lng;return new ht(this.wrapLat?ke(s.lat,this.wrapLat,!0):s.lat,l,s.alt)},wrapLatLngBounds:function(s){var l=s.getCenter(),d=this.wrapLatLng(l),g=l.lat-d.lat,_=l.lng-d.lng;if(0===g&&0===_)return s;var y=s.getSouthWest(),C=s.getNorthEast();return new Ht(new ht(y.lat-g,y.lng-_),new ht(C.lat-g,C.lng-_))}},Ue=J({},Oe,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var d=Math.PI/180,g=s.lat*d,_=l.lat*d,y=Math.sin((l.lat-s.lat)*d/2),C=Math.sin((l.lng-s.lng)*d/2),T=y*y+Math.cos(g)*Math.cos(_)*C*C,D=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*D}}),Ei={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,s.lat),-d),_=Math.sin(g*l);return new $(this.R*s.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var l=180/Math.PI;return new ht((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(s=6378137*Math.PI,new wt([-s,-s],[s,s]))};function Ze(s,l,d,g){if(Ut(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=l,this._c=d,this._d=g}function Ti(s,l,d,g){return new Ze(s,l,d,g)}Ze.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return s.x=(l=l||1)*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return new $((s.x/(l=l||1)-this._b)/this._a,(s.y/l-this._d)/this._c)}};var pi=J({},Ue,{code:"EPSG:3857",projection:Ei,transformation:function(){var s=.5/(Math.PI*Ei.R);return Ti(s,.5,-s,.5)}()}),Us=J({},pi,{code:"EPSG:900913"});function zn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Zs(s,l){var g,_,y,C,T,D,d="";for(g=0,y=s.length;g<y;g++){for(_=0,C=(T=s[g]).length;_<C;_++)d+=(_?"L":"M")+(D=T[_]).x+" "+D.y;d+=l?U.svg?"z":"x":""}return d||"M0 0"}var Ge=document.documentElement.style,Fn="ActiveXObject"in window,Ee=Fn&&!document.addEventListener,Gs="msLaunchUri"in navigator&&!("documentMode"in document),rt=Bt("webkit"),pt=Bt("android"),it=Bt("android 2")||Bt("android 3"),Pt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qt=pt&&Bt("Google")&&Pt<537&&!("AudioNode"in window),X=!!window.opera,Ys=!Gs&&Bt("chrome"),Bn=Bt("gecko")&&!rt&&!X&&!Fn,mt=!Ys&&Bt("safari"),dt=Bt("phantom"),Di="OTransition"in Ge,rn=0===navigator.platform.indexOf("Win"),Nn=Fn&&"transition"in Ge,jn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,mi="MozPerspective"in Ge,Li=!window.L_DISABLE_3D&&(Nn||jn||mi)&&!Di&&!dt,Ri=typeof orientation<"u"||Bt("mobile"),ea=Ri&&rt,Xs=Ri&&jn,$s=!window.PointerEvent&&window.MSPointerEvent,qs=!(!window.PointerEvent&&!$s),Te="ontouchstart"in window||!!window.TouchEvent,Hn=!window.L_NO_TOUCH&&(Te||qs),Ai=Ri&&X,Ye=Ri&&Bn,Ks=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jo=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",kt,l),window.removeEventListener("testPassiveEventSupport",kt,l)}catch{}return s}(),bt=!!document.createElement("canvas").getContext,ft=!(!document.createElementNS||!zn("svg").createSVGRect),Qo=!!ft&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),an=!ft&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}();function Bt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var U={ie:Fn,ielt9:Ee,edge:Gs,webkit:rt,android:pt,android23:it,androidStock:Qt,opera:X,chrome:Ys,gecko:Bn,safari:mt,phantom:dt,opera12:Di,win:rn,ie3d:Nn,webkit3d:jn,gecko3d:mi,any3d:Li,mobile:Ri,mobileWebkit:ea,mobileWebkit3d:Xs,msPointer:$s,pointer:qs,touch:Hn,touchNative:Te,mobileOpera:Ai,mobileGecko:Ye,retina:Ks,passiveEvents:Jo,canvas:bt,svg:ft,vml:an,inlineSvg:Qo,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},De=U.msPointer?"MSPointerDown":"pointerdown",de=U.msPointer?"MSPointerMove":"pointermove",_i=U.msPointer?"MSPointerUp":"pointerup",Wn=U.msPointer?"MSPointerCancel":"pointercancel",Vn={touchstart:De,touchmove:de,touchend:_i,touchcancel:Wn},ti={touchstart:function Ii(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Rt(l),Nt(s,l)},touchmove:Nt,touchend:Nt,touchcancel:Nt},vi={},Un=!1;function ue(s,l,d){return"touchstart"===l&&function er(){Un||(document.addEventListener(De,Js,!0),document.addEventListener(de,Qs,!0),document.addEventListener(_i,ln,!0),document.addEventListener(Wn,ln,!0),Un=!0)}(),ti[l]?(d=ti[l].bind(this,d),s.addEventListener(Vn[l],d,!1),d):(console.warn("wrong event specified:",l),kt)}function Js(s){vi[s.pointerId]=s}function Qs(s){vi[s.pointerId]&&(vi[s.pointerId]=s)}function ln(s){delete vi[s.pointerId]}function Nt(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){for(var d in l.touches=[],vi)l.touches.push(vi[d]);l.changedTouches=[l],s(l)}}var ir=200;var bi,ni,Kn,Hi,ts,fe=Ni(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zi=Ni(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),to="webkitTransition"===zi||"OTransition"===zi?zi+"End":"transitionend";function Yn(s){return"string"==typeof s?document.getElementById(s):s}function Fi(s,l){var d=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!d||"auto"===d)&&document.defaultView){var g=document.defaultView.getComputedStyle(s,null);d=g?g[l]:null}return"auto"===d?null:d}function ct(s,l,d){var g=document.createElement(s);return g.className=l||"",d&&d.appendChild(g),g}function yt(s){var l=s.parentNode;l&&l.removeChild(s)}function Xn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ei(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ii(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function $n(s,l){if(void 0!==s.classList)return s.classList.contains(l);var d=Bi(s);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function q(s,l){if(void 0!==s.classList)for(var d=Ve(l),g=0,_=d.length;g<_;g++)s.classList.add(d[g]);else if(!$n(s,l)){var y=Bi(s);qn(s,(y?y+" ":"")+l)}}function nt(s,l){void 0!==s.classList?s.classList.remove(l):qn(s,ce((" "+Bi(s)+" ").replace(" "+l+" "," ")))}function qn(s,l){void 0===s.className.baseVal?s.className=l:s.className.baseVal=l}function Bi(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function te(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&function cn(s,l){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(g)}catch{if(1===l)return}l=Math.round(100*l),d?(d.Enabled=100!==l,d.Opacity=l):s.style.filter+=" progid:"+g+"(opacity="+l+")"}(s,l)}function Ni(s){for(var l=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in l)return s[d];return!1}function Xe(s,l,d){var g=l||new $(0,0);s.style[fe]=(U.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function xt(s,l){s._leaflet_pos=l,U.any3d?Xe(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Re(s){return s._leaflet_pos||new $(0,0)}if("onselectstart"in document)bi=function(){G(window,"selectstart",Rt)},ni=function(){ut(window,"selectstart",Rt)};else{var ji=Ni(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bi=function(){if(ji){var s=document.documentElement.style;Kn=s[ji],s[ji]="none"}},ni=function(){ji&&(document.documentElement.style[ji]=Kn,Kn=void 0)}}function Jn(){G(window,"dragstart",Rt)}function Qn(){ut(window,"dragstart",Rt)}function si(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(Wi(),Hi=s,ts=s.style.outlineStyle,s.style.outlineStyle="none",G(window,"keydown",Wi))}function Wi(){Hi&&(Hi.style.outlineStyle=ts,Hi=void 0,ts=void 0,ut(window,"keydown",Wi))}function eo(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function yi(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var nr={__proto__:null,TRANSFORM:fe,TRANSITION:zi,TRANSITION_END:to,get:Yn,getStyle:Fi,create:ct,remove:yt,empty:Xn,toFront:ei,toBack:ii,hasClass:$n,addClass:q,removeClass:nt,setClass:qn,getClass:Bi,setOpacity:te,testProp:Ni,setTransform:Xe,setPosition:xt,getPosition:Re,get disableTextSelection(){return bi},get enableTextSelection(){return ni},disableImageDrag:Jn,enableImageDrag:Qn,preventOutline:si,restoreOutline:Wi,getSizedParentNode:eo,getScale:yi};function G(s,l,d,g){if(l&&"object"==typeof l)for(var _ in l)_t(s,_,l[_],d);else for(var y=0,C=(l=Ve(l)).length;y<C;y++)_t(s,l[y],d,g);return this}var se="_leaflet_events";function ut(s,l,d,g){if(1===arguments.length)hn(s),delete s[se];else if(l&&"object"==typeof l)for(var _ in l)is(s,_,l[_],d);else if(l=Ve(l),2===arguments.length)hn(s,function(T){return-1!==Ln(l,T)});else for(var y=0,C=l.length;y<C;y++)is(s,l[y],d,g);return this}function hn(s,l){for(var d in s[se]){var g=d.split(/\d/)[0];(!l||l(g))&&is(s,g,null,null,d)}}var es={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _t(s,l,d,g){var _=l+et(d)+(g?"_"+et(g):"");if(s[se]&&s[se][_])return this;var y=function(T){return d.call(g||s,T||window.event)},C=y;!U.touchNative&&U.pointer&&0===l.indexOf("touch")?y=ue(s,l,y):U.touch&&"dblclick"===l?y=function Le(s,l){s.addEventListener("dblclick",l);var g,d=0;function _(y){if(1===y.detail){if("mouse"!==y.pointerType&&(!y.sourceCapabilities||y.sourceCapabilities.firesTouchEvents)){var C=ss(y);if(!C.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})||C.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement})){var T=Date.now();T-d<=ir?2==++g&&l(function Lt(s){var d,g,l={};for(g in s)l[g]=(d=s[g])&&d.bind?d.bind(s):d;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}(y)):g=1,d=T}}}else g=y.detail}return s.addEventListener("click",_),{dblclick:l,simDblclick:_}}(s,y):"addEventListener"in s?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?s.addEventListener(es[l]||l,y,!!U.passiveEvents&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?s.addEventListener(es[l],y=function(T){T=T||window.event,os(s,T)&&C(T)},!1):s.addEventListener(l,C,!1):s.attachEvent("on"+l,y),s[se]=s[se]||{},s[se][_]=y}function is(s,l,d,g,_){_=_||l+et(d)+(g?"_"+et(g):"");var y=s[se]&&s[se][_];if(!y)return this;!U.touchNative&&U.pointer&&0===l.indexOf("touch")?function Zn(s,l,d){Vn[l]?s.removeEventListener(Vn[l],d,!1):console.warn("wrong event specified:",l)}(s,l,y):U.touch&&"dblclick"===l?function Gn(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}(s,y):"removeEventListener"in s?s.removeEventListener(es[l]||l,y,!1):s.detachEvent("on"+l,y),s[se][_]=null}function be(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ns(s){return _t(s,"wheel",be),this}function ge(s){return G(s,"mousedown touchstart dblclick contextmenu",be),s._leaflet_disable_click=!0,this}function Rt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ae(s){return Rt(s),be(s),this}function ss(s){if(s.composedPath)return s.composedPath();for(var l=[],d=s.target;d;)l.push(d),d=d.parentNode;return l}function ye(s,l){if(!l)return new $(s.clientX,s.clientY);var d=yi(l),g=d.boundingClientRect;return new $((s.clientX-g.left)/d.x-l.clientLeft,(s.clientY-g.top)/d.y-l.clientTop)}var dn=U.linux&&U.chrome?window.devicePixelRatio:U.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vi(s){return U.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/dn:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function os(s,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var sr={__proto__:null,on:G,off:ut,stopPropagation:be,disableScrollPropagation:ns,disableClickPropagation:ge,preventDefault:Rt,stop:Ae,getPropagationPath:ss,getMousePosition:ye,getWheelDelta:Vi,isExternalTarget:os,addListener:G,removeListener:ut},io=Oi.extend({run:function(s,l,d,g){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Re(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Zt(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,d=1e3*this._duration;l<d?this._runFrame(this._easeOut(l/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var d=this._startPos.add(this._offset.multiplyBy(s));l&&d._round(),xt(this._el,d),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),lt=Oi.extend({options:{crs:pi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=ot(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=gt(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(at(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zi&&U.any3d&&!U.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,to,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,d){return l=void 0===l?this._zoom:this._limitZoom(l),s=this._limitCenter(at(s),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&!0!==d&&(void 0!==d.animate&&(d.zoom=J({animate:d.animate},d.zoom),d.pan=J({animate:d.animate,duration:d.duration},d.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,d.zoom):this._tryAnimatedPan(s,d.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,l,d.pan&&d.pan.noMoveStart),this)},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return this.setZoom(this._zoom+(s=s||(U.any3d?this.options.zoomDelta:1)),l)},zoomOut:function(s,l){return this.setZoom(this._zoom-(s=s||(U.any3d?this.options.zoomDelta:1)),l)},setZoomAround:function(s,l,d){var g=this.getZoomScale(l),_=this.getSize().divideBy(2),C=(s instanceof $?s:this.latLngToContainerPoint(s)).subtract(_).multiplyBy(1-1/g),T=this.containerPointToLatLng(_.add(C));return this.setView(T,l,{zoom:d})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Ot(s);var d=Y(l.paddingTopLeft||l.padding||[0,0]),g=Y(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(s,!1,d.add(g));if((_="number"==typeof l.maxZoom?Math.min(l.maxZoom,_):_)===1/0)return{center:s.getCenter(),zoom:_};var y=g.subtract(d).divideBy(2),C=this.project(s.getSouthWest(),_),T=this.project(s.getNorthEast(),_);return{center:this.unproject(C.add(T).divideBy(2).add(y),_),zoom:_}},fitBounds:function(s,l){if(!(s=Ot(s)).isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(l=l||{},!(s=Y(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==l.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new io,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate){q(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,d){if(!1===(d=d||{}).animate||!U.any3d)return this.setView(s,l,d);this._stop();var g=this.project(this.getCenter()),_=this.project(s),y=this.getSize(),C=this._zoom;s=at(s),l=void 0===l?C:l;var T=Math.max(y.x,y.y),D=T*this.getZoomScale(C,l),F=_.distanceTo(g)||1,H=1.42,Z=H*H;function tt(Et){var bs=(D*D-T*T+(Et?-1:1)*Z*Z*F*F)/(2*(Et?D:T)*Z*F),Oo=Math.sqrt(bs*bs+1)-bs;return Oo<1e-9?-18:Math.log(Oo)}function Wt(Et){return(Math.exp(Et)-Math.exp(-Et))/2}function It(Et){return(Math.exp(Et)+Math.exp(-Et))/2}var $t=tt(0);function ia(Et){return T*(It($t)*function Xt(Et){return Wt(Et)/It(Et)}($t+H*Et)-Wt($t))/Z}var sa=Date.now(),ko=(tt(1)-$t)/H,fi=d.duration?1e3*d.duration:1e3*ko*.8;return this._moveStart(!0,d.noMoveStart),function Cn(){var Et=(Date.now()-sa)/fi,Sn=function na(Et){return 1-Math.pow(1-Et,1.5)}(Et)*ko;Et<=1?(this._flyToFrame=Zt(Cn,this),this._move(this.unproject(g.add(_.subtract(g).multiplyBy(ia(Sn)/F)),C),this.getScaleZoom(T/function ui(Et){return T*(It($t)/It($t+H*Et))}(Sn),C),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,l){var d=this._getBoundsCenterZoom(s,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(s){return s=Ot(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,Ot(s));return d.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(s,l){var d=Y((l=l||{}).paddingTopLeft||l.padding||[0,0]),g=Y(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),y=this.project(s),C=this.getPixelBounds(),T=jt([C.min.add(d),C.max.subtract(g)]),D=T.getSize();if(!T.contains(y)){this._enforcingBounds=!0;var F=y.subtract(T.getCenter()),H=T.extend(y).getSize().subtract(D);_.x+=F.x<0?-H.x:H.x,_.y+=F.y<0?-H.y:H.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=J({animate:!1,pan:!0},!0===s?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=l.divideBy(2).round(),_=d.divideBy(2).round(),y=g.subtract(_);return y.x||y.y?(s.animate&&s.pan?this.panBy(y):(s.pan&&this._rawPanBy(y),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(gt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=J({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=gt(this._handleGeolocationResponse,this),d=gt(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,s):navigator.geolocation.getCurrentPosition(l,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,d=s.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var g=new ht(s.coords.latitude,s.coords.longitude),_=g.toBounds(2*s.coords.accuracy),y=this._locateOptions;if(y.setView){var C=this.getBoundsZoom(_);this.setView(g,y.maxZoom?Math.min(C,y.maxZoom):C)}var T={latlng:g,bounds:_,timestamp:s.timestamp};for(var D in s.coords)"number"==typeof s.coords[D]&&(T[D]=s.coords[D]);this.fire("locationfound",T)}},addHandler:function(s,l){if(!l)return this;var d=this[s]=new l(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)yt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var g=ct("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),l||this._mapPane);return s&&(this._panes[s]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new Ht(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,d){s=Ot(s),d=Y(d||[0,0]);var g=this.getZoom()||0,_=this.getMinZoom(),y=this.getMaxZoom(),C=s.getNorthWest(),T=s.getSouthEast(),D=this.getSize().subtract(d),F=jt(this.project(T,g),this.project(C,g)).getSize(),H=U.any3d?this.options.zoomSnap:1,Z=D.x/F.x,tt=D.y/F.y,Wt=l?Math.max(Z,tt):Math.min(Z,tt);return g=this.getScaleZoom(Wt,g),H&&(g=Math.round(g/(H/100))*(H/100),g=l?Math.ceil(g/H)*H:Math.floor(g/H)*H),Math.max(_,Math.min(y,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var d=this._getTopLeftPoint(s,l);return new wt(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var d=this.options.crs;return l=void 0===l?this._zoom:l,d.scale(s)/d.scale(l)},getScaleZoom:function(s,l){var d=this.options.crs,g=d.zoom(s*d.scale(l=void 0===l?this._zoom:l));return isNaN(g)?1/0:g},project:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(at(s),l)},unproject:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(Y(s),l)},layerPointToLatLng:function(s){var l=Y(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){return this.project(at(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(at(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ot(s))},distance:function(s,l){return this.options.crs.distance(at(s),at(l))},containerPointToLayerPoint:function(s){return Y(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Y(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(Y(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(at(s)))},mouseEventToContainerPoint:function(s){return ye(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Yn(s);if(!l)throw new Error("Map container not found.");if(l._leaflet_id)throw new Error("Map container is already initialized.");G(l,"scroll",this._onScroll,this),this._containerId=et(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&U.any3d,q(s,"leaflet-container"+(U.touch?" leaflet-touch":"")+(U.retina?" leaflet-retina":"")+(U.ielt9?" leaflet-oldie":"")+(U.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Fi(s,"position");"absolute"!==l&&"relative"!==l&&"fixed"!==l&&"sticky"!==l&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(q(s.markerPane,"leaflet-zoom-hide"),q(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,d){xt(this._mapPane,new $(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,d)._move(s,l)._moveEnd(_),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,d,g){void 0===l&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),g?d&&d.pinch&&this.fire("zoom",d):((_||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){xt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[et(this._container)]=this;var l=s?ut:G;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),U.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=Zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var g,d=[],_="mouseout"===l||"mouseover"===l,y=s.target||s.srcElement,C=!1;y;){if((g=this._targets[et(y)])&&("click"===l||"preclick"===l)&&this._draggableMoved(g)){C=!0;break}if(g&&g.listens(l,!0)&&(_&&!os(y,s)||(d.push(g),_))||y===this._container)break;y=y.parentNode}return!d.length&&!C&&!_&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(l))){var d=s.type;"mousedown"===d&&si(l),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,d){if("click"===s.type){var g=J({},s);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var _=this._findEventTargets(s,l);if(d){for(var y=[],C=0;C<d.length;C++)d[C].listens(l,!0)&&y.push(d[C]);_=y.concat(_)}if(_.length){"contextmenu"===l&&Rt(s);var T=_[0],D={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var F=T.getLatLng&&(!T._radius||T._radius<=10);D.containerPoint=F?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(s),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=F?T.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(C=0;C<_.length;C++)if(_[C].fire(l,D,!0),D.originalEvent._stopped||!1===_[C].options.bubblingMouseEvents&&-1!==Ln(this._mouseEvents,l))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Re(this._mapPane)||new $(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){return(s&&void 0!==l?this._getNewPixelOrigin(s,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var d=this.getSize()._divideBy(2);return this.project(s,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,d){var g=this._getNewPixelOrigin(d,l);return this.project(s,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(s,l,d){var g=this._getNewPixelOrigin(d,l);return jt([this.project(s.getSouthWest(),l)._subtract(g),this.project(s.getNorthWest(),l)._subtract(g),this.project(s.getSouthEast(),l)._subtract(g),this.project(s.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,d){if(!d)return s;var g=this.project(s,l),_=this.getSize().divideBy(2),y=new wt(g.subtract(_),g.add(_)),C=this._getBoundsOffset(y,d,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(g.add(C),l)},_limitOffset:function(s,l){if(!l)return s;var d=this.getPixelBounds(),g=new wt(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(s,l,d){var g=jt(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),_=g.min.subtract(s.min),y=g.max.subtract(s.max);return new $(this._rebound(_.x,-y.x),this._rebound(_.y,-y.y))},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),d=this.getMaxZoom(),g=U.any3d?this.options.zoomSnap:1;return g&&(s=Math.round(s/g)*g),Math.max(l,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var d=this._getCenterOffset(s)._trunc();return!(!0!==(l&&l.animate)&&!this.getSize().contains(d)||(this.panBy(d,l),0))},_createAnimProxy:function(){var s=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var d=fe,g=this._proxy.style[d];Xe(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Xe(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||!1===d.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),_=this._getCenterOffset(s)._divideBy(1-1/g);return!(!0!==d.animate&&!this.getSize().contains(_)||(Zt(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,l,!0)},this),0))},_animateZoom:function(s,l,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,q(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(gt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ft=he.extend({options:{position:"topright"},initialize:function(s){ot(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),d=this.getPosition(),g=s._controlCorners[d];return q(l,"leaflet-control"),-1!==d.indexOf("bottom")?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ie=function(s){return new Ft(s)};lt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",d=this._controlContainer=ct("div",l+"control-container",this._container);function g(_,y){s[_+y]=ct("div",l+_+" "+l+y,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)yt(this._controlCorners[s]);yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var no=Ft.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,d,g){return d<g?-1:g<d?1:0}},initialize:function(s,l,d){for(var g in ot(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Ft.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(et(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){q(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(q(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=ct("div",s),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ge(l),ns(l);var g=this._section=ct("section",s+"-list");d&&(this._map.on("click",this.collapse,this),G(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ct("a",s+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),G(_,{keydown:function(y){13===y.keyCode&&this._expandSafely()},click:function(y){Rt(y),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ct("div",s+"-base",g),this._separator=ct("div",s+"-separator",g),this._overlaysList=ct("div",s+"-overlays",g),l.appendChild(g)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&et(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(gt(function(g,_){return this.options.sortFunction(g.layer,_.layer,g.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xn(this._baseLayersList),Xn(this._overlaysList),this._layerControlInputs=[];var s,l,d,g,_=0;for(d=0;d<this._layers.length;d++)this._addItem(g=this._layers[d]),l=l||g.overlay,s=s||!g.overlay,_+=g.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&_>1)?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(et(s.target)),d=l.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(s,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(s){var g,l=document.createElement("label"),d=this._map.hasLayer(s.layer);s.overlay?((g=document.createElement("input")).type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+et(this),d),this._layerControlInputs.push(g),g.layerId=et(s.layer),G(g,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var y=document.createElement("span");return l.appendChild(y),y.appendChild(g),y.appendChild(_),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var l,d,s=this._layerControlInputs,g=[],_=[];this._handlingClick=!0;for(var y=s.length-1;y>=0;y--)d=this._getLayer((l=s[y]).layerId).layer,l.checked?g.push(d):l.checked||_.push(d);for(y=0;y<_.length;y++)this._map.hasLayer(_[y])&&this._map.removeLayer(_[y]);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])||this._map.addLayer(g[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l,d,s=this._layerControlInputs,g=this._map.getZoom(),_=s.length-1;_>=0;_--)d=this._getLayer((l=s[_]).layerId).layer,l.disabled=void 0!==d.options.minZoom&&g<d.options.minZoom||void 0!==d.options.maxZoom&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,G(s,"click",Rt),this.expand();var l=this;setTimeout(function(){ut(s,"click",Rt),l._preventClick=!1})}}),rs=Ft.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",d=ct("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,d,g,_){var y=ct("a",d,g);return y.innerHTML=s,y.href="#",y.title=l,y.setAttribute("role","button"),y.setAttribute("aria-label",l),ge(y),G(y,"click",Ae),G(y,"click",_,this),G(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";nt(this._zoomInButton,l),nt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(q(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(q(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});lt.mergeOptions({zoomControl:!0}),lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rs,this.addControl(this.zoomControl))});var un=Ft.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",d=ct("div",l),g=this.options;return this._addScales(g,l+"-line",d),s.on(g.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,d){s.metric&&(this._mScale=ct("div",l,d)),s.imperial&&(this._iScale=ct("div",l,d))},_update:function(){var s=this._map,l=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/s)},_updateImperial:function(s){var d,g,_,l=3.2808399*s;l>5280?(g=this._getRoundNum(d=l/5280),this._updateScale(this._iScale,g+" mi",g/d)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(s,l,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),d=s/l;return l*(d>=10?10:d>=5?5:d>=3?3:d>=2?2:1)}}),At=Ft.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(U.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){ot(this,s),this._attributions={}},onAdd:function(s){for(var l in s.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),ge(this._container),s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});lt.mergeOptions({attributionControl:!0}),lt.addInitHook(function(){this.options.attributionControl&&(new At).addTo(this)});Ft.Layers=no,Ft.Zoom=rs,Ft.Scale=un,Ft.Attribution=At,Ie.layers=function(s,l,d){return new no(s,l,d)},Ie.zoom=function(s){return new rs(s)},Ie.scale=function(s){return new un(s)},Ie.attribution=function(s){return new At(s)};var Gt=he.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gt.addTo=function(s,l){return s.addHandler(l,this),this};var lr={Events:Jt},ze=U.touch?"touchstart mousedown":"mousedown",xe=Oi.extend({options:{clickTolerance:3},initialize:function(s,l,d,g){ot(this,g),this._element=s,this._dragStartTarget=l||s,this._preventOutline=d},enable:function(){this._enabled||(G(this._dragStartTarget,ze,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xe._dragging===this&&this.finishDrag(!0),ut(this._dragStartTarget,ze,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!$n(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(xe._dragging===this&&this.finishDrag());if(!(xe._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(xe._dragging=this,this._preventOutline&&si(this._element),Jn(),bi(),this._moving))){this.fire("down");var l=s.touches?s.touches[0]:s,d=eo(this._element);this._startPoint=new $(l.clientX,l.clientY),this._startPos=Re(this._element),this._parentScale=yi(d);var g="mousedown"===s.type;G(document,g?"mousemove":"touchmove",this._onMove,this),G(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var l=s.touches&&1===s.touches.length?s.touches[0]:s,d=new $(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Rt(s),this._moved||(this.fire("dragstart"),this._moved=!0,q(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),q(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),xt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){nt(document.body,"leaflet-dragging"),this._lastTarget&&(nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ut(document,"mousemove touchmove",this._onMove,this),ut(document,"mouseup touchend touchcancel",this._onUp,this),Qn(),ni();var l=this._moved&&this._moving;this._moving=!1,xe._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ri(s,l,d){var g,y,C,T,D,F,H,Z,tt,_=[1,4,2,8];for(y=0,H=s.length;y<H;y++)s[y]._code=ai(s[y],l);for(T=0;T<4;T++){for(Z=_[T],g=[],y=0,C=(H=s.length)-1;y<H;C=y++)F=s[C],(D=s[y])._code&Z?F._code&Z||((tt=Ui(F,D,Z,l,d))._code=ai(tt,l),g.push(tt)):(F._code&Z&&((tt=Ui(F,D,Z,l,d))._code=ai(tt,l),g.push(tt)),g.push(D));s=g}return s}function as(s,l){var d,g,_,y,C,T,D,F;if(!s||0===s.length)throw new Error("latlngs not passed");ee(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Z=at([0,0]),tt=Ot(s);tt.getNorthWest().distanceTo(tt.getSouthWest())*tt.getNorthEast().distanceTo(tt.getNorthWest())<1700&&(Z=ls(s));var It=s.length,Xt=[];for(d=0;d<It;d++){var $t=at(s[d]);Xt.push(l.project(at([$t.lat-Z.lat,$t.lng-Z.lng])))}for(T=D=F=0,d=0,g=It-1;d<It;g=d++)D+=((_=Xt[d]).x+(y=Xt[g]).x)*(C=_.y*y.x-y.y*_.x),F+=(_.y+y.y)*C,T+=3*C;var ui=l.unproject(Y(0===T?Xt[0]:[D/T,F/T]));return at([ui.lat+Z.lat,ui.lng+Z.lng])}function ls(s){for(var l=0,d=0,g=0,_=0;_<s.length;_++){var y=at(s[_]);l+=y.lat,d+=y.lng,g++}return at([l/g,d/g])}var ro,cs={__proto__:null,clipPolygon:ri,polygonCenter:as,centroid:ls};function hs(s,l){if(!l||!s.length)return s.slice();var d=l*l;return function hr(s,l){var d=s.length,_=new(typeof Uint8Array<"u"?Uint8Array:Array)(d);_[0]=_[d-1]=1,fn(s,_,l,0,d-1);var y,C=[];for(y=0;y<d;y++)_[y]&&C.push(s[y]);return C}(s=function dr(s,l){for(var d=[s[0]],g=1,_=0,y=s.length;g<y;g++)ur(s[g],s[_])>l&&(d.push(s[g]),_=g);return _<y-1&&d.push(s[y-1]),d}(s,d),d)}function oo(s,l,d){return Math.sqrt(xi(s,l,d,!0))}function fn(s,l,d,g,_){var C,T,D,y=0;for(T=g+1;T<=_-1;T++)(D=xi(s[T],s[g],s[_],!0))>y&&(C=T,y=D);y>d&&(l[C]=1,fn(s,l,d,g,C),fn(s,l,d,C,_))}function gn(s,l,d,g,_){var T,D,F,y=g?ro:ai(s,d),C=ai(l,d);for(ro=C;;){if(!(y|C))return[s,l];if(y&C)return!1;F=ai(D=Ui(s,l,T=y||C,d,_),d),T===y?(s=D,y=F):(l=D,C=F)}}function Ui(s,l,d,g,_){var F,H,y=l.x-s.x,C=l.y-s.y,T=g.min,D=g.max;return 8&d?(F=s.x+y*(D.y-s.y)/C,H=D.y):4&d?(F=s.x+y*(T.y-s.y)/C,H=T.y):2&d?(F=D.x,H=s.y+C*(D.x-s.x)/y):1&d&&(F=T.x,H=s.y+C*(T.x-s.x)/y),new $(F,H,_)}function ai(s,l){var d=0;return s.x<l.min.x?d|=1:s.x>l.max.x&&(d|=2),s.y<l.min.y?d|=4:s.y>l.max.y&&(d|=8),d}function ur(s,l){var d=l.x-s.x,g=l.y-s.y;return d*d+g*g}function xi(s,l,d,g){var F,_=l.x,y=l.y,C=d.x-_,T=d.y-y,D=C*C+T*T;return D>0&&((F=((s.x-_)*C+(s.y-y)*T)/D)>1?(_=d.x,y=d.y):F>0&&(_+=C*F,y+=T*F)),C=s.x-_,T=s.y-y,g?C*C+T*T:new $(_,y)}function ee(s){return!Ut(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function ao(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ee(s)}function ds(s,l){var d,g,_,y,C,T,D,F;if(!s||0===s.length)throw new Error("latlngs not passed");ee(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var H=at([0,0]),Z=Ot(s);Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest())<1700&&(H=ls(s));var Wt=s.length,It=[];for(d=0;d<Wt;d++){var Xt=at(s[d]);It.push(l.project(at([Xt.lat-H.lat,Xt.lng-H.lng])))}for(d=0,g=0;d<Wt-1;d++)g+=It[d].distanceTo(It[d+1])/2;if(0===g)F=It[0];else for(d=0,y=0;d<Wt-1;d++)if((y+=_=(C=It[d]).distanceTo(T=It[d+1]))>g){F=[T.x-(D=(y-g)/_)*(T.x-C.x),T.y-D*(T.y-C.y)];break}var $t=l.unproject(Y(F));return at([$t.lat+H.lat,$t.lng+H.lng])}var fr={__proto__:null,simplify:hs,pointToSegmentDistance:oo,closestPointOnSegment:function cr(s,l,d){return xi(s,l,d)},clipSegment:gn,_getEdgeIntersection:Ui,_getBitCode:ai,_sqClosestPointOnSegment:xi,isFlat:ee,_flat:ao,polylineCenter:ds},$e={project:function(s){return new $(s.lng,s.lat)},unproject:function(s){return new ht(s.y,s.x)},bounds:new wt([-180,-90],[180,90])},pn={R:6378137,R_MINOR:6356752.314245179,bounds:new wt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var l=Math.PI/180,d=this.R,g=s.lat*l,_=this.R_MINOR/d,y=Math.sqrt(1-_*_),C=y*Math.sin(g),T=Math.tan(Math.PI/4-g/2)/Math.pow((1-C)/(1+C),y/2);return g=-d*Math.log(Math.max(T,1e-10)),new $(s.lng*l*d,g)},unproject:function(s){for(var F,l=180/Math.PI,d=this.R,g=this.R_MINOR/d,_=Math.sqrt(1-g*g),y=Math.exp(-s.y/d),C=Math.PI/2-2*Math.atan(y),T=0,D=.1;T<15&&Math.abs(D)>1e-7;T++)F=_*Math.sin(C),F=Math.pow((1-F)/(1+F),_/2),C+=D=Math.PI/2-2*Math.atan(y*F)-C;return new ht(C*l,s.x*l/d)}},gr={__proto__:null,LonLat:$e,Mercator:pn,SphericalMercator:Ei},pr=J({},Ue,{code:"EPSG:3395",projection:pn,transformation:function(){var s=.5/(Math.PI*pn.R);return Ti(s,.5,-s,.5)}()}),lo=J({},Ue,{code:"EPSG:4326",projection:$e,transformation:Ti(1/180,1,-1/180,.5)}),mr=J({},Oe,{projection:$e,transformation:Ti(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var d=l.lng-s.lng,g=l.lat-s.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Oe.Earth=Ue,Oe.EPSG3395=pr,Oe.EPSG3857=pi,Oe.EPSG900913=Us,Oe.EPSG4326=lo,Oe.Simple=mr;var Yt=Oi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[et(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[et(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});lt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=et(s);return this._layers[l]||(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var l=et(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return et(s)in this._layers},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},_addLayers:function(s){for(var l=0,d=(s=s?Ut(s)?s:[s]:[]).length;l<d;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[et(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=et(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var _=this._zoomBoundLayers[g].options;s=void 0===_.minZoom?s:Math.min(s,_.minZoom),l=void 0===_.maxZoom?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wi=Yt.extend({initialize:function(s,l){var d,g;if(ot(this,l),this._layers={},s)for(d=0,g=s.length;d<g;d++)this.addLayer(s[d])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var d,g,l=Array.prototype.slice.call(arguments,1);for(d in this._layers)(g=this._layers[d])[s]&&g[s].apply(g,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return et(s)}}),pe=wi.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),wi.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),wi.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ht;for(var l in this._layers){var d=this._layers[l];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Fe=he.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){ot(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var d=this._getIconUrl(s);if(!d){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,l&&"IMG"===l.tagName?l:null);return this._setIconStyles(g,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(g.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),g},_setIconStyles:function(s,l){var d=this.options,g=d[l+"Size"];"number"==typeof g&&(g=[g,g]);var _=Y(g),y=Y("shadow"===l&&d.shadowAnchor||d.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(d.className||""),y&&(s.style.marginLeft=-y.x+"px",s.style.marginTop=-y.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,l){return(l=l||document.createElement("img")).src=s,l},_getIconUrl:function(s){return U.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var Zi=Fe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof Zi.imagePath&&(Zi.imagePath=this._detectIconPath()),(this.options.imagePath||Zi.imagePath)+Fe.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(d,g,_){var y=g.exec(d);return y&&y[_]};return(s=l(s,/^url\((['"])?(.+)\1\)$/,2))&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ct("div","leaflet-default-icon-path",document.body),l=Fi(s,"background-image")||Fi(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l))return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),co=Gt.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xe(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),q(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,d=l._map,g=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,y=Re(l._icon),C=d.getPixelBounds(),T=d.getPixelOrigin(),D=jt(C.min._subtract(T).add(_),C.max._subtract(T).subtract(_));if(!D.contains(y)){var F=Y((Math.max(D.max.x,y.x)-D.max.x)/(C.max.x-D.max.x)-(Math.min(D.min.x,y.x)-D.min.x)/(C.min.x-D.min.x),(Math.max(D.max.y,y.y)-D.max.y)/(C.max.y-D.max.y)-(Math.min(D.min.y,y.y)-D.min.y)/(C.min.y-D.min.y)).multiplyBy(g);d.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),xt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Zt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=Zt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,d=l._shadow,g=Re(l._icon),_=l._map.layerPointToLatLng(g);d&&xt(d,g),l._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),we=Yt.extend({options:{icon:new Zi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){ot(this,l),this._latlng=at(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=at(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,s.title&&(d.title=s.title),"IMG"===d.tagName&&(d.alt=s.alt||"")),q(d,l),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(d,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),y=!1;_!==this._shadow&&(this._removeShadow(),y=!0),_&&(q(_,l),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&y&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(this._icon,"focus",this._panOnFocus,this),yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&xt(this._icon,s),this._shadow&&xt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(q(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),co)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new co(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&te(this._icon,s),this._shadow&&te(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,d=l.iconSize?Y(l.iconSize):Y(0,0),g=l.iconAnchor?Y(l.iconAnchor):Y(0,0);s.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var qe=Yt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return ot(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pe=qe.extend({options:{fill:!0,radius:10},initialize:function(s,l){ot(this,l),this._latlng=at(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=at(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return qe.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,d=this._clickTolerance(),g=[s+d,l+d];this._pxBounds=new wt(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Pi=Pe.extend({initialize:function(s,l,d){if("number"==typeof l&&(l=J({},d,{radius:l})),ot(this,l),this._latlng=at(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ht(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:qe.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===Ue.distance){var _=Math.PI/180,y=this._mRadius/Ue.R/_,C=d.project([l+y,s]),T=d.project([l-y,s]),D=C.add(T).divideBy(2),F=d.unproject(D).lat,H=Math.acos((Math.cos(y*_)-Math.sin(l*_)*Math.sin(F*_))/(Math.cos(l*_)*Math.cos(F*_)))/_;(isNaN(H)||0===H)&&(H=y/Math.cos(Math.PI/180*l)),this._point=D.subtract(d.getPixelOrigin()),this._radius=isNaN(H)?0:D.x-d.project([F,s-H]).x,this._radiusY=D.y-C.y}else{var Z=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Z).x}this._updateBounds()}});var Me=qe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){ot(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var _,y,l=1/0,d=null,g=xi,C=0,T=this._parts.length;C<T;C++)for(var D=this._parts[C],F=1,H=D.length;F<H;F++){var Z=g(s,_=D[F-1],y=D[F],!0);Z<l&&(l=Z,d=g(s,_,y))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ds(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=at(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ht,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],d=ee(s),g=0,_=s.length;g<_;g++)d?(l[g]=at(s[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(s[g]);return l},_project:function(){var s=new wt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new $(s,s);this._rawPxBounds&&(this._pxBounds=new wt([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,d){var y,C,_=s.length;if(s[0]instanceof ht){for(C=[],y=0;y<_;y++)C[y]=this._map.latLngToLayerPoint(s[y]),d.extend(C[y]);l.push(C)}else for(y=0;y<_;y++)this._projectLatlngs(s[y],l,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var d,g,_,y,C,T,D,l=this._parts;for(d=0,_=0,y=this._rings.length;d<y;d++)for(g=0,C=(D=this._rings[d]).length;g<C-1;g++)(T=gn(D[g],D[g+1],s,g,!0))&&(l[_]=l[_]||[],l[_].push(T[0]),(T[1]!==D[g+1]||g===C-2)&&(l[_].push(T[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,d=0,g=s.length;d<g;d++)s[d]=hs(s[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var d,g,_,y,C,T,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,y=this._parts.length;d<y;d++)for(g=0,_=(C=(T=this._parts[d]).length)-1;g<C;_=g++)if((l||0!==g)&&oo(s,T[_],T[g])<=D)return!0;return!1}});Me._flat=ao;var li=Me.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return as(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Me.prototype._convertLatLngs.call(this,s),d=l.length;return d>=2&&l[0]instanceof ht&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(s){Me.prototype._setLatLngs.call(this,s),ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,d=new $(l,l);if(s=new wt(s.min.subtract(d),s.max.add(d)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var y,g=0,_=this._rings.length;g<_;g++)(y=ri(this._rings[g],s,!0)).length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var d,g,_,y,C,T,D,F,l=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(y=0,D=this._parts.length;y<D;y++)for(C=0,T=(F=(d=this._parts[y]).length)-1;C<F;T=C++)(g=d[C]).y>s.y!=(_=d[T]).y>s.y&&s.x<(_.x-g.x)*(s.y-g.y)/(_.y-g.y)+g.x&&(l=!l);return l||Me.prototype._containsPoint.call(this,s,!0)}});var Be=pe.extend({initialize:function(s,l){ot(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var d,g,_,l=Ut(s)?s:s.features;if(l){for(d=0,g=l.length;d<g;d++)((_=l[d]).geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var y=this.options;if(y.filter&&!y.filter(s))return this;var C=_n(s,y);return C?(C.feature=Yi(s),C.defaultOptions=C.options,this.resetStyle(C),y.onEachFeature&&y.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=J({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&("function"==typeof l&&(l=l(s.feature)),s.setStyle(l))}});function _n(s,l){var T,D,F,H,d="Feature"===s.type?s.geometry:s,g=d?d.coordinates:null,_=[],y=l&&l.pointToLayer,C=l&&l.coordsToLatLng||fs;if(!g&&!d)return null;switch(d.type){case"Point":return ho(y,s,T=C(g),l);case"MultiPoint":for(F=0,H=g.length;F<H;F++)T=C(g[F]),_.push(ho(y,s,T,l));return new pe(_);case"LineString":case"MultiLineString":return D=Ne(g,"LineString"===d.type?0:1,C),new Me(D,l);case"Polygon":case"MultiPolygon":return D=Ne(g,"Polygon"===d.type?1:2,C),new li(D,l);case"GeometryCollection":for(F=0,H=d.geometries.length;F<H;F++){var Z=_n({geometry:d.geometries[F],type:"Feature",properties:s.properties},l);Z&&_.push(Z)}return new pe(_);case"FeatureCollection":for(F=0,H=d.features.length;F<H;F++){var tt=_n(d.features[F],l);tt&&_.push(tt)}return new pe(_);default:throw new Error("Invalid GeoJSON object.")}}function ho(s,l,d,g){return s?s(l,d):new we(d,g&&g.markersInheritOptions&&g)}function fs(s){return new ht(s[1],s[0],s[2])}function Ne(s,l,d){for(var C,g=[],_=0,y=s.length;_<y;_++)C=l?Ne(s[_],l-1,d):(d||fs)(s[_]),g.push(C);return g}function vn(s,l){return void 0!==(s=at(s)).alt?[zt(s.lng,l),zt(s.lat,l),zt(s.alt,l)]:[zt(s.lng,l),zt(s.lat,l)]}function Gi(s,l,d,g){for(var _=[],y=0,C=s.length;y<C;y++)_.push(l?Gi(s[y],ee(s[y])?0:l-1,d,g):vn(s[y],g));return!l&&d&&_.length>0&&_.push(_[0].slice()),_}function hi(s,l){return s.feature?J({},s.feature,{geometry:l}):Yi(l)}function Yi(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var gs={toGeoJSON:function(s){return hi(this,{type:"Point",coordinates:vn(this.getLatLng(),s)})}};function ps(s,l){return new Be(s,l)}we.include(gs),Pi.include(gs),Pe.include(gs),Me.include({toGeoJSON:function(s){var l=!ee(this._latlngs);return hi(this,{type:(l?"Multi":"")+"LineString",coordinates:Gi(this._latlngs,l?1:0,!1,s)})}}),li.include({toGeoJSON:function(s){var l=!ee(this._latlngs),d=l&&!ee(this._latlngs[0]),g=Gi(this._latlngs,d?2:l?1:0,!0,s);return l||(g=[g]),hi(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),wi.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(s).geometry.coordinates)}),hi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===l)return this.toMultiPoint(s);var d="GeometryCollection"===l,g=[];return this.eachLayer(function(_){if(_.toGeoJSON){var y=_.toGeoJSON(s);if(d)g.push(y.geometry);else{var C=Yi(y);"FeatureCollection"===C.type?g.push.apply(g,C.features):g.push(C)}}}),d?hi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});var uo=ps,bn=Yt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,d){this._url=s,this._bounds=Ot(l),ot(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(q(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ei(this._image),this},bringToBack:function(){return this._map&&ii(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ot(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,l=this._image=s?this._url:ct("img");q(l,"leaflet-image-layer"),this._zoomAnimated&&q(l,"leaflet-zoom-animated"),this.options.className&&q(l,this.options.className),l.onselectstart=kt,l.onmousemove=kt,l.onload=gt(this.fire,this,"load"),l.onerror=gt(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Xe(this._image,d,l)},_reset:function(){var s=this._image,l=new wt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();xt(s,l.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){te(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),fo=bn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,l=this._image=s?this._url:ct("video");if(q(l,"leaflet-image-layer"),this._zoomAnimated&&q(l,"leaflet-zoom-animated"),this.options.className&&q(l,this.options.className),l.onselectstart=kt,l.onmousemove=kt,l.onloadeddata=gt(this.fire,this,"load"),s){for(var d=l.getElementsByTagName("source"),g=[],_=0;_<d.length;_++)g.push(d[_].src);this._url=d.length>0?g:[l.src]}else{Ut(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var C=ct("source");C.src=this._url[y],l.appendChild(C)}}}});var po=bn.extend({_initImage:function(){var s=this._image=this._url;q(s,"leaflet-image-layer"),this._zoomAnimated&&q(s,"leaflet-zoom-animated"),this.options.className&&q(s,this.options.className),s.onselectstart=kt,s.onmousemove=kt}});var Ce=Yt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ht||Ut(s))?(this._latlng=at(s),ot(this,l)):(ot(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&te(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&te(this._container,1),this.bringToFront(),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(te(this._container,0),this._removeTimeout=setTimeout(gt(yt,void 0,this._container),200)):yt(this._container),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=at(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ei(this._container),this},bringToBack:function(){return this._map&&ii(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof pe){l=null;var d=this._source._layers;for(var g in d)if(d[g]._map){l=d[g];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else{if(!l.getBounds)throw new Error("Unable to get source layer LatLng.");s=l.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=Y(this.options.offset),d=this._getAnchor();this._zoomAnimated?xt(this._container,s.add(d)):l=l.add(s).add(d);var g=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});lt.include({_initOverlay:function(s,l,d,g){var _=l;return _ instanceof s||(_=new s(g).setContent(l)),d&&_.setLatLng(d),_}}),Yt.include({_initOverlay:function(s,l,d,g){var _=d;return _ instanceof s?(ot(_,g),_._source=this):(_=l&&!g?l:new s(g,this)).setContent(d),_}});var yn=Ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ce.prototype.openOn.call(this,s)},onAdd:function(s){Ce.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qe||this._source.on("preclick",be))},onRemove:function(s){Ce.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qe||this._source.off("preclick",be))},getEvents:function(){var s=Ce.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=ct("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ct("div",s+"-content-wrapper",l);if(this._contentNode=ct("div",s+"-content",d),ge(l),ns(this._contentNode),G(l,"contextmenu",be),this._tipContainer=ct("div",s+"-tip-container",l),this._tip=ct("div",s+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=ct("a",s+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',G(g,"click",function(_){Rt(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var _=this.options.maxHeight,y="leaflet-popup-scrolled";_&&s.offsetHeight>_?(l.height=_+"px",q(s,y)):nt(s,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();xt(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,l=parseInt(Fi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,g=this._containerWidth,_=new $(this._containerLeft,-d-this._containerBottom);_._add(Re(this._container));var y=s.layerPointToContainerPoint(_),C=Y(this.options.autoPanPadding),T=Y(this.options.autoPanPaddingTopLeft||C),D=Y(this.options.autoPanPaddingBottomRight||C),F=s.getSize(),H=0,Z=0;y.x+g+D.x>F.x&&(H=y.x+g-F.x+D.x),y.x-H-T.x<0&&(H=y.x-T.x),y.y+d+D.y>F.y&&(Z=y.y+d-F.y+D.y),y.y-Z-T.y<0&&(Z=y.y-T.y),(H||Z)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([H,Z]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});lt.mergeOptions({closePopupOnClick:!0}),lt.include({openPopup:function(s,l,d){return this._initOverlay(yn,s,l,d).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Yt.include({bindPopup:function(s,l){return this._popup=this._initOverlay(yn,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof pe||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){Ae(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof qe))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var Xi=Ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ce.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ce.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ce.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=ct("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+et(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,d,g=this._map,_=this._container,y=g.latLngToContainerPoint(g.getCenter()),C=g.layerPointToContainerPoint(s),T=this.options.direction,D=_.offsetWidth,F=_.offsetHeight,H=Y(this.options.offset),Z=this._getAnchor();"top"===T?(l=D/2,d=F):"bottom"===T?(l=D/2,d=0):"center"===T?(l=D/2,d=F/2):"right"===T?(l=0,d=F/2):"left"===T?(l=D,d=F/2):C.x<y.x?(T="right",l=0,d=F/2):(T="left",l=D+2*(H.x+Z.x),d=F/2),s=s.subtract(Y(l,d,!0)).add(H).add(Z),nt(_,"leaflet-tooltip-right"),nt(_,"leaflet-tooltip-left"),nt(_,"leaflet-tooltip-top"),nt(_,"leaflet-tooltip-bottom"),q(_,"leaflet-tooltip-"+T),xt(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&te(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});lt.include({openTooltip:function(s,l,d){return this._initOverlay(Xi,s,l,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Yt.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Xi,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var l=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof pe||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l="function"==typeof s.getElement&&s.getElement();l&&(G(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),G(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l="function"==typeof s.getElement&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;return void this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var d,g,l=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),g=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var _o=Fe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&"DIV"===s.tagName?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Xn(l),l.appendChild(d.html)):l.innerHTML=!1!==d.html?d.html:"",d.bgPos){var g=Y(d.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});Fe.Default=Zi;var $i=Yt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:U.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){ot(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),yt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ve(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof $?s:new $(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var y,l=this.getPane().children,d=-s(-1/0,1/0),g=0,_=l.length;g<_;g++)y=l[g].style.zIndex,l[g]!==this._container&&y&&(d=s(d,+y));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!U.ielt9){te(this._container,this.options.opacity);var s=+new Date,l=!1,d=!1;for(var g in this._tiles){var _=this._tiles[g];if(_.current&&_.loaded){var y=Math.min(1,(s-_.loaded)/200);te(_.el,y),y<1?l=!0:(_.active?d=!0:this._onOpaqueTile(_),_.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(ne(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this))}},_onOpaqueTile:kt,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(void 0!==s){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=l-Math.abs(s-d),this._onUpdateLevel(d)):(yt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[s],_=this._map;return g||((g=this._levels[s]={}).el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),g.zoom=s,this._setZoomTransform(g,_.getCenter(),_.getZoom()),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:kt,_onRemoveLevel:kt,_onCreateLevel:kt,_pruneTiles:function(){if(this._map){var s,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(l=this._tiles[s]).retain=l.current;for(s in this._tiles)if((l=this._tiles[s]).current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)yt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,d,g){var _=Math.floor(s/2),y=Math.floor(l/2),C=d-1,T=new $(+_,+y);T.z=+C;var D=this._tileCoordsToKey(T),F=this._tiles[D];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),C>g&&this._retainParent(_,y,C,g))},_retainChildren:function(s,l,d,g){for(var _=2*s;_<2*s+2;_++)for(var y=2*l;y<2*l+2;y++){var C=new $(_,y);C.z=d+1;var T=this._tileCoordsToKey(C),D=this._tiles[T];D&&D.active?D.retain=!0:(D&&D.loaded&&(D.retain=!0),d+1<g&&this._retainChildren(_,y,d+1,g))}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return void 0!==l.minNativeZoom&&s<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,d,g){var _=Math.round(l);_=void 0!==this.options.maxZoom&&_>this.options.maxZoom||void 0!==this.options.minZoom&&_<this.options.minZoom?void 0:this._clampZoom(_),(!g||this.options.updateWhenZooming&&_!==this._tileZoom)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==_&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,l)},_setZoomTransform:function(s,l,d){var g=this._map.getZoomScale(d,s.zoom),_=s.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,d)).round();U.any3d?Xe(s.el,_,g):xt(s.el,_)},_resetGrid:function(){var s=this._map,l=s.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],g).x/d.x),Math.ceil(s.project([0,l.wrapLng[1]],g).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],g).y/d.x),Math.ceil(s.project([l.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(d,this._tileZoom),_=l.project(s,this._tileZoom).floor(),y=l.getSize().divideBy(2*g);return new wt(_.subtract(y),_.add(y))},_update:function(s){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(void 0===s&&(s=l.getCenter()),void 0!==this._tileZoom){var g=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(g),y=_.getCenter(),C=[],T=this.options.keepBuffer,D=new wt(_.getBottomLeft().subtract([T,-T]),_.getTopRight().add([T,-T]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var H=this._tiles[F].coords;(H.z!==this._tileZoom||!D.contains(new $(H.x,H.y)))&&(this._tiles[F].current=!1)}if(Math.abs(d-this._tileZoom)>1)return void this._setView(s,d);for(var Z=_.min.y;Z<=_.max.y;Z++)for(var tt=_.min.x;tt<=_.max.x;tt++){var Wt=new $(tt,Z);if(Wt.z=this._tileZoom,this._isValidTile(Wt)){var It=this._tiles[this._tileCoordsToKey(Wt)];It?It.current=!0:C.push(Wt)}}if(C.sort(function($t,ui){return $t.distanceTo(y)-ui.distanceTo(y)}),0!==C.length){this._loading||(this._loading=!0,this.fire("loading"));var Xt=document.createDocumentFragment();for(tt=0;tt<C.length;tt++)this._addTile(C[tt],Xt);this._level.el.appendChild(Xt)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!l.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(s);return Ot(this.options.bounds).overlaps(g)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,d=this.getTileSize(),g=s.scaleBy(d),_=g.add(d);return[l.unproject(g,s.z),l.unproject(_,s.z)]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),d=new Ht(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),d=new $(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(s){var l=this._tiles[s];l&&(yt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){q(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=kt,s.onmousemove=kt,U.ielt9&&this.options.opacity<1&&te(s,this.options.opacity)},_addTile:function(s,l){var d=this._getTilePos(s),g=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),gt(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&Zt(gt(this._tileReady,this,s,null,_)),xt(_,d),this._tiles[g]={el:_,coords:s,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:s});var g=this._tileCoordsToKey(s);(d=this._tiles[g])&&(d.loaded=+new Date,this._map._fadeAnimated?(te(d.el,0),ne(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(q(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),U.ielt9||!this._map._fadeAnimated?Zt(this._pruneTiles,this):setTimeout(gt(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new $(this._wrapX?ke(s.x,this._wrapX):s.x,this._wrapY?ke(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new wt(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var di=$i.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,(l=ot(this,l)).detectRetina&&U.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&void 0===l&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var d=document.createElement("img");return G(d,"load",gt(this._tileOnLoad,this,l,d)),G(d,"error",gt(this._tileOnError,this,l,d)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var l={r:U.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=d),l["-y"]=d}return Bs(this._url,J(l,this.options))},_tileOnLoad:function(s,l){U.ielt9?setTimeout(gt(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,d){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),s(d,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((l=this._tiles[s].el).onload=kt,l.onerror=kt,!l.complete)){l.src=sn;var d=this._tiles[s].coords;yt(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",sn),$i.prototype._removeTile.call(this,s)},_tileReady:function(s,l,d){if(this._map&&(!d||d.getAttribute("src")!==sn))return $i.prototype._tileReady.call(this,s,l,d)}});function bo(s,l){return new di(s,l)}var yo=di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var d=J({},this.defaultWmsParams);for(var g in l)g in this.options||(d[g]=l[g]);var _=(l=ot(this,l)).detectRetina&&U.retina?2:1,y=this.getTileSize();d.width=y.x*_,d.height=y.y*_,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,di.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),d=this._crs,g=jt(d.project(l[0]),d.project(l[1])),_=g.min,y=g.max,C=(this._wmsVersion>=1.3&&this._crs===lo?[_.y,_.x,y.y,y.x]:[_.x,_.y,y.x,y.y]).join(","),T=di.prototype.getTileUrl.call(this,s);return T+nn(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,l){return J(this.wmsParams,s),l||this.redraw(),this}});di.WMS=yo,bo.wms=function xo(s,l){return new yo(s,l)};var Se=Yt.extend({options:{padding:.1},initialize:function(s){ot(this,s),et(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),q(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var d=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),y=g.multiplyBy(-d).add(_).subtract(this._map._getNewPixelOrigin(s,l));U.any3d?Xe(this._container,y,d):xt(this._container,y)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new wt(d,d.add(l.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wo=Se.extend({options:{tolerance:0},getEvents:function(){var s=Se.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Se.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");G(s,"mousemove",this._onMouseMove,this),G(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,yt(this._container),ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var l in this._redrawBounds=null,this._layers)this._layers[l]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Se.prototype._update.call(this);var s=this._bounds,l=this._container,d=s.getSize(),g=U.retina?2:1;xt(l,s.min),l.width=g*d.x,l.height=g*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",U.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Se.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[et(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,d=l.next,g=l.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete s._order,delete this._layers[et(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var g,_,l=s.options.dashArray.split(/[, ]+/),d=[];for(_=0;_<l.length;_++){if(g=Number(l[_]),isNaN(g))return;d.push(g)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Zt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new wt,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)s=g.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var d,g,_,y,C=s._parts,T=C.length,D=this._ctx;if(T){for(D.beginPath(),d=0;d<T;d++){for(g=0,_=C[d].length;g<_;g++)D[g?"lineTo":"moveTo"]((y=C[d][g]).x,y.y);l&&D.closePath()}this._fillStroke(D,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var l=s._point,d=this._ctx,g=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||g)/g;1!==_&&(d.save(),d.scale(1,_)),d.beginPath(),d.arc(l.x,l.y/_,g,0,2*Math.PI,!1),1!==_&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,l){var d=l.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&0!==d.weight&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var d,g,l=this._map.mouseEventToLayerPoint(s),_=this._drawFirst;_;_=_.next)(d=_.layer).options.interactive&&d._containsPoint(l)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(!!g&&[g],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(nt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var d,g,_=this._drawFirst;_;_=_.next)(d=_.layer).options.interactive&&d._containsPoint(l)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(s),g&&(q(this._container,"leaflet-interactive"),this._fireEvent([g],s,"mouseover"),this._hoveredLayer=g)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(gt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,d){this._map._fireDOMEvent(l,d||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var d=l.next,g=l.prev;if(!d)return;d.prev=g,g?g.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var d=l.next,g=l.prev;if(!g)return;g.next=d,d?d.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function xn(s){return U.canvas?new wo(s):null}var qi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Cr={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Se.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=qi("shape");q(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=qi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[et(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;yt(l),s.removeInteractiveTarget(l),delete this._layers[et(s)]},_updateStyle:function(s){var l=s._stroke,d=s._fill,g=s.options,_=s._container;_.stroked=!!g.stroke,_.filled=!!g.fill,g.stroke?(l||(l=s._stroke=qi("stroke")),_.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,l.dashStyle=g.dashArray?Ut(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):"",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(_.removeChild(l),s._stroke=null),g.fill?(d||(d=s._fill=qi("fill")),_.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(_.removeChild(d),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),d=Math.round(s._radius),g=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+g+" 0,23592600")},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){ei(s._container)},_bringToBack:function(s){ii(s._container)}},wn=U.vml?qi:zn,Mi=Se.extend({_initContainer:function(){this._container=wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yt(this._container),ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Se.prototype._update.call(this);var s=this._bounds,l=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),xt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=wn("path");s.options.className&&q(l,s.options.className),s.options.interactive&&q(l,"leaflet-interactive"),this._updateStyle(s),this._layers[et(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){yt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[et(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,d=s.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Zs(s._parts,l))},_updateCircle:function(s){var l=s._point,d=Math.max(Math.round(s._radius),1),_="a"+d+","+(Math.max(Math.round(s._radiusY),1)||d)+" 0 1,0 ",y=s._empty()?"M0 0":"M"+(l.x-d)+","+l.y+_+2*d+",0 "+_+2*-d+",0 ";this._setPath(s,y)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){ei(s._path)},_bringToBack:function(s){ii(s._path)}});function ms(s){return U.svg||U.vml?new Mi(s):null}U.vml&&Mi.include(Cr),lt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var l=this._paneRenderers[s];return void 0===l&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&xn(s)||ms(s)}});var Pn=li.extend({initialize:function(s,l){li.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=Ot(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});Mi.create=wn,Mi.pointsToPath=Zs,Be.geometryToLayer=_n,Be.coordsToLatLng=fs,Be.coordsToLatLngs=Ne,Be.latLngToCoords=vn,Be.latLngsToCoords=Gi,Be.getFeature=hi,Be.asFeature=Yi,lt.mergeOptions({boxZoom:!0});var Po=Gt.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),bi(),Jn(),this._startPoint=this._map.mouseEventToContainerPoint(s),G(document,{contextmenu:Ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),q(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new wt(this._point,this._startPoint),d=l.getSize();xt(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(yt(this._box),nt(this._container,"leaflet-crosshair")),ni(),Qn(),ut(document,{contextmenu:Ae,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(gt(this._resetState,this),0);var l=new Ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});lt.addInitHook("addHandler","boxZoom",Po),lt.mergeOptions({doubleClickZoom:!0});var Ci=Gt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,d=l.getZoom(),g=l.options.zoomDelta,_=s.originalEvent.shiftKey?d-g:d+g;"center"===l.options.doubleClickZoom?l.setZoom(_):l.setZoomAround(s.containerPoint,_)}});lt.addInitHook("addHandler","doubleClickZoom",Ci),lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mn=Gt.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xe(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}q(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nt(this._map._container,"leaflet-grab"),nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Ot(this._map.options.maxBounds);this._offsetLimit=jt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,_=(g-l+d)%s+l-d,y=(g+l+d)%s-l-d,C=Math.abs(_+d)<Math.abs(y+d)?_:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var l=this._map,d=l.options,g=!d.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),g)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),C=d.easeLinearity,T=_.multiplyBy(C/((this._lastTime-this._times[0])/1e3)),D=T.distanceTo([0,0]),F=Math.min(d.inertiaMaxSpeed,D),H=T.multiplyBy(F/D),Z=F/(d.inertiaDeceleration*C),tt=H.multiplyBy(-Z/2).round();tt.x||tt.y?(tt=l._limitOffset(tt,l.options.maxBounds),Zt(function(){l.panBy(tt,{duration:Z,easeLinearity:C,noMoveStart:!0,animate:!0})})):l.fire("moveend")}}});lt.addInitHook("addHandler","dragging",Mn),lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _s=Gt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),G(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,d=s.scrollTop||l.scrollTop,g=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var g,_,l=this._panKeys={},d=this.keyCodes;for(g=0,_=d.left.length;g<_;g++)l[d.left[g]]=[-1*s,0];for(g=0,_=d.right.length;g<_;g++)l[d.right[g]]=[s,0];for(g=0,_=d.down.length;g<_;g++)l[d.down[g]]=[0,s];for(g=0,_=d.up.length;g<_;g++)l[d.up[g]]=[0,-1*s]},_setZoomDelta:function(s){var g,_,l=this._zoomKeys={},d=this.keyCodes;for(g=0,_=d.zoomIn.length;g<_;g++)l[d.zoomIn[g]]=s;for(g=0,_=d.zoomOut.length;g<_;g++)l[d.zoomOut[g]]=-s},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var g,l=s.keyCode,d=this._map;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[l],s.shiftKey&&(g=Y(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(Y(g),d.options.maxBounds)),d.options.worldCopyJump){var _=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(_)}else d.panBy(g)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else{if(27!==l||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}Ae(s)}}});lt.addInitHook("addHandler","keyboard",_s),lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mo=Gt.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Vi(s),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(gt(this._performZoom,this),g),Ae(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,y=d?Math.ceil(_/d)*d:_,C=s._limitZoom(l+(this._delta>0?y:-y))-l;this._delta=0,this._startTime=null,C&&("center"===s.options.scrollWheelZoom?s.setZoom(l+C):s.setZoomAround(this._lastMousePos,l+C))}});lt.addInitHook("addHandler","scrollWheelZoom",Mo);lt.mergeOptions({tapHold:U.touchNative&&U.safari&&U.mobile,tapTolerance:15});var Co=Gt.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var l=s.touches[0];this._startPos=this._newPos=new $(l.clientX,l.clientY),this._holdTimeout=setTimeout(gt(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",Rt),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),600),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ut(document,"touchend",Rt),ut(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new $(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});lt.addInitHook("addHandler","tapHold",Co),lt.mergeOptions({touchZoom:U.touch,bounceAtZoomLimits:!0});var So=Gt.extend({addHooks:function(){q(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(s.touches&&2===s.touches.length&&!l._animatingZoom&&!this._zooming){var d=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),"center"!==l.options.touchZoom&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),Rt(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var l=this._map,d=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]),_=d.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1===_)return}else{var y=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(1===_&&0===y.x&&0===y.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var C=gt(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Zt(C,this,!0),Rt(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,ne(this._animRequest),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});lt.addInitHook("addHandler","touchZoom",So),lt.BoxZoom=Po,lt.DoubleClickZoom=Ci,lt.Drag=Mn,lt.Keyboard=_s,lt.ScrollWheelZoom=Mo,lt.TapHold=Co,lt.TouchZoom=So,B.Bounds=wt,B.Browser=U,B.CRS=Oe,B.Canvas=wo,B.Circle=Pi,B.CircleMarker=Pe,B.Class=he,B.Control=Ft,B.DivIcon=_o,B.DivOverlay=Ce,B.DomEvent=sr,B.DomUtil=nr,B.Draggable=xe,B.Evented=Oi,B.FeatureGroup=pe,B.GeoJSON=Be,B.GridLayer=$i,B.Handler=Gt,B.Icon=Fe,B.ImageOverlay=bn,B.LatLng=ht,B.LatLngBounds=Ht,B.Layer=Yt,B.LayerGroup=wi,B.LineUtil=fr,B.Map=lt,B.Marker=we,B.Mixin=lr,B.Path=qe,B.Point=$,B.PolyUtil=cs,B.Polygon=li,B.Polyline=Me,B.Popup=yn,B.PosAnimation=io,B.Projection=gr,B.Rectangle=Pn,B.Renderer=Se,B.SVG=Mi,B.SVGOverlay=po,B.TileLayer=di,B.Tooltip=Xi,B.Transformation=Ze,B.Util=An,B.VideoOverlay=fo,B.bind=gt,B.bounds=jt,B.canvas=xn,B.circle=function yr(s,l,d){return new Pi(s,l,d)},B.circleMarker=function br(s,l){return new Pe(s,l)},B.control=Ie,B.divIcon=function vo(s){return new _o(s)},B.extend=J,B.featureGroup=function(s,l){return new pe(s,l)},B.geoJSON=ps,B.geoJson=uo,B.gridLayer=function Mr(s){return new $i(s)},B.icon=function mn(s){return new Fe(s)},B.imageOverlay=function(s,l,d){return new bn(s,l,d)},B.latLng=at,B.latLngBounds=Ot,B.layerGroup=function(s,l){return new wi(s,l)},B.map=function or(s,l){return new lt(s,l)},B.marker=function vr(s,l){return new we(s,l)},B.point=Y,B.polygon=function ci(s,l){return new li(s,l)},B.polyline=function xr(s,l){return new Me(s,l)},B.popup=function(s,l){return new yn(s,l)},B.rectangle=function Sr(s,l){return new Pn(s,l)},B.setOptions=ot,B.stamp=et,B.svg=ms,B.svgOverlay=function mo(s,l,d){return new po(s,l,d)},B.tileLayer=bo,B.tooltip=function(s,l){return new Xi(s,l)},B.transformation=Ti,B.version="1.9.4",B.videoOverlay=function go(s,l,d){return new fo(s,l,d)};var kr=window.L;B.noConflict=function(){return window.L=kr,this},window.L=B}(Fs)}}]);