<ion-header class="bg-red-700">
  <ion-toolbar color="danger">
    <ion-buttons slot="start">
      <ion-button fill="clear" (click)="goBack()">
        <ion-icon
          name="arrow-back-outline"
          slot="icon-only"
          class="text-white"
        ></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="text-white font-bold">Report Issue</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="background-logo"></div>
  <div
    class="report-container max-w-md mx-auto bg-white rounded-lg shadow-lg p-6"
  >
    <h2 class="text-2xl text-center font-bold text-red-700 mb-2">
      Report Issue
    </h2>
    <p class="text-center text-sm text-gray-500 mb-6">
      Help us improve by reporting an issue
    </p>

    <ion-item class="rounded-input mb-4">
      <ion-label position="stacked" class="text-gray-700">Title</ion-label>
      <ion-input [(ngModel)]="report.title" name="title" required></ion-input>
    </ion-item>

    <ion-item class="rounded-input mb-4">
      <ion-label position="stacked" class="text-gray-700"
        >Description</ion-label
      >
      <ion-textarea
        [(ngModel)]="report.description"
        name="description"
        placeholder="Describe the issue..."
        required
      ></ion-textarea>
    </ion-item>

    <div class="mb-6">
      <label class="block text-gray-700 mb-2">Upload Image (Optional)</label>
      <ion-button
        expand="block"
        fill="outline"
        color="medium"
        (click)="selectImage()"
        class="rounded-full"
      >
        Add Image
      </ion-button>
      <input
        type="file"
        (change)="onFileSelected($event)"
        class="hidden"
        #fileInput
        id="fileInput"
      />

      <div
        *ngIf="imagePreview"
        class="image-preview-container mt-4 mb-4 flex justify-center"
      >
        <img
          [src]="imagePreview"
          alt="Image Preview"
          class="rounded-md max-h-40 object-cover"
        />
      </div>
    </div>

    <ion-button
      expand="block"
      fill="solid"
      color="danger"
      (click)="submitReport()"
      class="text-white font-semibold rounded-full"
    >
      Submit Report
    </ion-button>
  </div>

  <div
    *ngIf="lastSolvedReportMessage"
    class="alert bg-green-100 text-green-700 rounded-lg p-4 mb-4"
  >
    {{ lastSolvedReportMessage }}
  </div>
</ion-content>
